!function(){function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}return t}()({1:[function(t,e,n){!function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,s=o[0],a="["+(t?t+":":"")+s+"] ",u=o[1];for(a+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?yt(o[n]):t}),a+="\nhttp://errors.angularjs.org/1.5.8/"+(t?t+"/":"")+s,i=r,n="?";i<o.length;i++,n="&")a+=n+"p"+(i-r)+"="+encodeURIComponent(yt(o[i]));return new e(a)}}function n(t){if(null==t||$(t))return!1;if(Zi(t)||w(t)||Ri&&t instanceof Ri)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,s;if(t)if(E(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(r,t[o],o,t);else if(Zi(t)||n(t)){var a="object"!=typeof t;for(o=0,s=t.length;o<s;o++)(a||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if(b(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)Pi.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function s(){return++Gi}function a(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(_(s)||E(s))for(var c=Object.keys(s),l=0,h=c.length;l<h;l++){var f=c[l],d=s[f];n&&_(d)?k(d)?t[f]=new Date(d.valueOf()):C(d)?t[f]=new RegExp(d):d.nodeName?t[f]=d.cloneNode(!0):M(d)?t[f]=d.clone():(_(t[f])||(t[f]=Zi(d)?[]:{}),u(t[f],[d],!0)):t[f]=d}}return a(t,i),t}function c(t){return u(t,qi.call(arguments,1),!1)}function l(t){return u(t,qi.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function f(t,e){return c(Object.create(t),e)}function d(){}function p(t){return t}function m(t){return function(){return t}}function v(t){return E(t.toString)&&t.toString!==Hi}function g(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!zi(t)}function w(t){return"string"==typeof t}function x(t){return"number"==typeof t}function k(t){return"[object Date]"===Hi.call(t)}function E(t){return"function"==typeof t}function C(t){return"[object RegExp]"===Hi.call(t)}function $(t){return t&&t.window===t}function S(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===Hi.call(t)}function D(t){return"[object FormData]"===Hi.call(t)}function A(t){return"[object Blob]"===Hi.call(t)}function j(t){return"boolean"==typeof t}function P(t){return t&&E(t.then)}function O(t){return t&&x(t.length)&&Xi.test(Hi.call(t))}function N(t){return"[object ArrayBuffer]"===Hi.call(t)}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function L(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function I(t){return Oi(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function F(t,e){function n(t,e){var n,i=e.$$hashKey;if(Zi(t))for(var o=0,s=t.length;o<s;o++)e.push(r(t[o]));else if(b(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Pi.call(t,n)&&(e[n]=r(t[n]));return a(e,i),e}function r(t){if(!_(t))return t;var e=s.indexOf(t);if(e!==-1)return u[e];if($(t)||S(t))throw Wi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=Zi(t)?[]:Object.create(zi(t)),i=!0),s.push(t),u.push(r),i?n(t,r):r}function o(t){switch(Hi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(E(t.cloneNode))return t.cloneNode(!0)}var s=[],u=[];if(e){if(O(e)||N(e))throw Wi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Wi("cpi","Can't copy! Source and destination are identical.");return Zi(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),s.push(t),u.push(e),n(t,e)}return r(t)}function U(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,s=typeof e;if(o==s&&"object"==o){if(!Zi(t)){if(k(t))return!!k(e)&&U(t.getTime(),e.getTime());if(C(t))return!!C(e)&&t.toString()==e.toString();if(S(t)||S(e)||$(t)||$(e)||Zi(e)||k(e)||C(e))return!1;r=pt();for(i in t)if("$"!==i.charAt(0)&&!E(t[i])){if(!U(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!E(e[i]))return!1;return!0}if(!Zi(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!U(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(qi.call(e,n))}function V(t,e){return qi.call(t,e||0)}function B(t,e){var n=arguments.length>2?V(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:$(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":S(n)&&(i="$SCOPE"),i}function z(t,e){if(!g(t))return x(e)||(e=e?2:null),JSON.stringify(t,H,e)}function W(t){return w(t)?JSON.parse(t):t}function Y(t,e){t=t.replace(er,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=Y(e,i);return G(t,n*(r-i))}function X(t){t=Ri(t).clone();try{t.empty()}catch(e){}var n=Ri("<div>").append(t).html();try{return t[0].nodeType===ar?Oi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Oi(e)})}catch(e){return Oi(n)}}function J(t){try{return decodeURIComponent(t)}catch(e){}}function Q(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(i=t.substring(0,n),r=t.substring(n+1)),i=J(i),y(i)&&(r=!y(r)||J(r),Pi.call(e,i)?Zi(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function K(t){var e=[];return i(t,function(t,n){Zi(t)?i(t,function(t){e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}):e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}),e.length?e.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function nt(t,e){var n,i,r=nr.length;for(i=0;i<r;++i)if(n=nr[i]+e,w(n=t.getAttribute(n)))return n;return null}function it(t,e){var n,r,o={};i(nr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),i(nr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==nt(n,"strict-di"),e(n,r?[r]:[],o))}function rt(e,n,r){_(r)||(r={});var o={strictDi:!1};r=c(o,r);var s=function(){if(e=Ri(e),e.injector()){var i=e[0]===t.document?"document":X(e);throw Wi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ie(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Yi.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),s()},void(E(Yi.resumeDeferredBootstrap)&&Yi.resumeDeferredBootstrap()))}function ot(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function st(t){var e=Yi.element(t).injector();if(!e)throw Wi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function at(t,e){return e=e||"_",t.replace(ir,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(){var e;if(!rr){var n=tr();Fi=g(n)?t.jQuery:n?t[n]:void 0,Fi&&Fi.fn.on?(Ri=Fi,c(Fi.fn,{scope:$r.scope,isolateScope:$r.isolateScope,controller:$r.controller,injector:$r.injector,inheritedData:$r.inheritedData}),e=Fi.cleanData,Fi.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=Fi._data(i,"events"),n&&n.$destroy&&Fi(i).triggerHandler("$destroy");e(t)}):Ri=Dt,Yi.element=Ri,rr=!0}}function ct(t,e,n){if(!t)throw Wi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function lt(t,e,n){return n&&Zi(t)&&(t=t[t.length-1]),ct(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ht(t,e){if("hasOwnProperty"===t)throw Wi("badname","hasOwnProperty is not a valid {0} name",e)}function ft(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;a<s;a++)i=r[a],t&&(t=(o=t)[i]);return!n&&E(t)?B(o,t):t}function dt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Ri(qi.call(t,0,r))),e.push(n));return e||t}function pt(){return Object.create(null)}function mt(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),l}}function n(t,n){return function(i,o){return o&&E(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),l}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],a=[],u=[],c=t("$injector","invoke","push",a),l={_invokeQueue:r,_configBlocks:a,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(t){return u.push(t),this}};return s&&c(s),l})}})}function vt(t,e){if(Zi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function gt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),_(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):g(t)?"undefined":"string"!=typeof t?gt(t):t}function _t(n){c(n,{bootstrap:rt,copy:F,extend:c,merge:l,equals:U,element:Ri,forEach:i,injector:ie,noop:d,bind:B,toJson:z,fromJson:W,identity:p,isUndefined:g,isDefined:y,isString:w,isFunction:E,isObject:_,isNumber:x,isElement:M,isArray:Zi,version:hr,isDate:k,lowercase:Oi,uppercase:Ni,callbacks:{$$counter:0},getTestability:st,$$minErr:e,$$csp:Ki,reloadWithDebugInfo:ot}),(Ui=mt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Cn}),t.provider("$compile",pe).directive({a:Mo,input:ts,textarea:ts,form:Uo,script:Zs,select:Qs,style:ta,option:Ks,ngBind:is,ngBindHtml:os,ngBindTemplate:rs,ngClass:as,ngClassEven:cs,ngClassOdd:us,ngCloak:ls,ngController:hs,ngForm:qo,ngHide:Vs,ngIf:ps,ngInclude:ms,ngInit:gs,ngNonBindable:Os,ngPluralize:Is,ngRepeat:Rs,ngShow:qs,ngStyle:Bs,ngSwitch:Hs,ngSwitchWhen:zs,ngSwitchDefault:Ws,ngOptions:Ls,ngTransclude:Gs,ngModel:As,ngList:ys,ngChange:ss,pattern:na,ngPattern:na,required:ea,ngRequired:ea,minlength:ra,ngMinlength:ra,maxlength:ia,ngMaxlength:ia,ngValue:ns,ngModelOptions:Ps}).directive({ngInclude:vs}).directive(Lo).directive(fs),t.provider({$anchorScroll:re,$animate:Vr,$animateCss:zr,$$animateJs:Ur,$$animateQueue:qr,$$AnimateRunner:Hr,$$animateAsyncRun:Br,$browser:le,$cacheFactory:he,$controller:be,$document:we,$exceptionHandler:xe,$filter:Fn,$$forceReflow:Jr,$interpolate:Le,$interval:Ie,$http:Pe,$httpParamSerializer:Ee,$httpParamSerializerJQLike:Ce,$httpBackend:Ne,$xhrFactory:Oe,$jsonpCallbacks:so,$location:Qe,$log:Ke,$parse:_n,$rootScope:En,$q:bn,$$q:wn,$sce:Dn,$sceDelegate:Tn,$sniffer:An,$templateCache:fe,$templateRequest:jn,$$testability:Pn,$timeout:On,$window:Ln,$$rAF:kn,$$jqLite:Xt,$$HashMap:Ar,$$cookieReader:Rn})}])}function bt(){return++dr}function wt(t){return t.replace(vr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(gr,"Moz$1")}function xt(t){return!wr.test(t)}function kt(t){var e=t.nodeType;return e===or||!e||e===cr}function Et(t){for(var e in fr[t.ng339])return!0;return!1}function Ct(t){for(var e=0,n=t.length;e<n;e++)Ot(t[e])}function $t(t,e){var n,r,o,s,a=e.createDocumentFragment(),u=[];if(xt(t))u.push(e.createTextNode(t));else{for(n=a.appendChild(e.createElement("div")),r=(xr.exec(t)||["",""])[1].toLowerCase(),o=Er[r]||Er._default,n.innerHTML=o[1]+t.replace(kr,"<$1></$2>")+o[2],s=o[0];s--;)n=n.lastChild;u=q(u,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",i(u,function(t){a.appendChild(t)}),a}function St(e,n){n=n||t.document;var i;return(i=br.exec(e))?[n.createElement(i[1])]:(i=$t(e,n))?i.childNodes:[]}function Tt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Dt(t){if(t instanceof Dt)return t;var e;if(w(t)&&(t=Ji(t),e=!0),!(this instanceof Dt)){if(e&&"<"!=t.charAt(0))throw _r("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Dt(t)}e?Ft(this,St(t)):Ft(this,t)}function At(t){return t.cloneNode(!0)}function jt(t,e){if(e||Ot(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Ot(n[i])}function Pt(t,e,n,r){if(y(r))throw _r("offargs","jqLite#off() does not support the `selector` argument");var o=Nt(t),s=o&&o.events,a=o&&o.handle;if(a)if(e){var u=function(e){var i=s[e];y(n)&&R(i||[],n),y(n)&&i&&i.length>0||(mr(t,e,a),delete s[e])};i(e.split(" "),function(t){u(t),yr[t]&&u(yr[t])})}else for(e in s)"$destroy"!==e&&mr(t,e,a),delete s[e]}function Ot(t,e){var n=t.ng339,i=n&&fr[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pt(t)),delete fr[n],t.ng339=void 0}}function Nt(t,e){var n=t.ng339,i=n&&fr[n];return e&&!i&&(t.ng339=n=bt(),i=fr[n]={events:{},data:{},handle:void 0}),i}function Mt(t,e,n){if(kt(t)){var i=y(n),r=!i&&e&&!_(e),o=!e,s=Nt(t,!r),a=s&&s.data;if(i)a[e]=n;else{if(o)return a;if(r)return a&&a[e];c(a,e)}}}function Lt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function It(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",Ji((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ji(e)+" "," ")))})}function Rt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=Ji(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",Ji(n))}}function Ft(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ut(t,e){return qt(t,"$"+(e||"ngController")+"Controller")}function qt(t,e,n){t.nodeType==cr&&(t=t.documentElement);for(var i=Zi(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(y(n=Ri.data(t,i[r])))return n;t=t.parentNode||t.nodeType===lr&&t.host}}function Vt(t){for(jt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Bt(t,e){e||jt(t);var n=t.parentNode;n&&n.removeChild(t)}function Ht(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ri(n).on("load",e)}function zt(t,e){var n=Sr[e.toLowerCase()];return n&&Tr[I(t)]&&n}function Wt(t){return Dr[t]}function Yt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(g(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=r.specialHandlerWrapper||Gt;o>1&&(r=vt(r));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||a(t,n,r[u])}};return n.elem=t,n}function Gt(t,e,n){n.call(t,e)}function Zt(t,e,n){var i=e.relatedTarget;i&&(i===t||Cr.call(t,i))||n.call(t,e)}function Xt(){this.$get=function(){return c(Dt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Rt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),It(t,e)}})}}function Jt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||s)():i+":"+t}function Qt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function Kt(t){return Function.prototype.toString.call(t)+" "}function te(t){var e=Kt(t).replace(Mr,""),n=e.match(jr)||e.match(Pr);return n}function ee(t){var e=te(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ne(t,e,n){var r,o,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw w(n)&&n||(n=t.name||ee(t)),Lr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=te(t),i(o[1].split(Or),function(t){t.replace(Nr,function(t,e,n){r.push(n)})})}t.$inject=r}}else Zi(t)?(s=t.length-1,lt(t[s],"fn"),r=t.slice(0,s)):lt(t,"fn",!0);return r}function ie(t,e){function n(t){return function(e,n){return _(e)?void i(e,o(t)):t(e,n)}}function r(t,e){if(ht(t,"service"),(E(e)||Zi(e))&&(e=k.instantiate(e)),!e.$get)throw Lr("pget","Provider '{0}' must define $get factory method.",t);return x[t+v]=e}function s(t,e){return function(){var n=S.invoke(e,this);if(g(n))throw Lr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:n!==!1?s(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,m(e),!1)}function l(t,e){ht(t,"constant"),x[t]=e,C[t]=e}function h(t,e){var n=k.get(t+v),i=n.$get;n.$get=function(){var t=S.invoke(i,n);return S.invoke(e,null,{$delegate:t})}}function f(t){ct(g(t)||Zi(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=k.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(t)){b.put(t,!0);try{w(t)?(e=Ui(t),n=n.concat(f(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):E(t)?n.push(k.invoke(t)):Zi(t)?n.push(k.invoke(t)):lt(t,"module")}catch(r){throw Zi(t)&&(t=t[t.length-1]),r.message&&r.stack&&r.stack.indexOf(r.message)==-1&&(r=r.message+"\n"+r.stack),Lr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function d(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===p)throw Lr("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=p,t[e]=n(e,i)}catch(r){throw t[e]===p&&delete t[e],r}finally{y.shift()}}function r(t,n,r){for(var o=[],s=ie.$$annotate(t,e,r),a=0,u=s.length;a<u;a++){var c=s[a];if("string"!=typeof c)throw Lr("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return o}function o(t){return!(Ii<=11)&&("function"==typeof t&&/^(?:class\b|constructor\()/.test(Kt(t)))}function s(t,e,n,i){"string"==typeof n&&(i=n,n=null);var s=r(t,n,i);return Zi(t)&&(t=t[t.length-1]),o(t)?(s.unshift(null),new(Function.prototype.bind.apply(t,s))):t.apply(e,s)}function a(t,e,n){var i=Zi(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:s,instantiate:a,get:i,annotate:ie.$$annotate,has:function(e){return x.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var p={},v="Provider",y=[],b=new Qt([],(!0)),x={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:h}},k=x.$injector=d(x,function(t,e){throw Yi.isString(e)&&y.push(e),Lr("unpr","Unknown provider: {0}",y.join(" <- "))}),C={},$=d(C,function(t,e){var n=k.get(t+v,e);return S.invoke(n.$get,n,void 0,t)}),S=$;x["$injector"+v]={$get:m($)};var T=f(t);return S=$.get("$injector"),S.strictDi=e,i(T,function(t){t&&S.invoke(t)}),S}function re(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===I(t))return e=t,!0}),e}function o(){var t=a.yOffset;if(E(t))t=t();else if(M(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(t){t=w(t)?t:n.hash();var e;t?(e=u.getElementById(t))?s(e):(e=r(u.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ht(function(){i.$evalAsync(a)})}),a}]}function oe(t,e){return t||e?t?e?(Zi(t)&&(t=t.join(" ")),Zi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function se(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Rr)return n}}function ae(t){w(t)&&(t=t.split(" "));var e=pt();return i(t,function(t){t.length&&(e[t]=!0)}),e}function ue(t){return _(t)?t:{}}function ce(t,e,n,r){function o(t){try{t.apply(null,V(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function s(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function a(){E=null,u(),c()}function u(){b=C(),b=g(b)?null:b,U(b,T)&&(b=T),T=b}function c(){x===l.url()&&w===b||(x=l.url(),w=b,i($,function(t){t(l.url(),b)}))}var l=this,h=t.location,f=t.history,p=t.setTimeout,m=t.clearTimeout,v={};l.isMock=!1;var y=0,_=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){y++},l.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var b,w,x=h.href,k=e.find("base"),E=null,C=r.history?function(){try{return f.state}catch(t){}}:d;u(),w=b,l.url=function(e,n,i){if(g(i)&&(i=null),h!==t.location&&(h=t.location),f!==t.history&&(f=t.history),e){var o=w===i;if(x===e&&(!r.history||o))return l;var a=x&&Be(x)===Be(e);return x=e,w=i,!r.history||a&&o?(a||(E=e),n?h.replace(e):a?h.hash=s(e):h.href=e,h.href!==e&&(E=e)):(f[n?"replaceState":"pushState"](i,"",e),u(),w=b),E&&(E=e),l}return E||h.href.replace(/%27/g,"'")},l.state=function(){return b};var $=[],S=!1,T=null;l.onUrlChange=function(e){return S||(r.history&&Ri(t).on("popstate",a),Ri(t).on("hashchange",a),S=!0),$.push(e),e},l.$$applicationDestroyed=function(){Ri(t).off("hashchange popstate",a)},l.$$checkUrlChange=c,l.baseHref=function(){var t=k.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return y++,n=p(function(){delete v[n],o(t)},e||0),v[n]=!0,n},l.defer.cancel=function(t){return!!v[t]&&(delete v[t],m(t),o(d),!0)}}function le(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ce(t,i,e,n)}]}function he(){this.$get=function(){function t(t,i){function r(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=c({},i,{id:t}),u=pt(),l=i&&i.capacity||Number.MAX_VALUE,h=pt(),f=null,d=null;return n[t]={put:function(t,e){if(!g(e)){if(l<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return t in u||s++,u[t]=e,s>l&&this.remove(d.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete h[t]}t in u&&(delete u[t],s--)},removeAll:function(){u=pt(),s=0,h=pt(),f=d=null},destroy:function(){u=null,a=null,h=null,delete n[t]},info:function(){return c({},a,{size:s})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function fe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function de(){}function pe(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=pt();return i(t,function(t,i){if(t in $)return void(o[i]=$[t]);var s=t.match(r);if(!s)throw Wr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||i},s[4]&&($[t]=o[i])}),o}function s(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),_(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw Wr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!_e(i,o))throw Wr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function a(t){var e=t.charAt(0);if(!e||e!==Oi(e))throw Wr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Wr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!Zi(e)&&_(e)&&i(e,function(t,n){var i=t.match(k),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}var l={},h="Directive",v=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,b=/(([\w\-]+)(?:\:([^;]+))?;?)/,x=L("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/,$=pt();this.directive=function A(t,n){return ht(t,"directive"),w(t)?(a(t),ct(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+h,["$injector","$exceptionHandler",function(e,n){var r=[];return i(l[t],function(i,o){try{var s=e.invoke(i);E(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=u(s),s.restrict=s.restrict||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(a){n(a)}}),r}])),l[t].push(n)):i(t,o(A)),this},this.component=function(t,e){function n(t){function n(e){return E(e)||Zi(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",s={controller:r,controllerAs:_e(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(s[e]=t)}),s}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,E(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(t){return y(t)?(T=t,this):T};var D=10;this.onChangesTtl=function(t){return arguments.length?(D=t,this):D},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,a,u,m,$,A,P){function O(){try{if(!--kt)throw _t=void 0,Wr("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);m.$apply(function(){for(var t=[],e=0,n=_t.length;e<n;++e)try{_t[e]()}catch(i){t.push(i)}if(_t=void 0,t.length)throw t})}finally{kt++}}function N(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function M(t,e,n){wt.innerHTML="<span "+e+">";var i=wt.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function L(t,e){try{t.addClass(e)}catch(n){}}function F(e,n,i,r,o){e instanceof Ri||(e=Ri(e));for(var s=/\S+/,a=0,u=e.length;a<u;a++){var c=e[a];c.nodeType===ar&&c.nodeValue.match(s)&&Tt(c,e[a]=t.document.createElement("span"))}var l=H(e,n,e,i,r,o);F.$$addScopeClass(e);var h=null;return function(t,n,i){ct(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,s=i.transcludeControllers,a=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=q(a));var u;if(u="html"!==h?Ri(ht(h,Ri("<div>").append(e).html())):n?$r.clone.call(e):e,s)for(var c in s)u.data("$"+c+"Controller",s[c].instance);return F.$$addScopeInfo(u,t),n&&n(u,t),l&&l(t,u,u,r),u}}function q(t){var e=t&&t[0];return e&&"foreignobject"!==I(e)&&Hi.call(e).match(/SVG/)?"svg":"html"}function H(t,e,n,i,r,o){function s(t,n,i,r){var o,s,a,u,c,l,h,f,m;if(d){var v=n.length;for(m=new Array(v),c=0;c<p.length;c+=3)h=p[c],m[h]=n[h]}else m=n;for(c=0,l=p.length;c<l;)a=m[p[c++]],o=p[c++],s=p[c++],o?(o.scope?(u=t.$new(),F.$$addScopeInfo(Ri(a),u)):u=t,f=o.transcludeOnThisElement?z(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?z(t,e):null,o(s,u,a,i,f)):s&&s(t,a.childNodes,void 0,r)}for(var a,u,c,l,h,f,d,p=[],m=0;m<t.length;m++)a=new N,u=W(t[m],[],a,0===m?i:void 0,r),c=u.length?Q(u,t[m],a,e,n,null,[],[],o):null,c&&c.scope&&F.$$addScopeClass(a.$$element),h=c&&c.terminal||!(l=t[m].childNodes)||!l.length?null:H(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||h)&&(p.push(m,c,h),f=!0,d=d||c),o=null;return f?s:null}function z(t,e,n){function i(i,r,o,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r=i.$$slots=pt();for(var o in e.$$slots)e.$$slots[o]?r[o]=z(t,e.$$slots[o],n):r[o]=null;return i}function W(t,e,n,i,r){var o,s,a=t.nodeType,u=n.$attr;switch(a){case or:nt(e,ve(I(t)),"E",i,r);for(var c,l,h,f,d,p,m=t.attributes,v=0,g=m&&m.length;v<g;v++){var y=!1,x=!1;c=m[v],l=c.name,d=Ji(c.value),f=ve(l),(p=St.test(f))&&(l=l.replace(Gr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=f.match(Dt);k&&it(k[1])&&(y=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),h=ve(l.toLowerCase()),u[h]=l,!p&&n.hasOwnProperty(h)||(n[h]=d,zt(t,h)&&(n[h]=!0)),dt(t,e,d,h,p),
nt(e,h,"A",i,r,y,x)}if(s=t.className,_(s)&&(s=s.animVal),w(s)&&""!==s)for(;o=b.exec(s);)h=ve(o[2]),nt(e,h,"C",i,r)&&(n[h]=Ji(o[3])),s=s.substr(o.index+o[0].length);break;case ar:if(11===Ii)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===ar;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);lt(e,t.nodeValue);break;case ur:Y(t,e,n,i,r)}return e.sort(st),e}function Y(t,e,n,i,r){try{var o=v.exec(t.nodeValue);if(o){var s=ve(o[1]);nt(e,s,"M",i,r)&&(n[s]=Ji(o[2]))}}catch(a){}}function G(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Wr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==or&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Ri(i)}function Z(t,e,n){return function(i,r,o,s,a){return r=G(r[0],e,n),t(i,r,o,s,a)}}function J(t,e,n,i,r,o){var s;return t?F(e,n,i,r,o):function(){return s||(s=F(e,n,i,r,o),e=n=o=null),s.apply(this,arguments)}}function Q(t,e,n,o,s,a,u,l,h){function f(t,e,n,i){t&&(n&&(t=Z(t,n,i)),t.require=p.require,t.directiveName=m,(C===p||p.$$isolateScope)&&(t=vt(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=Z(e,n,i)),e.require=p.require,e.directiveName=m,(C===p||p.$$isolateScope)&&(e=vt(e,{isolateScope:!0})),l.push(e))}function d(t,o,s,a,h){function f(t,e,n,i){var r;if(S(t)||(i=n,n=e,e=t,t=void 0),j&&(r=b),n||(n=j?T.parent():T),!i)return h(t,e,r,n,R);var o=h.$$slots[i];if(o)return o(t,e,r,n,R);if(g(o))throw Wr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,X(T))}var d,p,m,v,y,b,w,T,D,A;e===s?(D=n,T=n.$$element):(T=Ri(s),D=new N(T,n)),y=o,C?v=o.$new(!0):x&&(y=o.$parent),h&&(w=f,w.$$boundTransclude=h,w.isSlotFilled=function(t){return!!h.$$slots[t]}),k&&(b=tt(T,D,w,k,v,o,C)),C&&(F.$$addScopeInfo(T,v,!0,!($&&($===C||$===C.$$originalDirective))),F.$$addScopeClass(T,!0),v.$$isolateBindings=C.$$isolateBindings,A=yt(o,D,v,v.$$isolateBindings,C),A.removeWatches&&v.$on("$destroy",A.removeWatches));for(var P in b){var O=k[P],M=b[P],L=O.$$bindings.bindToController;M.identifier&&L?M.bindingInfo=yt(y,D,M.instance,L,O):M.bindingInfo={};var I=M();I!==M.instance&&(M.instance=I,T.data("$"+O.name+"Controller",I),M.bindingInfo.removeWatches&&M.bindingInfo.removeWatches(),M.bindingInfo=yt(y,D,M.instance,L,O))}for(i(k,function(t,e){var n=t.require;t.bindToController&&!Zi(n)&&_(n)&&c(b[e].instance,K(e,n,T,b))}),i(b,function(t){var e=t.instance;if(E(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if(E(e.$onInit))try{e.$onInit()}catch(n){r(n)}E(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),E(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),d=0,p=u.length;d<p;d++)m=u[d],gt(m,m.isolateScope?v:o,T,D,m.require&&K(m.directiveName,m.require,T,b),w);var R=o;for(C&&(C.template||null===C.templateUrl)&&(R=v),t&&t(R,s.childNodes,void 0,h),d=l.length-1;d>=0;d--)m=l[d],gt(m,m.isolateScope?v:o,T,D,m.require&&K(m.directiveName,m.require,T,b),w);i(b,function(t){var e=t.instance;E(e.$postLink)&&e.$postLink()})}h=h||{};for(var p,m,v,y,b,w=-Number.MAX_VALUE,x=h.newScopeDirective,k=h.controllerDirectives,C=h.newIsolateScopeDirective,$=h.templateDirective,T=h.nonTlbTranscludeDirective,D=!1,A=!1,j=h.hasElementTranscludeDirective,P=n.$$element=Ri(e),O=a,M=o,L=!1,R=!1,U=0,q=t.length;U<q;U++){p=t[U];var H=p.$$start,z=p.$$end;if(H&&(P=G(e,H,z)),v=void 0,w>p.priority)break;if((b=p.scope)&&(p.templateUrl||(_(b)?(ut("new/isolated scope",C||x,p,P),C=p):ut("new/isolated scope",C,p,P)),x=x||p),m=p.name,!L&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var Y,Q=U+1;Y=t[Q++];)if(Y.transclude&&!Y.$$tlb||Y.replace&&(Y.templateUrl||Y.template)){R=!0;break}L=!0}if(!p.templateUrl&&p.controller&&(b=p.controller,k=k||pt(),ut("'"+m+"' controller",k[m],p,P),k[m]=p),b=p.transclude)if(D=!0,p.$$tlb||(ut("transclusion",T,p,P),T=p),"element"==b)j=!0,w=p.priority,v=P,P=n.$$element=Ri(F.$$createComment(m,n[m])),e=P[0],mt(s,V(v),e),v[0].$$parentNode=v[0].parentNode,M=J(R,v,o,w,O&&O.name,{nonTlbTranscludeDirective:T});else{var nt=pt();if(v=Ri(At(e)).contents(),_(b)){v=[];var it=pt(),st=pt();i(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,it[t]=e,nt[e]=null,st[e]=n}),i(P.contents(),function(t){var e=it[ve(I(t))];e?(st[e]=!0,nt[e]=nt[e]||[],nt[e].push(t)):v.push(t)}),i(st,function(t,e){if(!t)throw Wr("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var at in nt)nt[at]&&(nt[at]=J(R,nt[at],o))}P.empty(),M=J(R,v,o,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),M.$$slots=nt}if(p.template)if(A=!0,ut("template",$,p,P),$=p,b=E(p.template)?p.template(P,n):p.template,b=$t(b),p.replace){if(O=p,v=xt(b)?[]:ye(ht(p.templateNamespace,Ji(b))),e=v[0],1!=v.length||e.nodeType!==or)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");mt(s,P,e);var ct={$attr:{}},lt=W(e,[],ct),ft=t.splice(U+1,t.length-(U+1));(C||x)&&et(lt,C,x),t=t.concat(lt).concat(ft),rt(n,ct),q=t.length}else P.html(b);if(p.templateUrl)A=!0,ut("template",$,p,P),$=p,p.replace&&(O=p),d=ot(t.splice(U,t.length-U),P,n,s,D&&M,u,l,{controllerDirectives:k,newScopeDirective:x!==p&&x,newIsolateScopeDirective:C,templateDirective:$,nonTlbTranscludeDirective:T}),q=t.length;else if(p.compile)try{y=p.compile(P,n,M);var dt=p.$$originalDirective||p;E(y)?f(null,B(dt,y),H,z):y&&f(B(dt,y.pre),B(dt,y.post),H,z)}catch(_t){r(_t,X(P))}p.terminal&&(d.terminal=!0,w=Math.max(w,p.priority))}return d.scope=x&&x.scope===!0,d.transcludeOnThisElement=D,d.templateOnThisElement=A,d.transclude=M,h.hasElementTranscludeDirective=j,d}function K(t,e,n,r){var o;if(w(e)){var s=e.match(k),a=e.substring(s[0].length),u=s[1]||s[3],c="?"===s[2];if("^^"===u?n=n.parent():(o=r&&r[a],o=o&&o.instance),!o){var l="$"+a+"Controller";o=u?n.inheritedData(l):n.data(l)}if(!o&&!c)throw Wr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Zi(e)){o=[];for(var h=0,f=e.length;h<f;h++)o[h]=K(t,e[h],n,r)}else _(e)&&(o={},i(e,function(e,i){o[i]=K(t,e,n,r)}));return o||null}function tt(t,e,n,i,r,o,s){var a=pt();for(var c in i){var l=i[c],h={$scope:l===s||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},f=l.controller;"@"==f&&(f=e[l.name]);var d=u(f,h,!0,l.controllerAs);a[l.name]=d,t.data("$"+l.name+"Controller",d.instance)}return a}function et(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=f(t[i],{$$isolateScope:e,$$newScope:n})}function nt(t,n,i,o,a,u,c){if(n===a)return null;var d=null;if(l.hasOwnProperty(n))for(var p,m=e.get(n+h),v=0,y=m.length;v<y;v++)try{if(p=m[v],(g(o)||o>p.priority)&&p.restrict.indexOf(i)!=-1){if(u&&(p=f(p,{$$start:u,$$end:c})),!p.$$bindings){var b=p.$$bindings=s(p,p.name);_(b.isolateScope)&&(p.$$isolateBindings=b.isolateScope)}t.push(p),d=p}}catch(w){r(w)}return d}function it(t){if(l.hasOwnProperty(t))for(var n,i=e.get(t+h),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function rt(t,e){var n=e.$attr,r=t.$attr;t.$$element;i(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ot(t,e,n,r,s,a,u,c){var l,h,d=[],p=e[0],m=t.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=E(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),o(g).then(function(o){var f,b,w,x;if(o=$t(o),m.replace){if(w=xt(o)?[]:ye(ht(y,Ji(o))),f=w[0],1!=w.length||f.nodeType!==or)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,g);b={$attr:{}},mt(r,e,f);var k=W(f,[],b);_(m.scope)&&et(k,!0),t=k.concat(t),rt(n,b)}else f=p,e.html(o);for(t.unshift(v),l=Q(t,f,n,s,e,m,a,u,c),i(r,function(t,n){t==f&&(r[n]=e[0])}),h=H(e[0].childNodes,s);d.length;){var E=d.shift(),C=d.shift(),$=d.shift(),S=d.shift(),T=e[0];if(!E.$$destroyed){if(C!==p){var D=C.className;c.hasElementTranscludeDirective&&m.replace||(T=At(f)),mt($,Ri(C),T),L(Ri(T),D)}x=l.transcludeOnThisElement?z(E,l.transclude,S):S,l(h,E,T,r,x)}}d=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(d?d.push(e,n,i,o):(l.transcludeOnThisElement&&(o=z(e,l.transclude,r)),l(h,e,n,i,o)))}}function st(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function ut(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Wr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,X(i))}function lt(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&F.$$addBindingClass(e),function(t,e){var r=e.parent();n||F.$$addBindingClass(r),F.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function ht(e,n){switch(e=Oi(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function ft(t,e){if("srcdoc"==e)return $.HTML;var n=I(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?$.RESOURCE_URL:void 0}function dt(t,e,i,r,o){var s=ft(t,r);o=x[r]||o;var a=n(i,!0,s,o);if(a){if("multiple"===r&&"select"===I(t))throw Wr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers=pt());if(C.test(r))throw Wr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[r];l!==i&&(a=l&&n(l,!0,s,o),i=l),a&&(u[r]=a(t),(c[r]||(c[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?u.$updateClass(t,e):u.$set(r,t)}))}}}})}}function mt(e,n,i){var r,o,s=n[0],a=n.length,u=s.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==s){e[r++]=i;for(var c=r,l=c+a-1,h=e.length;c<h;c++,l++)l<h?e[c]=e[l]:delete e[c];e.length-=a-1,e.context===s&&(e.context=i);break}u&&u.replaceChild(i,s);var f=t.document.createDocumentFragment();for(r=0;r<a;r++)f.appendChild(n[r]);for(Ri.hasData(s)&&(Ri.data(i,Ri.data(s)),Ri(s).off("$destroy")),Ri.cleanData(f.querySelectorAll("*")),r=1;r<a;r++)delete n[r];n[0]=i,n.length=1}function vt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function gt(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(a){r(a,X(n))}}function yt(t,e,r,o,s){function u(e,n,i){E(r.$onChanges)&&n!==i&&(_t||(t.$$postDigest(O),_t=[]),l||(l={},_t.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new me(i,n))}function c(){r.$onChanges(l),l=void 0}var l,h=[],f={};return i(o,function(i,o){var c,l,p,m,v,g=i.attrName,y=i.optional,_=i.mode;switch(_){case"@":y||Pi.call(e,g)||(r[o]=e[g]=void 0),e.$observe(g,function(t){if(w(t)||j(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[g].$$scope=t,c=e[g],w(c)?r[o]=n(c)(t):j(c)&&(r[o]=c),f[o]=new me(Yr,r[o]);break;case"=":if(!Pi.call(e,g)){if(y)break;e[g]=void 0}if(y&&!e[g])break;l=a(e[g]),m=l.literal?U:function(t,e){return t===e||t!==t&&e!==e},p=l.assign||function(){throw c=r[o]=l(t),Wr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,s.name)},c=r[o]=l(t);var b=function(e){return m(e,r[o])||(m(e,c)?p(t,e=r[o]):r[o]=e),c=e};b.$stateful=!0,v=i.collection?t.$watchCollection(e[g],b):t.$watch(a(e[g],b),null,l.literal),h.push(v);break;case"<":if(!Pi.call(e,g)){if(y)break;e[g]=void 0}if(y&&!e[g])break;l=a(e[g]);var x=r[o]=l(t);f[o]=new me(Yr,r[o]),v=t.$watch(l,function(t,e){if(e===t){if(e===x)return;e=x}u(o,t,e),r[o]=t},l.literal),h.push(v);break;case"&":if(l=e.hasOwnProperty(g)?a(e[g]):d,l===d&&y)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:f,removeWatches:h.length&&function(){for(var t=0,e=h.length;t<e;++t)h[t]()}}}var _t,bt=/^\w/,wt=t.document.createElement("div"),kt=D;N.prototype={$normalize:ve,$addClass:function(t){t&&t.length>0&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ge(t,e);n&&n.length&&A.addClass(this.$$element,n);var i=ge(e,t);i&&i.length&&A.removeClass(this.$$element,i)},$set:function(t,e,n,o){var s,a=this.$$element[0],u=zt(a,t),c=Wt(t),l=t;if(u?(this.$$element.prop(t,e),o=u):c&&(this[c]=e,l=c),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=at(t,"-"))),s=I(this.$$element),"a"===s&&("href"===t||"xlinkHref"===t)||"img"===s&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===s&&"srcset"===t&&y(e)){for(var h="",f=Ji(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(f)?d:/(,)/,m=f.split(p),v=Math.floor(m.length/2),_=0;_<v;_++){var b=2*_;h+=P(Ji(m[b]),!0),h+=" "+Ji(m[b+1])}var w=Ji(m[2*_]).split(/\s/);h+=P(Ji(w[0]),!0),2===w.length&&(h+=" "+Ji(w[1])),this[t]=e=h}n!==!1&&(null===e||g(e)?this.$$element.removeAttr(o):bt.test(o)?this.$$element.attr(o,e):M(this.$$element[0],o,e));var x=this.$$observers;x&&i(x[l],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=pt()),r=i[t]||(i[t]=[]);return r.push(e),m.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||g(n[t])||e(n[t])}),function(){R(r,e)}}};var Et=n.startSymbol(),Ct=n.endSymbol(),$t="{{"==Et&&"}}"==Ct?p:function(t){return t.replace(/\{\{/g,Et).replace(/}}/g,Ct)},St=/^ngAttr[A-Z]/,Dt=/^(.+)Start$/;return F.$$addBindingInfo=T?function(t,e){var n=t.data("$binding")||[];Zi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,F.$$addBindingClass=T?function(t){L(t,"ng-binding")}:d,F.$$addScopeInfo=T?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:d,F.$$addScopeClass=T?function(t,e){L(t,e?"ng-isolate-scope":"ng-scope")}:d,F.$$createComment=function(e,n){var i="";return T&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},F}]}function me(t,e){this.previousValue=t,this.currentValue=e}function ve(t){return wt(t.replace(Gr,""))}function ge(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(n.length>0?" ":"")+s}return n}function ye(t){t=Ri(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];n.nodeType===ur&&Vi.call(t,e,1)}return t}function _e(t,e){if(e&&w(e))return e;if(w(t)){var n=Xr.exec(t);if(n)return n[3]}}function be(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){ht(e,"controller"),_(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,s,a,u){var l,h,f,d;if(a=a===!0,u&&w(u)&&(d=u),w(e)){if(h=e.match(Xr),!h)throw Zr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);f=h[1],d=d||h[3],e=t.hasOwnProperty(f)?t[f]:ft(s.$scope,f,!0)||(n?ft(r,f,!0):void 0),lt(e,f,!0)}if(a){var p=(Zi(e)?e[e.length-1]:e).prototype;l=Object.create(p||null),d&&o(s,d,l,f||e.name);var m;return m=c(function(){var t=i.invoke(e,l,s,f);return t!==l&&(_(t)||E(t))&&(l=t,d&&o(s,d,l,f||e.name)),l},{instance:l,identifier:d})}return l=i.instantiate(e,s,f),d&&o(s,d,l,f||e.name),l}}]}function we(){this.$get=["$window",function(t){return Ri(t.document)}]}function xe(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ke(t){return _(t)?k(t)?t.toISOString():z(t):t}function Ee(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||g(t)||(Zi(t)?i(t,function(t){e.push(et(n)+"="+et(ke(t)))}):e.push(et(n)+"="+et(ke(t))))}),e.join("&")}}}function Ce(){this.$get=function(){return function(t){function e(t,o,s){null===t||g(t)||(Zi(t)?i(t,function(t,n){e(t,o+"["+(_(t)?n:"")+"]")}):_(t)&&!k(t)?r(t,function(t,n){e(t,o+(s?"":"[")+n+(s?"":"]"))}):n.push(et(o)+"="+et(ke(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function $e(t,e){if(w(t)){var n=t.replace(no,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Qr)||Se(n))&&(t=W(n))}}return t}function Se(t){var e=t.match(to);return e&&eo[e[0]].test(t)}function Te(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=pt();return w(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Oi(Ji(t.substr(0,n))),Ji(t.substr(n+1)))}):_(t)&&i(t,function(t,n){e(Oi(n),Ji(t))}),r}function De(t){var e;return function(n){if(e||(e=Te(t)),n){var i=e[Oi(n)];return void 0===i&&(i=null),i}return e}}function Ae(t,e,n,r){return E(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function je(t){return 200<=t&&t<300}function Pe(){var t=this.defaults={transformResponse:[$e],transformRequest:[function(t){return!_(t)||T(t)||A(t)||D(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:vt(Kr),put:vt(Kr),patch:vt(Kr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,u,l,h,f){function d(n){function o(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function s(t,e){var n,r={};return i(t,function(t,i){E(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function a(e){var n,i,r,o=t.headers,a=c({},e.headers);o=c({},o.common,o[Oi(e.method)]);t:for(n in o){i=Oi(n);for(r in a)if(Oi(r)===i)continue t;a[n]=o[n]}return s(a,vt(e))}function u(e){var n=e.headers,r=Ae(e.data,De(n),void 0,e.transformRequest);return g(r)&&i(n,function(t,e){"content-type"===Oi(e)&&delete n[e]}),g(e.withCredentials)&&!g(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,r).then(l,l)}function l(t){var e=c({},t);return e.data=Ae(t.data,t.headers,t.status,d.transformResponse),je(t.status)?e:h.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var d=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);d.headers=a(n),d.method=Ni(d.method),d.paramSerializer=w(d.paramSerializer)?f.get(d.paramSerializer):d.paramSerializer;var p=[],m=[],y=h.when(d);return i(k,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&m.push(t.response,t.responseError)}),y=o(y,p),y=y.then(u),y=o(y,m),r?(y.success=function(t){return lt(t,"fn"),y.then(function(e){t(e.data,e.status,e.headers,d)}),y},y.error=function(t){return lt(t,"fn"),y.then(null,function(e){t(e.data,e.status,e.headers,d)}),y}):(y.success=ro("success"),y.error=ro("error")),y}function p(t){i(arguments,function(t){d[t]=function(e,n){return d(c({},n||{},{method:t,url:e}))}})}function m(t){i(arguments,function(t){d[t]=function(e,n,i){return d(c({},i||{},{method:t,url:e,data:n}))}})}function v(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?l.$applyAsync(i):l.$$phase?i():l.$apply(i)}}),e}}function u(t,e,i,r){function o(){c(e,t,i,r)}m&&(je(t)?m.put(C,[t,e,Te(i),r]):m.remove(C)),n?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(t,n,i,r){n=n>=-1?n:0,(je(n)?w.resolve:w.reject)({data:t,status:n,headers:De(i),config:e,statusText:r})}function f(t){c(t.data,t.status,vt(t.headers()),t.statusText)}function p(){var t=d.pendingRequests.indexOf(e);t!==-1&&d.pendingRequests.splice(t,1)}var m,v,w=h.defer(),k=w.promise,E=e.headers,C=b(e.url,e.paramSerializer(e.params));if(d.pendingRequests.push(e),k.then(p,p),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:x),m&&(v=m.get(C),y(v)?P(v)?v.then(f,f):Zi(v)?c(v[1],v[0],vt(v[2]),v[3]):c(v,200,{},"OK"):m.put(C,k)),g(v)){var $=Mn(e.url)?a()[e.xsrfCookieName||t.xsrfCookieName]:void 0;$&&(E[e.xsrfHeaderName||t.xsrfHeaderName]=$),s(e.method,C,r,u,E,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return k}function b(t,e){return e.length>0&&(t+=(t.indexOf("?")==-1?"?":"&")+e),t}var x=u("$http");t.paramSerializer=w(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var k=[];return i(o,function(t){k.unshift(w(t)?f.get(t):f.invoke(t))}),d.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),d.defaults=t,d}]}function Oe(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ne(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Me(t,i,t.defer,e,n[0])}]}function Me(t,e,n,r,o){function s(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=o.createElement("script"),s=null;return i.type="text/javascript",i.src=t,i.async=!0,s=function(t){mr(i,"load",s),mr(i,"error",s),o.body.removeChild(i),i=null;var a=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),n&&n(a,u)},pr(i,"load",s),pr(i,"error",s),o.body.appendChild(i),s}return function(o,a,u,c,l,h,f,p,m,v){function _(){x&&x(),k&&k.abort()}function b(e,i,r,o,s){y($)&&n.cancel($),x=k=null,e(i,r,o,s),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"===Oi(o))var w=r.createCallback(a),x=s(a,w,function(t,e){var n=200===t&&r.getResponse(w);b(c,t,n,"",e),r.removeCallback(w)});else{var k=e(o,a);k.open(o,a,!0),i(l,function(t,e){y(t)&&k.setRequestHeader(e,t)}),k.onload=function(){var t=k.statusText||"",e="response"in k?k.response:k.responseText,n=1223===k.status?204:k.status;0===n&&(n=e?200:"file"==Nn(a).protocol?404:0),b(c,n,e,k.getAllResponseHeaders(),t)};var E=function(){b(c,-1,null,null,"")};if(k.onerror=E,k.onabort=E,i(m,function(t,e){k.addEventListener(e,t)}),i(v,function(t,e){k.upload.addEventListener(e,t)}),f&&(k.withCredentials=!0),p)try{k.responseType=p}catch(C){if("json"!==p)throw C}k.send(g(u)?null:u)}if(h>0)var $=n(_,h);else P(h)&&h.then(_)}}function Le(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(d,t).replace(p,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function u(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function l(o,l,d,p){function v(t){try{return t=P(t),p&&!y(t)?t:a(t)}catch(e){i(oo.interr(o,e))}}if(!o.length||o.indexOf(t)===-1){var _;if(!l){var b=s(o);_=m(b),_.exp=o,_.expressions=[],_.$$watchDelegate=u}return _}p=!!p;for(var w,x,k,C=0,$=[],S=[],T=o.length,D=[],A=[];C<T;){if((w=o.indexOf(t,C))==-1||(x=o.indexOf(e,w+h))==-1){C!==T&&D.push(s(o.substring(C)));break}C!==w&&D.push(s(o.substring(C,w))),k=o.substring(w+h,x),$.push(k),S.push(n(k,v)),C=x+f,A.push(D.length),D.push("")}if(d&&D.length>1&&oo.throwNoconcat(o),!l||$.length){var j=function(t){for(var e=0,n=$.length;e<n;e++){if(p&&g(t[e]))return;D[A[e]]=t[e]}return D.join("")},P=function(t){return d?r.getTrusted(d,t):r.valueOf(t)};return c(function(t){var e=0,n=$.length,r=new Array(n);try{for(;e<n;e++)r[e]=S[e](t);return j(r)}catch(s){i(oo.interr(o,s))}},{exp:o,expressions:$,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(i,r){var o=j(i);E(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var h=t.length,f=e.length,d=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Ie(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,a,u,c){function l(){h?o.apply(null,f):o(m)}var h=arguments.length>4,f=h?V(arguments,4):[],d=e.setInterval,p=e.clearInterval,m=0,v=y(c)&&!c,g=(v?i:n).defer(),_=g.promise;return u=y(u)?u:0,_.$$intervalId=d(function(){v?r.defer(l):t.$evalAsync(l),g.notify(m++),u>0&&m>=u&&(g.resolve(m),p(_.$$intervalId),delete s[_.$$intervalId]),v||t.$apply()},a),s[_.$$intervalId]=g,_}var s={};return o.cancel=function(t){return!!(t&&t.$$intervalId in s)&&(s[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete s[t.$$intervalId],!0)},o}]}function Re(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function Fe(t,e){var n=Nn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||uo[n.protocol]||null}function Ue(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Nn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=Q(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function qe(t,e){return 0===t.lastIndexOf(e,0)}function Ve(t,e){if(qe(e,t))return e.substr(t.length)}function Be(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function He(t){return t.replace(/(#.+)|#$/,"$1")}function ze(t){return t.substr(0,Be(t).lastIndexOf("/")+1)}function We(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ye(t,e,n){this.$$html5=!0,n=n||"",Fe(t,this),this.$$parse=function(t){var n=Ve(e,t);if(!w(n))throw co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ue(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=K(this.$$search),n=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Re(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s,a;return y(o=Ve(t,i))?(s=o,a=y(o=Ve(n,o))?e+(Ve("/",o)||o):t+s):y(o=Ve(e,i))?a=e+o:e==i+"/"&&(a=e),a&&this.$$parse(a),!!a}}function Ge(t,e,n){Fe(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return qe(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,s=Ve(t,i)||Ve(e,i);g(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",g(s)&&(t=i,this.replace())):(o=Ve(n,s),g(o)&&(o=s)),Ue(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Re(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Be(t)==Be(e)&&(this.$$parse(e),!0)}}function Ze(t,e,n){this.$$html5=!0,Ge.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==Be(i)?o=i:(s=Ve(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=K(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Re(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Xe(t){return function(){return this[t]}}function Je(t,e){return function(n){return g(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Qe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return j(t)?(e.enabled=t,this):_(t)?(j(t.enabled)&&(e.enabled=t.enabled),j(t.requireBase)&&(e.requireBase=t.requireBase),j(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=c.url(),o=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(s){throw c.url(r),c.$$state=o,s}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,h,f=i.baseHref(),d=i.url();if(e.enabled){if(!f&&e.requireBase)throw co("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=We(d)+(f||"/"),l=r.history?Ye:Ze}else h=Be(d),l=Ge;var p=ze(h);c=new l(h,p,"#"+t),c.$$parseLinkUrl(d,d),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Ri(t.target);"a"!==I(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),u=r.attr("href")||r.attr("xlink:href");_(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Nn(a.animVal).href),m.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(a,u)&&(t.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),He(c.absUrl())!=He(d)&&i.url(c.absUrl(),!0);var v=!0;return i.onUrlChange(function(t,e){return g(Ve(p,t))?void(s.location.href=t):(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;t=He(t),c.$$parse(t),c.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,c.absUrl()===t&&(i?(c.$$parse(r),c.$$state=o,a(r,!1,o)):(v=!1,u(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=He(i.url()),e=He(c.absUrl()),o=i.state(),s=c.$$replace,l=t!==e||c.$$html5&&r.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(i?(c.$$parse(t),c.$$state=o):(l&&a(e,s,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Ke(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||d,s=!1;try{s=!!o.apply}catch(a){}return s?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function tn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ho("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function en(t){return t+""}function nn(t,e){if(t){if(t.constructor===t)throw ho("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ho("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ho("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ho("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function rn(t,e){if(t){if(t.constructor===t)throw ho("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===fo||t===po||t===mo)throw ho("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function on(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw ho("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function sn(t,e){return"undefined"!=typeof t?t:e}function an(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function un(t,e){var n=t(e);return!n.$stateful}function cn(t,e){var n,r;switch(t.type){case _o.Program:n=!0,i(t.body,function(t){cn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case _o.Literal:t.constant=!0,t.toWatch=[];break;case _o.UnaryExpression:cn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case _o.BinaryExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case _o.LogicalExpression:cn(t.left,e),cn(t.right,e),
t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case _o.ConditionalExpression:cn(t.test,e),cn(t.alternate,e),cn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case _o.Identifier:t.constant=!1,t.toWatch=[t];break;case _o.MemberExpression:cn(t.object,e),t.computed&&cn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case _o.CallExpression:n=!!t.filter&&un(e,t.callee.name),r=[],i(t.arguments,function(t){cn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&un(e,t.callee.name)?r:[t];break;case _o.AssignmentExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case _o.ArrayExpression:n=!0,r=[],i(t.elements,function(t){cn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case _o.ObjectExpression:n=!0,r=[],i(t.properties,function(t){cn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case _o.ThisExpression:t.constant=!1,t.toWatch=[];break;case _o.LocalsExpression:t.constant=!1,t.toWatch=[]}}function ln(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function hn(t){return t.type===_o.Identifier||t.type===_o.MemberExpression}function fn(t){if(1===t.body.length&&hn(t.body[0].expression))return{type:_o.AssignmentExpression,left:t.body[0].expression,right:{type:_o.NGValueParameter},operator:"="}}function dn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===_o.Literal||t.body[0].expression.type===_o.ArrayExpression||t.body[0].expression.type===_o.ObjectExpression)}function pn(t){return t.constant}function mn(t,e){this.astBuilder=t,this.$filter=e}function vn(t,e){this.astBuilder=t,this.$filter=e}function gn(t){return"constructor"==t}function yn(t){return E(t.valueOf)?t.valueOf():wo.call(t)}function _n(){var t,e,n=pt(),r=pt(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(s){function a(t,e,i){var o,a,c;switch(i=i||b,typeof t){case"string":t=t.trim(),c=t;var v=i?r:n;if(o=v[c],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(a=!0,t=t.substring(2));var y=i?_:g,w=new yo(y),x=new bo(w,s,y);o=x.parse(t),o.constant?o.$$watchDelegate=p:a?o.$$watchDelegate=o.literal?f:h:o.inputs&&(o.$$watchDelegate=l),i&&(o=u(o)),v[c]=o}return m(o,e);case"function":return m(t,e);default:return m(d,e)}}function u(t){function e(e,n,i,r){var o=b;b=!0;try{return t(e,n,i,r)}finally{b=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=u(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=u(t.inputs[n]);return e.inputs=t.inputs,e}function c(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=yn(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function l(t,e,n,i,r){var o,s=i.inputs;if(1===s.length){var a=c;return s=s[0],t.$watch(function(t){var e=s(t);return c(e,a)||(o=i(t,void 0,void 0,[e]),a=e&&yn(e)),o},e,n,r)}for(var u=[],l=[],h=0,f=s.length;h<f;h++)u[h]=c,l[h]=null;return t.$watch(function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var a=s[n](t);(e||(e=!c(a,u[n])))&&(l[n]=a,u[n]=a&&yn(a))}return e&&(o=i(t,void 0,void 0,l)),o},e,n,r)}function h(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,E(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function f(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return r(t)},function(t,n,i){a=t,E(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(a)&&s()})},n)}function p(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function m(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==f&&n!==h,o=r?function(n,r,o,s){var a=i&&s?s[0]:t(n,r,o,s);return e(a,n,r)}:function(n,i,r,o){var s=t(n,i,r,o),a=e(s,n,i);return y(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==l?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=l,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var v=Ki().noUnsafeEval,g={csp:v,expensiveChecks:!1,literals:F(o),isIdentifierStart:E(t)&&t,isIdentifierContinue:E(e)&&e},_={csp:v,expensiveChecks:!0,literals:F(o),isIdentifierStart:E(t)&&t,isIdentifierContinue:E(e)&&e},b=!1;return a.$$runningExpensiveChecks=function(){return b},a}]}function bn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return xn(function(e){t.$evalAsync(e)},e)}]}function wn(){this.$get=["$browser","$exceptionHandler",function(t,e){return xn(function(e){t.defer(e)},e)}]}function xn(t,n){function r(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function s(t){var e,i,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,s=r.length;o<s;++o){i=r[o][0],e=r[o][t.status];try{E(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(a){i.reject(a),n(a)}}}function a(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){s(e)}))}function u(){this.promise=new r}function l(t){var e=new u,n=0,r=Zi(t)?[]:{};return i(t,function(t,i){n++,y(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}function h(t){var e=d();return i(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise}var f=e("$q",TypeError),d=function(){var t=new u;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t};c(r.prototype,{then:function(t,e,n){if(g(t)&&g(e)&&g(n))return this;var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&a(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}}),c(u.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){u||(u=!0,s.$$resolve(t))}function i(t){u||(u=!0,s.$$reject(t))}var r,s=this,u=!1;try{(_(t)||E(t))&&(r=t&&t.then),E(r)?(this.promise.$$state.status=-1,r.call(t,e,i,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(c){i(c),n(c)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{r.notify(E(t)?t(e):e)}catch(a){n(a)}}})}});var p=function(t){var e=new u;return e.reject(t),e.promise},m=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var i=null;try{E(n)&&(i=n())}catch(r){return m(r,!1)}return P(i)?i.then(function(){return m(t,e)},function(t){return m(t,!1)}):m(t,e)},y=function(t,e,n,i){var r=new u;return r.resolve(t),r.promise.then(e,n,i)},b=y,w=function(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!E(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);var i=new u;return t(e,n),i.promise};return w.prototype=r.prototype,w.defer=d,w.reject=p,w.when=y,w.resolve=b,w.all=l,w.race=h,w}function kn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function En(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=s(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),a=null,u=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,l){function h(t){t.currentScope.$$destroyed=!0}function f(t){9===Ii&&(t.$$childHead&&f(t.$$childHead),t.$$nextSibling&&f(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=s(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(t){if(C.$$phase)throw o("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function v(){C.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function x(){for(;T.length;)try{T.shift()()}catch(t){e(t)}u=null}function k(){null===u&&(u=l.defer(function(){C.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",h),i},$watch:function(t,e,n,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,u={fn:e,last:w,get:r,exp:i||t,eq:!!n};return a=null,E(e)||(u.fn=d),s||(s=o.$$watchers=[]),s.unshift(u),y(this,1),function(){R(s,u)>=0&&y(o,-1),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(o,o,a)):e(o,r,a)}var r=new Array(t.length),o=new Array(t.length),s=[],a=this,u=!1,c=!0;if(!t.length){var l=!0;return a.$evalAsync(function(){l&&e(o,o,a)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=a.$watch(t,function(t,i){o[e]=t,r[e]=i,u||(u=!0,a.$evalAsync(n))});s.push(i)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,r,a,u;if(!g(o)){if(_(o))if(n(o)){s!==d&&(s=d,v=s.length=0,h++),e=o.length,v!==e&&(h++,s.length=v=e);for(var c=0;c<e;c++)u=s[c],a=o[c],r=u!==u&&a!==a,r||u===a||(h++,s[c]=a)}else{s!==p&&(s=p={},v=0,h++),e=0;for(i in o)Pi.call(o,i)&&(e++,a=o[i],u=s[i],i in s?(r=u!==u&&a!==a,r||u===a||(h++,s[i]=a)):(v++,s[i]=a,h++));if(v>e){h++;for(i in s)Pi.call(o,i)||(v--,delete s[i])}}else s!==o&&(s=o,h++);return h}}function r(){if(m?(m=!1,e(o,o,u)):e(o,a,u),l)if(_(o))if(n(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var i in o)Pi.call(o,i)&&(a[i]=o[i])}else a=o}i.$stateful=!0;var o,s,a,u=this,l=e.length>1,h=0,f=c(t,i),d=[],p={},m=!0,v=0;return this.$watch(f,r)},$digest:function(){var t,n,i,s,c,h,f,d,p,g,y,_,b=r,k=this,T=[];m("$digest"),l.$$checkUrlChange(),this===C&&null!==u&&(l.defer.cancel(u),x()),a=null;do{d=!1,g=k;for(var A=0;A<$.length;A++){try{_=$[A],_.scope.$eval(_.expression,_.locals)}catch(j){e(j)}a=null}$.length=0;t:do{if(h=g.$$watchers)for(f=h.length;f--;)try{if(t=h[f])if(c=t.get,(n=c(g))===(i=t.last)||(t.eq?U(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(t===a){d=!1;break t}}else d=!0,a=t,t.last=t.eq?F(n,null):n,s=t.fn,s(n,i===w?n:i,g),b<5&&(y=4-b,T[y]||(T[y]=[]),T[y].push({msg:E(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(j){e(j)}if(!(p=g.$$watchersCount&&g.$$childHead||g!==k&&g.$$nextSibling))for(;g!==k&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((d||$.length)&&!b--)throw v(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,T)}while(d||$.length);for(v();D<S.length;)try{S[D++]()}catch(j){e(j)}S.length=D=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&l.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){C.$$phase||$.length||l.defer(function(){$.length&&C.$digest()}),$.push({scope:this,expression:c(t),locals:e})},$$postDigest:function(t){S.push(t)},$apply:function(t){try{m("$apply");try{return this.$eval(t)}finally{v()}}catch(n){e(n)}finally{try{C.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&T.push(e),t=c(t),k()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);i!==-1&&(n[i]=null,b(r,1,t))}},$emit:function(t,n){var i,r,o,s=[],a=this,u=!1,c={name:t,targetScope:a,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=q([c],arguments,1);do{for(i=a.$$listeners[t]||s,c.currentScope=a,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,l)}catch(h){e(h)}else i.splice(r,1),r--,o--;if(u)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(t,n){var i=this,r=i,o=i,s={name:t,targetScope:i,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return s;for(var a,u,c,l=q([s],arguments,1);r=o;){for(s.currentScope=r,a=r.$$listeners[t]||[],u=0,c=a.length;u<c;u++)if(a[u])try{a[u].apply(null,l)}catch(h){e(h)}else a.splice(u,1),u--,c--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var C=new p,$=C.$$asyncQueue=[],S=C.$$postDigestQueue=[],T=C.$$applyAsyncQueue=[],D=0;return C}]}function Cn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Nn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function $n(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw xo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Qi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw xo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sn(t){var e=[];return y(t)&&i(t,function(t){e.push($n(t))}),e}function Tn(){this.SCE_CONTEXTS=ko;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Sn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Sn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Mn(e):!!t.exec(e.href)}function r(n){var r,o,s=Nn(n.toString()),a=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],s)){a=!0;break}if(a)for(r=0,o=e.length;r<o;r++)if(i(e[r],s)){a=!1;break}return a}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw xo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||g(e)||""===e)return e;if("string"!=typeof e)throw xo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function a(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||g(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===ko.RESOURCE_URL){if(r(e))return e;throw xo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ko.HTML)return c(e);throw xo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw xo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),h={};return h[ko.HTML]=o(l),h[ko.CSS]=o(l),h[ko.URL]=o(l),h[ko.JS]=o(l),h[ko.RESOURCE_URL]=o(h[ko.URL]),{trustAs:s,getTrusted:u,valueOf:a}}]}function Dn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Ii<8)throw xo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=vt(ko);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=p),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return i(ko,function(t,e){var n=Oi(e);r[wt("parse_as_"+n)]=function(e){return o(t,e)},r[wt("get_trusted_"+n)]=function(e){return s(t,e)},r[wt("trust_as_"+n)]=function(e){return a(t,e)}}),r}]}function An(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=t.chrome&&t.chrome.app&&t.chrome.app.runtime,s=!o&&t.history&&t.history.pushState,a=h((/android (\d+)/.exec(Oi((t.navigator||{}).userAgent))||[])[1]),u=/Boxee/i.test((t.navigator||{}).userAgent),c=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,f=c.body&&c.body.style,d=!1,p=!1;if(f){for(var m in f)if(i=l.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in f&&"webkit"),d=!!("transition"in f||n+"Transition"in f),p=!!("animation"in f||n+"Animation"in f),!a||d&&p||(d=w(f.webkitTransition),p=w(f.webkitAnimation))}return{history:!(!s||a<4||u),hasEvent:function(t){if("input"===t&&Ii<=11)return!1;if(g(r[t])){var e=c.createElement("div");r[t]="on"+t in e}return r[t]},csp:Ki(),vendorPrefix:n,transitions:d,animations:p,android:a}}]}function jn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,r){function o(s,a){function u(t){if(!a)throw Eo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText);return i.reject(t)}o.totalPendingRequests++,w(s)&&!g(e.get(s))||(s=r.getTrustedResourceUrl(s));var l=n.defaults&&n.defaults.transformResponse;return Zi(l)?l=l.filter(function(t){return t!==$e}):l===$e&&(l=null),n.get(s,c({cache:e,transformResponse:l},t))["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(s,t.data),t.data},u)}return o.totalPendingRequests=0,o}]}function Pn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),o=[];return i(r,function(t){var r=Yi.element(t).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Qi(e)+"(\\s|\\||$)");r.test(i)&&o.push(t)}else i.indexOf(e)!=-1&&o.push(t)})}),o},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function On(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,u){E(o)||(u=a,a=o,o=d);var c,l=V(arguments,3),h=y(u)&&!u,f=(h?i:n).defer(),p=f.promise;return c=e.defer(function(){try{f.resolve(o.apply(null,l))}catch(e){f.reject(e),r(e)}finally{delete s[p.$$timeoutId]}h||t.$apply()},a),p.$$timeoutId=c,s[c]=f,p}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Nn(t){var e=t;return Ii&&(Co.setAttribute("href",e),e=Co.href),Co.setAttribute("href",e),{href:Co.href,protocol:Co.protocol?Co.protocol.replace(/:$/,""):"",host:Co.host,search:Co.search?Co.search.replace(/^\?/,""):"",hash:Co.hash?Co.hash.replace(/^#/,""):"",hostname:Co.hostname,port:Co.port,pathname:"/"===Co.pathname.charAt(0)?Co.pathname:"/"+Co.pathname}}function Mn(t){var e=w(t)?Nn(t):t;return e.protocol===$o.protocol&&e.host===$o.host}function Ln(){this.$get=m(t)}function In(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,s,a,u,c=n.cookie||"";if(c!==r)for(r=c,t=r.split("; "),i={},s=0;s<t.length;s++)o=t[s],a=o.indexOf("="),a>0&&(u=e(o.substring(0,a)),g(i[u])&&(i[u]=e(o.substring(a+1))));return i}}function Rn(){this.$get=In}function Fn(t){function e(r,o){if(_(r)){var s={};return i(r,function(t,n){s[n]=e(n,t)}),s}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Hn),e("date",oi),e("filter",Un),e("json",si),e("limitTo",ai),e("lowercase",Oo),e("number",zn),e("orderBy",ci),e("uppercase",No)}function Un(){return function(t,i,r,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var s,a,u=Bn(i);switch(u){case"function":s=i;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":s=qn(i,r,o,a);break;default:return t}return Array.prototype.filter.call(t,s)}}function qn(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=U:E(e)||(e=function(t,e){return!g(t)&&(null===t||null===e?t===e:!(_(e)||_(t)&&!v(t))&&(t=Oi(""+t),e=Oi(""+e),t.indexOf(e)!==-1))}),r=function(r){return o&&!_(r)?Vn(r,t[n],e,n,!1):Vn(r,t,e,n,i)}}function Vn(t,e,n,i,r,o){var s=Bn(t),a=Bn(e);if("string"===a&&"!"===e.charAt(0))return!Vn(t,e.substring(1),n,i,r);if(Zi(t))return t.some(function(t){return Vn(t,e,n,i,r)});switch(s){case"object":var u;if(r){for(u in t)if("$"!==u.charAt(0)&&Vn(t[u],e,n,i,!0))return!0;return!o&&Vn(t,e,n,i,!1)}if("object"===a){for(u in e){var c=e[u];if(!E(c)&&!g(c)){var l=u===i,h=l?t:t[u];if(!Vn(h,c,n,i,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Bn(t){return null===t?"null":typeof t}function Hn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return g(n)&&(n=e.CURRENCY_SYM),g(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Gn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function zn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Gn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Wn(t){var e,n,i,r,o,s=0;for((n=t.indexOf(To))>-1&&(t=t.replace(To,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==Do;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==Do;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>So&&(e=e.splice(0,So-1),s=n-1,n=1),{d:e,e:s,i:n}}function Yn(t,e,n,i){var r=t.d,o=r.length-t.i;e=g(e)?Math.min(Math.max(n,o),i):+e;var s=e+t.i,a=r[s];if(s>0){r.splice(Math.max(t.i,s));for(var u=s;u<r.length;u++)r[u]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,s=e+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[s-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.i++)}function Gn(t,e,n,i,r){if(!w(t)&&!x(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,u=Math.abs(t)+"",c="";if(s)c="";else{o=Wn(u),Yn(o,r,e.minFrac,e.maxFrac);var l=o.d,h=o.i,f=o.e,d=[];for(a=l.reduce(function(t,e){return t&&!e},!0);h<0;)l.unshift(0),h++;h>0?d=l.splice(h,l.length):(d=l,l=[0]);var p=[];for(l.length>=e.lgSize&&p.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)p.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&p.unshift(l.join("")),c=p.join(n),d.length&&(c+=i+d.join("")),f&&(c+="e+"+f)}return t<0&&!a?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Zn(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=Do+t;return n&&(t=t.substr(t.length-e)),r+t}function Xn(t,e,n,i,r){return n=n||0,function(o){var s=o["get"+t]();return(n>0||s>-n)&&(s+=n),0===s&&n==-12&&(s=12),Zn(s,e,i,r)}}function Jn(t,e,n){return function(i,r){var o=i["get"+t](),s=(n?"STANDALONE":"")+(e?"SHORT":""),a=Ni(s+t);return r[a][o]}}function Qn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Zn(Math[i>0?"floor":"ceil"](i/60),2)+Zn(Math.abs(i%60),2)}function Kn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ti(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ei(t){return function(e){var n=Kn(e.getFullYear()),i=ti(e),r=+i-+n,o=1+Math.round(r/6048e5);return Zn(o,t)}}function ni(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ii(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function ri(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function oi(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,s=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=h(e[9]+e[10]),o=h(e[9]+e[11])),s.call(i,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-r,c=h(e[5]||0)-o,l=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,u,c,l,f),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var s,a,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,w(n)&&(n=Po.test(n)?h(n):e(n)),x(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;r;)a=jo.exec(r),a?(c=q(c,a,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return o&&(l=Y(o,l),n=Z(n,o,!0)),i(c,function(e){s=Ao[e],u+=s?s(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function si(){return function(t,e){return g(e)&&(e=2),z(t,e)}}function ai(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):h(e),isNaN(e)?t:(x(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:h(i),i=i<0?Math.max(0,t.length+i):i,e>=0?ui(t,i,i+e):0===i?ui(t,e,t.length):ui(t,Math.max(0,i+e),i)):t)}}function ui(t,e,n){return w(t)?t.slice(e,n):qi.call(t,e,n)}function ci(t){function i(e){return e.map(function(e){var n=1,i=p;if(E(e))i=e;else if(w(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return E(t.valueOf)&&(t=t.valueOf(),r(t))?t:v(t)&&(t=t.toString(),r(t))?t:t}function s(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function a(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,s=e.value;"string"===i?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(s)&&(s=e.index)),o!==s&&(n=o<s?-1:1)}else n=i<r?-1:1;return n}return function(t,r,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:h.map(function(n){return s(n.get(t),e)})}}function l(t,e){for(var n=0,i=h.length;n<i;n++){var r=d(t.predicateValues[n],e.predicateValues[n]);if(r)return r*h[n].descending*f}return d(t.tieBreaker,e.tieBreaker)*f}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);Zi(r)||(r=[r]),0===r.length&&(r=["+"]);var h=i(r),f=o?-1:1,d=E(u)?u:a,p=Array.prototype.map.call(t,c);return p.sort(l),t=p.map(function(t){return t.value})}}function li(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function hi(t,e){t.$name=e}function fi(t,e,n,r,o){var s=this,a=[];s.$error={},s.$$success={},s.$pending=void 0,s.$name=o(e.name||e.ngForm||"")(n),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Io,s.$rollbackViewValue=function(){i(a,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){i(a,function(t){t.$commitViewValue()})},s.$addControl=function(t){ht(t.$name,"input"),a.push(t),t.$name&&(s[t.$name]=t),t.$$parentForm=s},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],i(s.$pending,function(e,n){s.$setValidity(n,null,t)}),i(s.$error,function(e,n){s.$setValidity(n,null,t)}),i(s.$$success,function(e,n){s.$setValidity(n,null,t)}),R(a,t),t.$$parentForm=Io},Si({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(R(i,n),0===i.length&&delete t[e])},$animate:r}),s.$setDirty=function(){r.removeClass(t,ws),r.addClass(t,xs),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(t,ws,xs+" "+Ro),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,i(a,function(t){t.$setPristine()})},s.$setUntouched=function(){i(a,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,Ro),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function di(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function pi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i)}function mi(t,e,n,i,r,o){var s=Oi(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(){a=!0}),e.on("compositionend",function(){a=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!a){var r=e.val(),c=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=Ji(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),Qo[s]&&i.$$hasNativeValidators&&s===n.type&&e.on(Jo,function(t){if(!u){var e=this[ji],n=e.badInput,i=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===i||c(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function vi(t,e){if(k(t))return t;if(w(t)){Go.lastIndex=0;var n=Go.exec(t);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,u=0,c=Kn(i),l=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,c.getDate()+l,o,s,a,u)}}return NaN}function gi(t,e){return function(n,r){var o,s;if(k(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Vo.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function yi(t,e,n,i){return function(r,o,s,a,u,c,l){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return y(t)&&!k(t)?n(t)||void 0:t;
}_i(r,o,s,a),mi(r,o,s,a,u,c);var d,p=a&&a.$options&&a.$options.timezone;if(a.$$parserName=t,a.$parsers.push(function(t){if(a.$isEmpty(t))return null;if(e.test(t)){var i=n(t,d);return p&&(i=Z(i,p)),i}}),a.$formatters.push(function(t){if(t&&!k(t))throw Ts("datefmt","Expected `{0}` to be a date",t);return h(t)?(d=t,d&&p&&(d=Z(d,p,!0)),l("date")(t,i,p)):(d=null,"")}),y(s.min)||s.ngMin){var m;a.$validators.min=function(t){return!h(t)||g(m)||n(t)>=m},s.$observe("min",function(t){m=f(t),a.$validate()})}if(y(s.max)||s.ngMax){var v;a.$validators.max=function(t){return!h(t)||g(v)||n(t)<=v},s.$observe("max",function(t){v=f(t),a.$validate()})}}}function _i(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(ji)||{};return n.badInput||n.typeMismatch?void 0:t})}function bi(t,e,n,i,r,o){if(_i(t,e,n,i),mi(t,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:zo.test(t)?parseFloat(t):void 0}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!x(t))throw Ts("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||g(s)||t>=s},n.$observe("min",function(t){y(t)&&!x(t)&&(t=parseFloat(t)),s=x(t)&&!isNaN(t)?t:void 0,i.$validate()})}if(y(n.max)||n.ngMax){var a;i.$validators.max=function(t){return i.$isEmpty(t)||g(a)||t<=a},n.$observe("max",function(t){y(t)&&!x(t)&&(t=parseFloat(t)),a=x(t)&&!isNaN(t)?t:void 0,i.$validate()})}}function wi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Bo.test(n)}}function xi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Ho.test(n)}}function ki(t,e,n,i){g(n.name)&&e.attr("name",s());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function Ei(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw Ts("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Ci(t,e,n,i,r,o,s,a){var u=Ei(a,t,"ngTrueValue",n.ngTrueValue,!0),c=Ei(a,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return U(t,u)}),i.$parsers.push(function(t){return t?u:c})}function $i(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function o(t){var e=[];return Zi(t)?(i(t,function(t){e=e.concat(o(t))}),e):w(t)?t.split(" "):_(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,u){function c(t){var e=h(t,1);u.$addClass(e)}function l(t){var e=h(t,-1);u.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||pt(),r=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),a.data("$classCounts",n),r.join(" ")}function f(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(a,i),o&&o.length&&n.removeClass(a,o)}function d(t){if(e===!0||(1&s.$index)===e){var n=o(t||[]);if(p){if(!U(t,p)){var i=o(p);f(i,n)}}else c(n)}p=Zi(t)?t.map(function(t){return vt(t)}):vt(t)}var p;s.$watch(u[t],d,!0),u.$observe("class",function(e){d(s.$eval(u[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var a=o(s.$eval(u[t]));r===e?c(a):l(a)}})}}}]}function Si(t){function e(t,e,a){g(e)?n("$pending",t,a):i("$pending",t,a),j(e)?e?(l(s.$error,t,a),c(s.$$success,t,a)):(c(s.$error,t,a),l(s.$$success,t,a)):(l(s.$error,t,a),l(s.$$success,t,a)),s.$pending?(r(Cs,!0),s.$valid=s.$invalid=void 0,o("",null)):(r(Cs,!1),s.$valid=Ti(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var u;u=s.$pending&&s.$pending[t]?void 0:!s.$error[t]&&(!!s.$$success[t]||null),o(t,u),s.$$parentForm.$setValidity(t,u,s)}function n(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,n){s[t]&&l(s[t],e,n),Ti(s[t])&&(s[t]=void 0)}function r(t,e){e&&!u[t]?(h.addClass(a,t),u[t]=!0):!e&&u[t]&&(h.removeClass(a,t),u[t]=!1)}function o(t,e){t=t?"-"+at(t,"-"):"",r(_s+t,e===!0),r(bs+t,e===!1)}var s=t.ctrl,a=t.$element,u={},c=t.set,l=t.unset,h=t.$animate;u[bs]=!(u[_s]=a.hasClass(_s)),s.$setValidity=e}function Ti(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Di(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Ai=/^\/(.+)\/([a-z]*)$/,ji="validity",Pi=Object.prototype.hasOwnProperty,Oi=function(t){return w(t)?t.toLowerCase():t},Ni=function(t){return w(t)?t.toUpperCase():t},Mi=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Li=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Oi=Mi,Ni=Li);var Ii,Ri,Fi,Ui,qi=[].slice,Vi=[].splice,Bi=[].push,Hi=Object.prototype.toString,zi=Object.getPrototypeOf,Wi=e("ng"),Yi=t.angular||(t.angular={}),Gi=0;Ii=t.document.documentMode,d.$inject=[],p.$inject=[];var Zi=Array.isArray,Xi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Ji=function(t){return w(t)?t.trim():t},Qi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ki=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(Ki.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ki.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else Ki.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Ki.rules},tr=function(){if(y(tr.name_))return tr.name_;var e,n,i,r,o=nr.length;for(n=0;n<o;++n)if(i=nr[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return tr.name_=r},er=/:/g,nr=["ng-","data-ng-","ng:","x-ng-"],ir=/[A-Z]/g,rr=!1,or=1,sr=2,ar=3,ur=8,cr=9,lr=11,hr={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Dt.expando="ng339";var fr=Dt.cache={},dr=1,pr=function(t,e,n){t.addEventListener(e,n,!1)},mr=function(t,e,n){t.removeEventListener(e,n,!1)};Dt._data=function(t){return this.cache[t[this.expando]]||{}};var vr=/([\:\-\_]+(.))/g,gr=/^moz([A-Z])/,yr={mouseleave:"mouseout",mouseenter:"mouseover"},_r=e("jqLite"),br=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wr=/<|&#?\w+;/,xr=/<([\w:-]+)/,kr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Er={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Er.optgroup=Er.option,Er.tbody=Er.tfoot=Er.colgroup=Er.caption=Er.thead,Er.th=Er.td;var Cr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},$r=Dt.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),Dt(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ri(t>=0?this[t]:this[this.length+t])},length:0,push:Bi,sort:[].sort,splice:[].splice},Sr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Sr[Oi(t)]=t});var Tr={};i("input,select,option,textarea,button,form,details".split(","),function(t){Tr[t]=!0});var Dr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Mt,removeData:Ot,hasData:Et,cleanData:Ct},function(t,e){Dt[e]=t}),i({data:Mt,inheritedData:qt,scope:function(t){return Ri.data(t,"$scope")||qt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ri.data(t,"$isolateScope")||Ri.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return qt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Lt,css:function(t,e,n){return e=wt(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==ar&&i!==sr&&i!==ur){var r=Oi(e);if(Sr[r]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||d).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(g(e)){var n=t.nodeType;return n===or||n===ar?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(g(e)){if(t.multiple&&"select"===I(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return g(e)?t.innerHTML:(jt(t,!0),void(t.innerHTML=e))},empty:Vt},function(t,e){Dt.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Vt&&g(2==t.length&&t!==Lt&&t!==Ut?e:n)){if(_(e)){for(i=0;i<o;i++)if(t===Mt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var s=t.$dv,a=g(s)?Math.min(o,1):o,u=0;u<a;u++){var c=t(this[u],e,n);s=s?s+c:c}return s}for(i=0;i<o;i++)t(this[i],e,n);return this}}),i({removeData:Ot,on:function(t,e,n,i){if(y(i))throw _r("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(kt(t)){var r=Nt(t,!0),o=r.events,s=r.handle;s||(s=r.handle=Yt(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],u=a.length,c=function(e,i,r){var a=o[e];a||(a=o[e]=[],a.specialHandlerWrapper=i,"$destroy"===e||r||pr(t,e,s)),a.push(n)};u--;)e=a[u],yr[e]?(c(yr[e],Zt),c(e,void 0,!0)):c(e)}},off:Pt,one:function(t,e,n){t=Ri(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;jt(t),i(new Dt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===or&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===or||n===lr){e=new Dt(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===or){var n=t.firstChild;i(new Dt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Tt(t,Ri(e).eq(0).clone()[0])},remove:Bt,detach:function(t){Bt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new Dt(e);for(var r=0,o=e.length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:Rt,removeClass:It,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;g(i)&&(i=!Lt(t,e)),(i?Rt:It)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==lr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:At,triggerHandler:function(t,e,n){var r,o,s,a=e.type||e,u=Nt(t),l=u&&u.events,h=l&&l[a];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:a,target:t},e.type&&(r=c(r,e)),o=vt(h),s=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){Dt.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;o<s;o++)g(r)?(r=t(this[o],e,n,i),y(r)&&(r=Ri(r))):Ft(r,t(this[o],e,n,i));return y(r)?r:this},Dt.prototype.bind=Dt.prototype.on,Dt.prototype.unbind=Dt.prototype.off}),Qt.prototype={put:function(t,e){this[Jt(t,this.nextUid)]=e},get:function(t){return this[Jt(t,this.nextUid)]},remove:function(t){var e=this[t=Jt(t,this.nextUid)];return delete this[t],e}};var Ar=[function(){this.$get=[function(){return Qt}]}],jr=/^([^\(]+?)=>/,Pr=/^[^\(]*\(\s*([^\)]*)\)/m,Or=/,/,Nr=/^\s*(_?)(\S+?)\1\s*$/,Mr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Lr=e("$injector");ie.$$annotate=ne;var Ir=e("$animate"),Rr=1,Fr="ng-animate",Ur=function(){this.$get=d},qr=function(){var t=new Qt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&(e=w(e)?e.split(" "):Zi(e)?e:[],i(e,function(e){e&&(r=!0,t[e]=n)})),r}function s(){i(e,function(e){var n=t.get(e);if(n){var r=ae(e.attr("class")),o="",s="";i(n,function(t,e){var n=!!r[e];t!==n&&(t?o+=(o.length?" ":"")+e:s+=(s.length?" ":"")+e)}),i(e,function(t){o&&Rt(t,o),s&&It(t,s)}),t.remove(e)}}),e.length=0}function a(n,i,a){var u=t.get(n)||{},c=o(u,i,!0),l=o(u,a,!1);(c||l)&&(t.put(n,u),e.push(n),1===e.length&&r.$$postDigest(s))}return{enabled:d,on:d,off:d,pin:d,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&a(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Vr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Ir("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Fr+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Ir("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=se(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Ri(i),r=r&&Ri(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ue(o))},move:function(n,i,r,o){return i=i&&Ri(i),r=r&&Ri(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ue(o))},leave:function(e,n){return t.push(e,"leave",ue(n),function(){e.remove()})},addClass:function(e,n,i){return i=ue(i),i.addClass=oe(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ue(i),i.removeClass=oe(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ue(r),r.addClass=oe(r.addClass,n),r.removeClass=oe(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=ue(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=oe(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Br=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Hr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,o){function s(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?i(t):e(t)},this._state=0}var a=0,u=1,c=2;return s.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},s.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:d,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===a&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},s}]},zr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),a||u.complete(),a=!0}),u}function o(){s.addClass&&(e.addClass(s.addClass),s.addClass=null),s.removeClass&&(e.removeClass(s.removeClass),s.removeClass=null),s.to&&(e.css(s.to),s.to=null)}var s=i||{};s.$$prepared||(s=F(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(e.css(s.from),s.from=null);var a,u=new n;return{start:r,end:r}}}]},Wr=e("$compile"),Yr=new de;pe.$inject=["$provide","$$sanitizeUriProvider"],me.prototype.isFirstChange=function(){return this.previousValue===Yr};var Gr=/^((?:x|data)[\:\-_])/i,Zr=e("$controller"),Xr=/^(\S+)(\s+as\s+([\w$]+))?$/,Jr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Ri&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Qr="application/json",Kr={"Content-Type":Qr+";charset=utf-8"},to=/^\[|^\{(?!\{)/,eo={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,io=e("$http"),ro=function(t){return function(){throw io("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},oo=Yi.$interpolateMinErr=e("$interpolate");oo.throwNoconcat=function(t){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},oo.interr=function(t,e){return oo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var so=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(t){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,s=e(r);return i[o]=n[r]=s,o},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},ao=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,uo={http:80,https:443,ftp:21},co=e("$location"),lo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Xe("$$absUrl"),url:function(t){if(g(t))return this.$$url;var e=ao.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Xe("$$protocol"),host:Xe("$$host"),port:Xe("$$port"),path:Je("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||x(t))t=t.toString(),this.$$search=Q(t);else{if(!_(t))throw co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=F(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:g(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Je("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Ze,Ge,Ye],function(t){t.prototype=Object.create(lo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ye||!this.$$html5)throw co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=g(e)?null:e,this}});var ho=e("$parse"),fo=Function.prototype.call,po=Function.prototype.apply,mo=Function.prototype.bind,vo=pt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){vo[t]=!0});var go={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},yo=function(t){this.options=t};yo.prototype={constructor:yo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=vo[e],o=vo[n],s=vo[i];if(r||o||s){var a=s?i:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ho("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Oi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=go[o];n+=a||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var _o=function(t,e){this.lexer=t,this.options=e};_o.Program="Program",_o.ExpressionStatement="ExpressionStatement",_o.AssignmentExpression="AssignmentExpression",_o.ConditionalExpression="ConditionalExpression",_o.LogicalExpression="LogicalExpression",_o.BinaryExpression="BinaryExpression",_o.UnaryExpression="UnaryExpression",_o.CallExpression="CallExpression",_o.MemberExpression="MemberExpression",_o.Identifier="Identifier",_o.Literal="Literal",_o.ArrayExpression="ArrayExpression",_o.Property="Property",_o.ObjectExpression="ObjectExpression",_o.ThisExpression="ThisExpression",_o.LocalsExpression="LocalsExpression",_o.NGValueParameter="NGValueParameter",_o.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:_o.Program,body:t}},expressionStatement:function(){return{type:_o.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:_o.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:_o.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:_o.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:_o.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:_o.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:_o.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:_o.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:_o.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:_o.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:_o.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:_o.Identifier,name:t.text}},constant:function(){return{type:_o.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_o.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:_o.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:_o.ObjectExpression,properties:e}},throwError:function(t,e){throw ho("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ho("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ho("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===i||s===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{"this":{type:_o.ThisExpression},$locals:{type:_o.LocalsExpression}}},mn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(r,n.$filter);var o,s="";if(this.stage="assign",o=fn(r)){this.state.computing="assign";var a=this.nextId();this.recurse(o,a),this.return_(a),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=ln(r.body);n.stage="inputs",i(u,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(t,r),n.return_(r),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,tn,nn,rn,en,on,sn,an,t);return this.state=this.stage=void 0,l.literal=dn(r),l.constant=pn(r),l},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,s){var a,u,c,l,h,f=this;if(r=r||d,!s&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case _o.Program:i(t.body,function(e,n){f.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?f.current().body.push(u,";"):f.return_(u)});break;case _o.Literal:l=this.escape(t.value),this.assign(e,l),r(l);break;case _o.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case _o.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){a=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(a,u):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(u,0):"("+a+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case _o.LogicalExpression:e=e||this.nextId(),
f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),r(e);break;case _o.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),r(e);break;case _o.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),tn(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_("inputs"===f.stage||"s",function(){o&&1!==o&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||gn(t.name))&&f.addEnsureSafeObject(e),r(e);break;case _o.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,a,void 0,function(){f.if_(f.notNull(a),function(){o&&1!==o&&f.addEnsureSafeAssignContext(a),t.computed?(u=f.nextId(),f.recurse(t.property,u),f.getStringValue(u),f.addEnsureSafeMemberName(u),o&&1!==o&&f.if_(f.not(f.computedMember(a,u)),f.lazyAssign(f.computedMember(a,u),"{}")),l=f.ensureSafeObject(f.computedMember(a,u)),f.assign(e,l),n&&(n.computed=!0,n.name=u)):(tn(t.property.name),o&&1!==o&&f.if_(f.not(f.nonComputedMember(a,t.property.name)),f.lazyAssign(f.nonComputedMember(a,t.property.name),"{}")),l=f.nonComputedMember(a,t.property.name),(f.state.expensiveChecks||gn(t.property.name))&&(l=f.ensureSafeObject(l)),f.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){f.assign(e,"undefined")}),r(e)},!!o);break;case _o.CallExpression:e=e||this.nextId(),t.filter?(u=f.filter(t.callee.name),c=[],i(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",f.assign(e,l),r(e)):(u=f.nextId(),a={},c=[],f.recurse(t.callee,u,a,function(){f.if_(f.notNull(u),function(){f.addEnsureSafeFunction(u),i(t.arguments,function(t){f.recurse(t,f.nextId(),void 0,function(t){c.push(f.ensureSafeObject(t))})}),a.name?(f.state.expensiveChecks||f.addEnsureSafeObject(a.context),l=f.member(a.context,a.name,a.computed)+"("+c.join(",")+")"):l=u+"("+c.join(",")+")",l=f.ensureSafeObject(l),f.assign(e,l)},function(){f.assign(e,"undefined")}),r(e)}));break;case _o.AssignmentExpression:if(u=this.nextId(),a={},!hn(t.left))throw ho("lval","Trying to assign a value to a non l-value");this.recurse(t.left,void 0,a,function(){f.if_(f.notNull(a.context),function(){f.recurse(t.right,u),f.addEnsureSafeObject(f.member(a.context,a.name,a.computed)),f.addEnsureSafeAssignContext(a.context),l=f.member(a.context,a.name,a.computed)+t.operator+u,f.assign(e,l),r(e||l)})},1);break;case _o.ArrayExpression:c=[],i(t.elements,function(t){f.recurse(t,f.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(l);break;case _o.ObjectExpression:c=[],h=!1,i(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(a=f.nextId(),f.recurse(t.key,a)):a=t.key.type===_o.Identifier?t.key.name:""+t.key.value,u=f.nextId(),f.recurse(t.value,u),f.assign(f.member(e,a,t.computed),u)})):(i(t.properties,function(e){f.recurse(e.value,t.constant?void 0:f.nextId(),void 0,function(t){c.push(f.escape(e.key.type===_o.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case _o.ThisExpression:this.assign(e,"s"),r("s");break;case _o.LocalsExpression:this.assign(e,"l"),r("l");break;case _o.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(w(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw ho("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},vn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,cn(r,n.$filter);var o,s;(o=fn(r))&&(s=this.recurse(o));var a,u=ln(r.body);u&&(a=[],i(u,function(t,e){var i=n.recurse(t);t.input=i,a.push(i),t.watchId=e}));var c=[];i(r.body,function(t){c.push(n.recurse(t.expression))});var l=0===r.body.length?d:1===r.body.length?c[0]:function(t,e){var n;return i(c,function(i){n=i(t,e)}),n};return s&&(l.assign=function(t,e,n){return s(t,n,e)}),a&&(l.inputs=a),l.literal=dn(r),l.constant=pn(r),l},recurse:function(t,e,n){var r,o,s,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case _o.Literal:return this.value(t.value,e);case _o.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case _o.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _o.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _o.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case _o.Identifier:return tn(t.name,a.expression),a.identifier(t.name,a.expensiveChecks||gn(t.name),e,n,a.expression);case _o.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(tn(t.property.name,a.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n,a.expression):this.nonComputedMember(r,o,a.expensiveChecks,e,n,a.expression);case _o.CallExpression:return s=[],i(t.arguments,function(t){s.push(a.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var a=[],u=0;u<s.length;++u)a.push(s[u](t,n,i,r));var c=o.apply(void 0,a,r);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,i,r){var u,c=o(t,n,i,r);if(null!=c.value){nn(c.context,a.expression),rn(c.value,a.expression);for(var l=[],h=0;h<s.length;++h)l.push(nn(s[h](t,n,i,r),a.expression));u=nn(c.value.apply(c.context,l),a.expression)}return e?{value:u}:u};case _o.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,s){var u=r(t,n,i,s),c=o(t,n,i,s);return nn(u.value,a.expression),on(u.context),u.context[u.name]=c,e?{value:c}:c};case _o.ArrayExpression:return s=[],i(t.elements,function(t){s.push(a.recurse(t))}),function(t,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,i,r));return e?{value:o}:o};case _o.ObjectExpression:return s=[],i(t.properties,function(t){t.computed?s.push({key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}):s.push({key:t.key.type===_o.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})}),function(t,n,i,r){for(var o={},a=0;a<s.length;++a)s[a].computed?o[s[a].key(t,n,i,r)]=s[a].value(t,n,i,r):o[s[a].key]=s[a].value(t,n,i,r);return e?{value:o}:o};case _o.ThisExpression:return function(t){return e?{value:t}:t};case _o.LocalsExpression:return function(t,n){return e?{value:n}:n};case _o.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=y(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=y(s)?-s:0,e?{value:s}:s}},"unary!":function(t,e){return function(n,i,r,o){var s=!t(n,i,r,o);return e?{value:s}:s}},"binary+":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s),u=e(i,r,o,s),c=an(a,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s),u=e(i,r,o,s),c=(y(a)?a:0)-(y(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)*e(i,r,o,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)/e(i,r,o,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)%e(i,r,o,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)===e(i,r,o,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!==e(i,r,o,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)==e(i,r,o,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!=e(i,r,o,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<e(i,r,o,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)>e(i,r,o,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<=e(i,r,o,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)>=e(i,r,o,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)&&e(i,r,o,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)||e(i,r,o,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){var u=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a);return i?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,r){return function(o,s,a,u){var c=s&&t in s?s:o;i&&1!==i&&c&&!c[t]&&(c[t]={});var l=c?c[t]:void 0;return e&&nn(l,r),n?{context:c,name:t,value:l}:l}},computedMember:function(t,e,n,i,r){return function(o,s,a,u){var c,l,h=t(o,s,a,u);return null!=h&&(c=e(o,s,a,u),c=en(c),tn(c,r),i&&1!==i&&(on(h),h&&!h[c]&&(h[c]={})),l=h[c],nn(l,r)),n?{context:h,name:c,value:l}:l}},nonComputedMember:function(t,e,n,i,r,o){return function(s,a,u,c){var l=t(s,a,u,c);r&&1!==r&&(on(l),l&&!l[e]&&(l[e]={}));var h=null!=l?l[e]:void 0;return(n||gn(e))&&nn(h,o),i?{context:l,name:e,value:h}:h}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var bo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new _o(t,n),this.astCompiler=n.csp?new vn(this.ast,e):new mn(this.ast,e)};bo.prototype={constructor:bo,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var wo=Object.prototype.valueOf,xo=e("$sce"),ko={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Eo=e("$compile"),Co=t.document.createElement("a"),$o=Nn(t.location.href);In.$inject=["$document"],Fn.$inject=["$provide"];var So=22,To=".",Do="0";Hn.$inject=["$locale"],zn.$inject=["$locale"];var Ao={yyyy:Xn("FullYear",4,0,!1,!0),yy:Xn("FullYear",2,0,!0,!0),y:Xn("FullYear",1,0,!1,!0),MMMM:Jn("Month"),MMM:Jn("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),LLLL:Jn("Month",!1,!0),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:Jn("Day"),EEE:Jn("Day",!0),a:ni,Z:Qn,ww:ei(2),w:ei(1),G:ii,GG:ii,GGG:ii,GGGG:ri},jo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Po=/^\-?\d+$/;oi.$inject=["$locale"];var Oo=m(Oi),No=m(Ni);ci.$inject=["$parse"];var Mo=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Lo={};i(Sr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=ve("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),Lo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Dr,function(t,e){Lo[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ai);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=ve("ng-"+t);Lo[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Hi.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(s,e),void(Ii&&o&&i.prop(o,r[s]))):void("href"===t&&r.$set(s,null))})}}}});var Io={$addControl:d,$$renameControl:hi,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},Ro="ng-submitted";fi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fo=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||d}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:fi,compile:function(n,r){n.addClass(ws).addClass(_s);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,s){var a=s[0];if(!("action"in r)){var u=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};pr(n[0],"submit",u),n.on("$destroy",function(){e(function(){mr(n[0],"submit",u)},0,!1)})}var l=s[1]||a.$$parentForm;l.$addControl(a);var h=o?i(a.$name):d;o&&(h(t,a),r.$observe(o,function(e){a.$name!==e&&(h(t,void 0),a.$$parentForm.$$renameControl(a,e),(h=i(a.$name))(t,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),h(t,void 0),c(a,Io)})}}}};return r}]},Uo=Fo(),qo=Fo(!0),Vo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Bo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ho=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Wo=/^(\d{4,})-(\d{2})-(\d{2})$/,Yo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go=/^(\d{4,})-W(\d\d)$/,Zo=/^(\d{4,})-(\d\d)$/,Xo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jo="keydown wheel mousedown",Qo=pt();i("date,datetime-local,month,time,week".split(","),function(t){Qo[t]=!0});var Ko={text:pi,date:yi("date",Wo,gi(Wo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yi("datetimelocal",Yo,gi(Yo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yi("time",Xo,gi(Xo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yi("week",Go,vi,"yyyy-Www"),month:yi("month",Zo,gi(Zo,["yyyy","MM"]),"yyyy-MM"),number:bi,url:wi,email:xi,radio:ki,checkbox:Ci,hidden:d,button:d,submit:d,reset:d,file:d},ts=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Ko[Oi(s.type)]||Ko.text)(r,o,s,a[0],e,t,n,i)}}}}],es=/^(true|false|\d+)$/,ns=function(){return{restrict:"A",priority:100,compile:function(t,e){return es.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},is=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=g(t)?"":t})}}}}],rs=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=g(t)?"":t})}}}}],os=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],ss=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),as=$i("",!0),us=$i("Odd",0),cs=$i("Even",1),ls=li({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),hs=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],fs={},ds={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ve("ng-"+t);fs[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};ds[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var ps=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,u,c;n.$watch(r.ngIf,function(n){n?u||s(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),a={clone:n},t.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),a&&(c=dt(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],ms=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Yi.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,u,c,l){var h,f,d,p=0,m=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){f=null}),f=d,d=null)};i.$watch(o,function(o){var u=function(){!y(a)||a&&!i.$eval(a)||e()},f=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&f===p){var e=i.$new();c.template=t;var a=l(e,function(t){m(),n.enter(t,null,r).then(u)});h=e,d=a,h.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||f===p&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],vs=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Hi.call(i[0]).match(/SVG/)?(i.empty(),void e($t(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],gs=li({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ys=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=e.attr(n.$attr.ngList)||", ",s="false"!==n.ngTrim,a=s?Ji(o):o,u=function(t){if(!g(t)){var e=[];return t&&i(t.split(a),function(t){t&&e.push(s?Ji(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(Zi(t))return t.join(o)}),r.$isEmpty=function(t){return!t||!t.length}}}},_s="ng-valid",bs="ng-invalid",ws="ng-pristine",xs="ng-dirty",ks="ng-untouched",Es="ng-touched",Cs="ng-pending",$s="ng-empty",Ss="ng-not-empty",Ts=e("ngModel"),Ds=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,o,s,a,u,c,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=Io;var h,f=o(n.ngModel),p=f.assign,m=f,v=p,_=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(t){var n=f(t);return E(n)&&(n=e(t)),n},v=function(t,e){E(f(t))?i(t,{$$$p:e}):p(t,e)}}else if(!f.assign)throw Ts("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,X(r))},this.$render=d,this.$isEmpty=function(t){return g(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){b.$isEmpty(t)?(s.removeClass(r,Ss),s.addClass(r,$s)):(s.removeClass(r,$s),s.addClass(r,Ss))};var w=0;Si({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:s}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,s.removeClass(r,xs),s.addClass(r,ws)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,s.removeClass(r,ws),s.addClass(r,xs),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,s.setClass(r,ks,Es)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,s.setClass(r,Es,ks)},this.$rollbackViewValue=function(){a.cancel(_),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!x(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,n=b.$valid,i=b.$modelValue,r=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){r||n===t||(b.$modelValue=t?e:void 0,b.$modelValue!==i&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(){var t=b.$$parserName||"parse";return g(h)?(a(t,null),!0):(h||(i(b.$validators,function(t,e){a(e,null)}),i(b.$asyncValidators,function(t,e){a(e,null)})),a(t,h),h)}function o(){var n=!0;return i(b.$validators,function(i,r){var o=i(t,e);n=n&&o,a(r,o)}),!!n||(i(b.$asyncValidators,function(t,e){a(e,null)}),!1)}function s(){var n=[],r=!0;i(b.$asyncValidators,function(i,o){var s=i(t,e);if(!P(s))throw Ts("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){r=!1,a(o,!1)}))}),n.length?c.all(n).then(function(){u(r)},d):u(!0)}function a(t,e){l===w&&b.$setValidity(t,e)}function u(t){l===w&&n(t)}w++;var l=w;return r()&&o()?void s():void u(!1)},this.$commitViewValue=function(){var t=b.$viewValue;a.cancel(_),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(t),b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,i=n;if(h=!g(i)||void 0)for(var r=0;r<b.$parsers.length;r++)if(i=b.$parsers[r](i),g(i)){h=!1;break}x(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=m(t));var o=b.$modelValue,s=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=i,s&&(b.$modelValue=i,e()),b.$$runValidators(i,b.$$lastCommittedViewValue,function(t){s||(b.$modelValue=t?i:void 0,e())})},this.$$writeModelToScope=function(){v(t,b.$modelValue),i(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=b.$options;r&&y(r.debounce)&&(n=r.debounce,x(n)?i=n:x(n[e])?i=n[e]:x(n["default"])&&(i=n["default"])),a.cancel(_),i?_=a(function(){b.$commitViewValue()},i):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,h=void 0;for(var n=b.$formatters,i=n.length,r=e;i--;)r=n[i](r);b.$viewValue!==r&&(b.$$updateEmptyClasses(r),b.$viewValue=b.$$lastCommittedViewValue=r,b.$render(),b.$$runValidators(e,r,d))}return e})}],As=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ds,priority:1,compile:function(e){return e.addClass(ws).addClass(ks).addClass(_s),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],js=/(\s+|^)default(\s+|$)/,Ps=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=F(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ji(this.$options.updateOn.replace(js,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Os=li({terminal:!0,priority:1e3}),Ns=e("ngOptions"),Ms=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ls=["$compile","$document","$parse",function(e,r,o){function s(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!c&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var a=t.match(Ms);if(!a)throw Ns("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,X(e));var u=a[5]||a[7],c=a[6],l=/ as /.test(a[0])&&a[1],h=a[9],f=o(a[2]?a[1]:u),d=l&&o(l),p=d||f,m=h&&o(h),v=h?function(t,e){return m(i,e)}:function(t){return Jt(t)},g=function(t,e){return v(t,k(t,e))},y=o(a[2]||a[1]),_=o(a[3]||""),b=o(a[4]||""),w=o(a[8]),x={},k=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:h,getTrackByValue:g,getWatchables:o(w,function(t){var e=[];t=t||[];for(var n=s(t),r=n.length,o=0;o<r;o++){var u=t===n?o:n[o],c=t[u],l=k(c,u),h=v(c,l);if(e.push(h),a[2]||a[1]){var f=y(i,l);e.push(f)}if(a[4]){var d=b(i,l);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=w(i)||[],o=s(n),a=o.length,u=0;u<a;u++){var c=n===o?u:o[u],l=n[c],f=k(l,c),d=p(i,f),m=v(d,f),x=y(i,f),E=_(i,f),C=b(i,f),$=new r(m,d,x,E,C);t.push($),e[m]=$}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return h?Yi.copy(t.viewValue):t.viewValue}}}}}function a(t,n,o,a){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function f(){var t=k&&p.readValue();if(k)for(var e=k.items.length-1;e>=0;e--){var i=k.items[e];Bt(y(i.group)?i.element.parentNode:i.element)}k=E.getOptions();var r={};if(w&&n.prepend(d),k.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=c.cloneNode(!1),C.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),l(t,e)):l(t,C)}),n[0].appendChild(C),m.$render(),!m.$isEmpty(t)){var o=p.readValue(),s=E.trackBy||v;(s?U(t,o):t===o)||(m.$setViewValue(o),m.$render())}}for(var d,p=a[0],m=a[1],v=o.multiple,g=0,_=n.children(),b=_.length;g<b;g++)if(""===_[g].value){d=_.eq(g);break}var w=!!d,x=Ri(u.cloneNode(!1));x.val("?");var k,E=s(o.ngOptions,n,t),C=r[0].createDocumentFragment(),$=function(){w||n.prepend(d),n.val(""),d.prop("selected",!0),d.attr("selected",!0)},S=function(){w||d.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},D=function(){x.remove()};v?(m.$isEmpty=function(t){return!t||0===t.length},p.writeValue=function(t){k.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=k.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},p.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=k.selectValueMap[t];n&&!n.disabled&&e.push(k.getViewValueFromOption(n))}),e},E.trackBy&&t.$watchCollection(function(){if(Zi(m.$viewValue))return m.$viewValue.map(function(t){return E.getTrackByValue(t)})},function(){m.$render()})):(p.writeValue=function(t){var e=k.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(D(),S(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||w?(D(),$()):(S(),T())},p.readValue=function(){var t=k.selectValueMap[n.val()];return t&&!t.disabled?(S(),D(),k.getViewValueFromOption(t)):null},E.trackBy&&t.$watch(function(){return E.getTrackByValue(m.$viewValue)},function(){m.$render()})),w?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=Ri(u.cloneNode(!1)),n.empty(),f(),t.$watchCollection(E.getWatchables,f)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=d},post:a}}}],Is=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,u){function c(t){a.text(t||"")}var l,h=u.count,f=u.$attr.when&&a.attr(u.$attr.when),p=u.offset||0,m=s.$eval(f)||{},v={},y=e.startSymbol(),_=e.endSymbol(),b=y+h+"-"+p+_,w=Yi.noop;i(u,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+Oi(n[2]);m[i]=a.attr(u.$attr[e])}}),i(m,function(t,n){v[n]=e(t.replace(r,b))}),s.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in m||(i=t.pluralCat(i-p)),i!==l&&!(r&&x(l)&&isNaN(l))){w();var o=v[i];g(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),w=d,c()):w=s.$watch(o,c),l=i}})}}}],Rs=["$parse","$animate","$compile",function(t,r,o){var s="$$NG_REMOVED",a=e("ngRepeat"),u=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,h){var f=h.ngRepeat,d=o.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=p[1],v=p[2],g=p[3],y=p[4];if(p=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=p[3]||p[1],b=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);
var w,x,k,E,C={$id:Jt};return y?w=t(y):(k=function(t,e){return Jt(e)},E=function(t){return t}),function(t,e,o,h,p){w&&(x=function(e,n,i){return b&&(C[b]=e),C[_]=n,C.$index=i,w(t,C)});var m=pt();t.$watchCollection(v,function(o){var h,v,y,w,C,$,S,T,D,A,j,P,O=e[0],N=pt();if(g&&(t[g]=o),n(o))D=o,T=x||k;else{T=x||E,D=[];for(var M in o)Pi.call(o,M)&&"$"!==M.charAt(0)&&D.push(M)}for(w=D.length,j=new Array(w),h=0;h<w;h++)if(C=o===D?h:D[h],$=o[C],S=T(C,$,h),m[S])A=m[S],delete m[S],N[S]=A,j[h]=A;else{if(N[S])throw i(j,function(t){t&&t.scope&&(m[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,S,$);j[h]={id:S,scope:void 0,clone:void 0},N[S]=!0}for(var L in m){if(A=m[L],P=dt(A.clone),r.leave(P),P[0].parentNode)for(h=0,v=P.length;h<v;h++)P[h][s]=!0;A.scope.$destroy()}for(h=0;h<w;h++)if(C=o===D?h:D[h],$=o[C],A=j[h],A.scope){y=O;do y=y.nextSibling;while(y&&y[s]);c(A)!=y&&r.move(dt(A.clone),null,O),O=l(A),u(A.scope,h,_,$,b,C,w)}else p(function(t,e){A.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,r.enter(t,null,O),O=n,A.clone=t,N[A.id]=A,u(A.scope,h,_,$,b,C,w)});m=N})}}}}],Fs="ng-hide",Us="ng-hide-animate",qs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Fs,{tempClasses:Us})})}}}],Vs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Fs,{tempClasses:Us})})}}}],Bs=li(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Hs=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,s){var a=o.ngSwitch||o.on,u=[],c=[],l=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var r,o;for(r=0,o=l.length;r<o;++r)t.cancel(l[r]);for(l.length=0,r=0,o=h.length;r<o;++r){var a=dt(c[r].clone);h[r].$destroy();var d=l[r]=t.leave(a);d.then(f(l,r))}c.length=0,h.length=0,(u=s.cases["!"+n]||s.cases["?"])&&i(u,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var s={clone:i};c.push(s),t.enter(i,o.parent(),o)})})})}}}],zs=li({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Ws=li({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Ys=e("ngTransclude"),Gs=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function s(t,n){t.length?e.append(t):(a(),n.$destroy())}function a(){n(t,function(t){e.append(t)})}if(!o)throw Ys("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var u=i.ngTransclude||i.ngTranscludeSlot;o(s,null,u),u&&!o.isSlotFilled(u)&&a()}}}}],Zs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Xs={$setViewValue:d,$render:d},Js=["$element","$scope",function(e,n){var i=this,r=new Qt;i.ngModelCtrl=Xs,i.unknownOption=Ri(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Jt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=d}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==ur){ht(t,'"option value"'),""===t&&(i.emptyOption=e);var n=r.get(t)||0;r.put(t,n+1),i.ngModelCtrl.$render(),Di(e)}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(i.emptyOption=void 0)):r.put(t,e-1))},i.hasOption=function(t){return!!r.get(t)},i.registerOption=function(t,e,n,r,o){if(r){var s;n.$observe("value",function(t){y(s)&&i.removeOption(s),s=t,i.addOption(t,e)})}else o?t.$watch(o,function(t,r){n.$set("value",t),r!==t&&i.removeOption(r),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Qs=function(){function t(t,e,n,r){var o=r[1];if(o){var s=r[0];if(s.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Qt(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var a,u=NaN;t.$watch(function(){u!==o.$viewValue||U(a,o.$viewValue)||(a=vt(o.$viewValue),o.$render()),u=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Js,priority:1,link:{pre:t,post:e}}},Ks=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",s=e.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(t,e,n,i,r)}}}}],ta=m({restrict:"E",terminal:!1}),ea=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},na=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,X(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||g(o)||o.test(e)}}}}},ia=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=h(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},ra=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ut(),_t(Yi),Yi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Ri(t.document).ready(function(){it(t.document,rt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],2:[function(t,e,n){t("./angular"),e.exports=angular},{"./angular":1}],3:[function(t,e,n){"use strict";function i(t){return function(){var e=arguments.length;if(e){for(var n=[],i=-1;++i<e;)n[i]=arguments[i];return t.call(this,n)}return t.call(this,[])}}e.exports=i},{}],4:[function(t,e,n){(function(n){"use strict";function i(t){t=t||{},this.concurrency=t.concurrency||4,this.delay=t.delay||0,this.interval=t.interval||5e3,this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this._queue=[],this._queueWaiting=[],this._processed=[],this._working=!1}var r=t("bluebird");i.prototype.start=function(){var t=this;return n.nextTick(function(){t._dequeue()}),new r(function(e,n){t.onComplete=e,t.onError=n})},i.prototype.add=function(t){if(t instanceof Array)this._queue=this._queue.concat(t);else{if(!("function"==typeof t||"then"in t))throw new Error("No promises were provided");this._queue.push(t)}},i.prototype.addNow=function(t){this.add(t),this._working||this._dequeue()},i.prototype.drain=function(){if(this._queue.length)try{for(var t=0;t<this._queueWaiting.length;t++)clearTimeout(this._queueWaiting[t]);this._queueWaiting=[];var e=Math.floor(this._queue.length/this.concurrency);if(0===e)this._working=!1,this._dequeue();else for(t=0;t<e;t++)this._working=!1,this._dequeue()}catch(n){this.onError(n)}},i.prototype._dequeue=function(){var t=this;try{if(t._working)return void t._queueWaiting.push(setTimeout(function(){t._dequeue()},t.interval));var e=[];t._working=!0;for(var n=0;n<t.concurrency;n++)if(t._queue[n]){var i=t._queue.shift();e.push("function"==typeof i?i():i)}if(!e.length)return void(t._working=!1);r.all(e).delay(t.delay).spread(function(){t._processed=t._processed.concat(Array.prototype.slice.call(arguments)),t._queue.length||t._queueWaiting.length||t.onComplete(t._processed),t._working=!1,t._queue.length&&!t._queueWaiting.length&&t._dequeue()})["catch"](t.onError)}catch(o){t._working=!1,t.onError(o)}},e.exports=i}).call(this,t("_process"))},{_process:82,bluebird:5}],5:[function(t,e,n){(function(t,i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof i?r=i:"undefined"!=typeof self&&(r=self),r.Promise=t()}}(function(){var e,n,r;return function o(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,o,t,e,n)}return e[s].exports}for(var r="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),i=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),i}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";function i(){this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=c.isStatic?c(this.drainQueues):c}function r(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var a;try{throw new Error}catch(u){a=u}var c=t("./schedule.js"),l=t("./queue.js"),h=t("./util.js");i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t){setTimeout(t,0)})},i.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},h.hasDevTools?(c.isStatic&&(c=function(t){setTimeout(t,0)}),i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?r.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=o,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},e.exports=new i,e.exports.firstLineError=a},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=function(t,e){this._reject(e)},r=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},o=function(t,e){this._isPending()&&this._resolveCallback(e.target)},s=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){var a=n(i),u=new t(e);u._propagateFrom(this,1);var c=this._target();if(u._setBoundTo(a),a instanceof t){var l={promiseRejectionQueued:!1,promise:u,target:c,bindingPromise:a};c._then(e,r,u._progress,u,l),a._then(o,s,u._progress,u,l)}else u._resolveCallback(c);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=this._bitField&-131073},t.prototype._isBound=function(){return 131072===(131072&this._bitField)},t.bind=function(i,r){var o=n(i),s=new t(e);return s._setBoundTo(o),o instanceof t?o._then(function(){s._resolveCallback(r)},s._reject,s._progress,s,null):s._resolveCallback(r),s}}},{}],4:[function(t,e,n){"use strict";function i(){try{Promise===o&&(Promise=r)}catch(t){}return o}var r;"undefined"!=typeof Promise&&(r=Promise);var o=t("./promise.js")();o.noConflict=i,e.exports=o},{"./promise.js":23}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var r="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(r)}return i}function i(t){var e=this.pop(),i=n(t,e);return i.apply(t,this)}function r(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util.js"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;++r)n[r-1]=arguments[r];return n.push(t),this._then(i,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var i=s(t);e=null!==i?i:r}else e=r;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./errors.js"),i=t("./async.js"),r=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new r),i.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(i.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n,i){"use strict";n.exports=function(){function n(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);w(this,n),e>32&&this.uncycle()}function i(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function r(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function o(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,o=e[r],s=-1,a=i.length-1;a>=0;--a)if(i[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=i[a];if(e[r]!==u)break;e.pop(),r--}e=i}}function s(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r=m.test(i)||"    (No stack trace)"===i,o=r&&y(i);r&&!o&&(g&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function a(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||m.test(i))break}return n>0&&(e=e.slice(n)),e}function u(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var i=JSON.stringify(t);e=i}catch(r){}0===e.length&&(e="(empty array)")}return"(<"+c(e)+">, no stack trace)"}function c(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function l(t){var e=t.match(_);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}var h,f=e("./async.js"),d=e("./util.js"),p=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,v=null,g=!1;d.inherits(n,Error),n.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;t=this._length=i;for(var i=t-1;i>=0;--i){var o=e[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<t;++i){var s=e[i].stack,a=n[s];if(void 0!==a&&a!==i){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var u=i>0?e[i-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=i-2;l>=0;--l)e[l]._length=c,c++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=n.parseStackAndMessage(t),a=e.message,u=[e.stack],c=this;void 0!==c;)u.push(s(c.stack.split("\n"))),c=c._parent;o(u),r(u),d.notEnumerableProp(t,"stack",i(a,u)),d.notEnumerableProp(t,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?a(t):["    (No stack trace)"],{message:n,stack:s(e)}},n.formatAndLogError=function(t,e){if("undefined"!=typeof console){var n;if("object"==typeof t||"function"==typeof t){var i=t.stack;n=e+v(i,t)}else n=e+String(t);"function"==typeof h?h(n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}},n.unhandledRejection=function(t){n.formatAndLogError(t,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof w},n.fireRejectionEvent=function(t,e,i,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(i,r))}catch(s){f.throwLater(s)}var a=!1;try{a=x(t,i,r)}catch(s){a=!0,f.throwLater(s)}var u=!1;if(b)try{u=b(t.toLowerCase(),{reason:i,promise:r})}catch(s){u=!0,f.throwLater(s)}a||o||u||"unhandledRejection"!==t||n.formatAndLogError(i,"Unhandled rejection ")};var y=function(){return!1},_=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(t,e){if(n.isSupported()){for(var i,r,o=t.stack.split("\n"),s=e.stack.split("\n"),a=-1,u=-1,c=0;c<o.length;++c){var h=l(o[c]);if(h){i=h.fileName,a=h.line;break}}for(var c=0;c<s.length;++c){var h=l(s[c]);if(h){r=h.fileName,u=h.line;break}}a<0||u<0||!i||!r||i!==r||a>=u||(y=function(t){if(p.test(t))return!0;var e=l(t);return!!(e&&e.fileName===i&&a<=e.line&&e.line<=u)})}};var b,w=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():u(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=t,v=e;var n=Error.captureStackTrace;return y=function(t){return p.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,v=e,g=!0,function(t){t.stack=(new Error).stack};var r;try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(v=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?u(e):e.toString()},null):(m=t,v=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),x=function(){if(d.isNode)return function(e,n,i){return"rejectionHandled"===e?t.emit(e,i):t.emit(e,n,i)};var e=!1,n=!0;try{var i=new self.CustomEvent("test");e=i instanceof CustomEvent}catch(r){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(r){n=!1}n&&(b=function(t,n){var i;return e?i=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!1,!0,n)),!!i&&!self.dispatchEvent(i)});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var i=s[t],r=self[i];return!!r&&("rejectionHandled"===t?r.call(self,n):r.call(self,e,n),!0)}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(h=function(t){console.warn(t)},d.isNode&&t.stderr.isTTY?h=function(e){t.stderr.write("[31m"+e+"[39m\n")}:d.isNode||"string"!=typeof(new Error).stack||(h=function(t){console.warn("%c"+t,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e,n){this._instances=t,this._callback=e,this._promise=n}function i(t,e){var n={},i=s(t).call(n,e);if(i===a)return i;var r=u(n);return r.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):i}var r=t("./util.js"),o=t("./errors.js"),s=r.tryCatch,a=r.errorObj,u=t("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(t){for(var n=this._callback,r=this._promise,o=r._boundValue(),u=0,c=this._instances.length;u<c;++u){var l=this._instances[u],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&t instanceof l){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}if("function"==typeof l&&!h){var d=i(l,t);if(d===a){t=a.e;break}if(d){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}}}return e.e=t,e},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e,n){"use strict";e.exports=function(t,e,n){function i(){this._trace=new e(o())}function r(){if(n())return new i}function o(){var t=s.length-1;if(t>=0)return s[t]}var s=[];return i.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},i.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},t.prototype._peekContext=o,t.prototype._pushContext=i.prototype._pushContext,t.prototype._popContext=i.prototype._popContext,r}},{}],10:[function(e,n,i){"use strict";n.exports=function(n,i){var r,o,s=n._getDomain,a=e("./async.js"),u=e("./errors.js").Warning,c=e("./util.js"),l=c.canAttachTrace,h=c.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return c.isNode&&0==t.env.BLUEBIRD_DEBUG&&(h=!1),h&&a.disableTrampolineIfNecessary(),n.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},n.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-524289},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return h&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(h&&l(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=i.parseStackAndMessage(t);c.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new u(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var r=i.parseStackAndMessage(e);e.stack=r.message+"\n"+r.stack.join("\n")}i.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){var e=s();o="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=s();r="function"==typeof t?null===e?t:e.bind(t):void 0},n.longStackTraces=function(){if(a.haveItemsQueued()&&h===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");h=i.isSupported(),h&&a.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return h&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},h=!1),function(){return h}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e,n){"use strict";var i=t("./util.js"),r=i.isPrimitive;e.exports=function(t){var e=function(){return this},n=function(){throw this},i=function(){},o=function(){throw void 0},s=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(n){return void 0===n?this.then(i):r(n)?this._then(s(n,2),void 0,void 0,void 0,void 0):(n instanceof t&&n._ignoreRejections(),this._then(e,void 0,void 0,n,void 0))},t.prototype["throw"]=t.prototype.thenThrow=function(t){return void 0===t?this.then(o):r(t)?this._then(s(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,i){return n(t,i,null,e)}}},{}],13:[function(t,e,n){"use strict";function i(t,e){function n(i){return this instanceof n?(h(this,"message","string"==typeof i?i:e),h(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return l(n,Error),n}function r(t){return this instanceof r?(h(this,"name","OperationalError"),h(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(h(this,"message",t.message),h(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(t)}var o,s,a=t("./es5.js"),u=a.freeze,c=t("./util.js"),l=c.inherits,h=c.notEnumerableProp,f=i("Warning","warning"),d=i("CancellationError","cancellation error"),p=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(v){o=i("TypeError","type error"),s=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(m.prototype[g[y]]=Array.prototype[g[y]]);a.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var _=0;m.prototype.toString=function(){var t=Array(4*_+1).join(" "),e="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=t+r[o];i=r.join("\n"),e+=i+"\n"}return _--,e},l(r,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:d,TimeoutError:p,OperationalError:r,RejectionError:r,AggregateError:m}),h(Error,"__BluebirdErrorTypes__",b)),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},h=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:h,isES5:i,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,r){return n(t,i,r,e)}}},{}],16:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function u(t,e,n){
var i;return i=f(e)?n?s(e):a(e):n?r:o,t._then(i,d,void 0,e,void 0)}function c(t){var r=this.promise,o=this.handler,s=r._isBound()?o.call(r._boundValue()):o();if(void 0!==s){var a=i(s,r);if(a instanceof e)return a=a._target(),u(a,t,r.isFulfilled())}return r.isRejected()?(n.e=t,n):t}function l(t){var n=this.promise,r=this.handler,o=n._isBound()?r.call(n._boundValue(),t):r(t);if(void 0!==o){var s=i(o,n);if(s instanceof e)return s=s._target(),u(s,t,!0)}return t}var h=t("./util.js"),f=h.isPrimitive,d=h.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?c:l,e?c:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t,n,i){for(var o=0;o<n.length;++o){i._pushContext();var s=h(n[o])(t);if(i._popContext(),s===l){i._pushContext();var a=e.reject(l.e);return i._popContext(),a}var u=r(s,i);if(u instanceof e)return u}return null}function s(t,n,r,o){var s=this._promise=new e(i);s._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(f):f}var a=t("./errors.js"),u=a.TypeError,c=t("./util.js"),l=c.errorObj,h=c.tryCatch,f=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(t.done===!0)this._promise._resolveCallback(n);else{var i=r(n,this._promise);if(!(i instanceof e)&&(i=o(i,this._yieldHandlers,this._promise),null===i))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._next=function(t){this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,i=s,r=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new i((void 0),(void 0),n,r);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");f.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new s(t,this),r=i.promise();return i._run(e.spawn),r}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var i}for(var r=arguments.length,o=new Array(r),s=0;s<r;++s)o[s]=arguments[s];t&&o.pop();var i=new n(o).promise();return void 0!==t?i.spread(t):i}}},{"./util.js":38}],19:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){function s(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var r=c();this._callback=null===r?e:r.bind(e),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:m,l.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function u(t,e,n,i){var r="object"==typeof n&&null!==n?n.concurrency:0;return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new s(t,e,r,i)}var c=e._getDomain,l=t("./async.js"),h=t("./util.js"),f=h.tryCatch,d=h.errorObj,p={},m=[];h.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var i=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(i[n]===p){if(i[n]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[n]=t,void this._queue.push(n);null!==s&&(s[n]=t);var u=this._callback,c=this._promise._boundValue();this._promise._pushContext();var l=f(u).call(c,t,n,o);if(this._promise._popContext(),l===d)return this._reject(l.e);var h=r(l,this._promise);if(h instanceof e){if(h=h._target(),h._isPending())return a>=1&&this._inFlight++,i[n]=p,h._proxyPromiseArray(this,n);if(!h._isFulfilled())return this._reject(h._reason());l=h._value()}i[n]=l}var m=++this._totalResolved;m>=o&&(null!==s?this._filter(i,s):this._resolve(i))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,o=0;o<n;++o)t[o]&&(i[r++]=e[o]);i.length=r,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,t,e,null).promise()},e.map=function(t,e,n,r){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(t,e,n,r).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var r=s(t).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(r),i}},e.attempt=e["try"]=function(t,i,a){if("function"!=typeof t)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new e(n);u._captureStackTrace(),u._pushContext();var c=o.isArray(i)?s(t).apply(a,i):s(t).call(a,i);return u._popContext(),u._resolveFromSyncValue(c),u},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return i.call(n,t,e);var r=a(e).apply(n._boundValue(),[null].concat(t));r===u&&s.throwLater(r.e)}function i(t,e){var n=this,i=n._boundValue(),r=void 0===t?a(e).call(i,null):a(e).call(i,null,t);r===u&&s.throwLater(r.e)}function r(t,e){var n=this;if(!t){var i=n._target(),r=i._getCarriedStackTrace();r.cause=t,t=r}var o=a(e).call(n._boundValue(),t);o===u&&s.throwLater(o.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=i;void 0!==e&&Object(e).spread&&(o=n),this._then(o,r,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=t("./async.js"),o=i.tryCatch,s=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,r=t.handler,a=t.promise,u=t.receiver,c=o(r).call(u,n);if(c===s){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=i.canAttachTrace(c.e)?c.e:new Error(i.toString(c.e));a._attachExtraTrace(l),a._progress(c.e)}}else c instanceof e?c._then(a._progress,null,null,a,void 0):a._progress(c)},e.prototype._progressUnchecked=function(t){for(var i=this._length(),o=this._progress,s=0;s<i;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?r.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:t}):r.invoke(o,u,t);else{var c=this._receiverAt(s);"function"==typeof a?a.call(c,t,u):c instanceof n&&!c._isResolved()&&c._promiseProgressed(t,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,n,i){"use strict";n.exports=function(){function i(t){if("function"!=typeof t)throw new d("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==i)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==p&&this._resolveFromResolver(t)}function r(t){var e=new i(p);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._progressHandler0=t,e._promise0=t,e._receiver0=t,e._settledValue=t}var o,s=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},a=function(){return new i.PromiseInspection(this._target())},u=function(t){return i.reject(new d(t))},c=e("./util.js");o=c.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},c.notEnumerableProp(i,"_getDomain",o);var l={},h=e("./async.js"),f=e("./errors.js"),d=i.TypeError=f.TypeError;i.RangeError=f.RangeError,i.CancellationError=f.CancellationError,i.TimeoutError=f.TimeoutError,i.OperationalError=f.OperationalError,i.RejectionError=f.OperationalError,i.AggregateError=f.AggregateError;var p=function(){},m={},v={e:null},g=e("./thenables.js")(i,p),y=e("./promise_array.js")(i,p,g,u),_=e("./captured_trace.js")(),b=e("./debuggability.js")(i,_),w=e("./context.js")(i,_,b),x=e("./catch_filter.js")(v),k=e("./promise_resolver.js"),E=k._nodebackForPromise,C=c.errorObj,$=c.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;for(n=0;n<e-1;++n){var s=arguments[n];if("function"!=typeof s)return i.reject(new d("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));r[o++]=s}r.length=o,t=arguments[n];var a=new x(r,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},i.prototype.reflect=function(){return this._then(a,a,void 0,this,void 0)},i.prototype.then=function(t,e,n){if(b()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(e)),this._warn(i)}return this._then(t,e,n,void 0,void 0)},i.prototype.done=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);i._setIsFinal()},i.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,m,void 0)},i.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return new y(this).promise()},i.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},i.getNewLibraryCopy=n.exports,i.is=function(t){return t instanceof i},i.fromNode=function(t){var e=new i(p),n=$(t)(E(e));return n===C&&e._rejectCallback(n.e,!0,!0),e},i.all=function(t){return new y(t).promise()},i.defer=i.pending=function(){var t=new i(p);return new k(t)},i.cast=function(t){var e=g(t);if(!(e instanceof i)){var n=e;e=new i(p),e._fulfillUnchecked(n)}return e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(p);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=h._schedule;return h._schedule=t,e},i.prototype._then=function(t,e,n,r,s){var a=void 0!==s,u=a?s:new i(p);a||(u._propagateFrom(this,5),u._captureStackTrace());var c=this._target();c!==this&&(void 0===r&&(r=this._boundTo),a||u._setIsMigrated());var l=c._addCallbacks(t,e,n,u,r,o());return c._isResolved()&&!c._isSettlePromisesQueued()&&h.invoke(c._settlePromiseAtPostResolution,c,l),u},i.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},i.prototype._length=function(){return 131071&this._bitField},i.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},i.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},i.prototype._setLength=function(t){this._bitField=this._bitField&-131072|131071&t},i.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},i.prototype._setRejected=function(){this._bitField=134217728|this._bitField},i.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},i.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},i.prototype._isFinal=function(){return(33554432&this._bitField)>0},i.prototype._cancellable=function(){return(67108864&this._bitField)>0},i.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},i.prototype._unsetCancellable=function(){this._bitField=this._bitField&-67108865},i.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},i.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&-4194305},i.prototype._isMigrated=function(){return(4194304&this._bitField)>0},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];if(e!==l)return void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},i.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},i.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},i.prototype._boundValue=function(){var t=this._boundTo;return void 0!==t&&t instanceof i?t.isFulfilled()?t.value():void 0:t},i.prototype._migrateCallbacks=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),o=t._progressHandlerAt(e),s=t._promiseAt(e),a=t._receiverAt(e);s instanceof i&&s._setIsMigrated(),void 0===a&&(a=l),this._addCallbacks(n,r,o,s,a,null)},i.prototype._addCallbacks=function(t,e,n,i,r,o){var s=this._length();if(s>=131066&&(s=0,this._setLength(0)),0===s)this._promise0=i,void 0!==r&&(this._receiver0=r),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e)),"function"==typeof n&&(this._progressHandler0=null===o?n:o.bind(n));else{var a=5*s-5;this[a+3]=i,this[a+4]=r,"function"==typeof t&&(this[a+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[a+1]=null===o?e:o.bind(e)),"function"==typeof n&&(this[a+2]=null===o?n:o.bind(n))}return this._setLength(s+1),s},i.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var i=5*n-5;this[i+3]=e,this[i+4]=t}this._setLength(n+1)},i.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},i.prototype._resolveCallback=function(t,e){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(s(),!1,!0);var n=g(t,this);if(!(n instanceof i))return this._fulfill(t);var r=1|(e?4:0);this._propagateFrom(n,r);var o=n._target();if(o._isPending()){for(var a=this._length(),u=0;u<a;++u)o._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else o._isFulfilled()?this._fulfillUnchecked(o._value()):this._rejectUnchecked(o._reason(),o._getCarriedStackTrace())}},i.prototype._rejectCallback=function(t,e,n){n||c.markAsOriginatingFromRejection(t);var i=c.ensureErrorObject(t),r=i===t;this._attachExtraTrace(i,!!e&&r),this._reject(t,r?void 0:i)},i.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=$(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==i&&i===C&&null!==e&&(e._rejectCallback(i.e,!0,!0),e=null)},i.prototype._settlePromiseFromHandler=function(t,e,n,i){if(!i._isRejected()){i._pushContext();var r;if(r=e!==m||this._isRejected()?$(t).call(e,n):$(t).apply(this._boundValue(),n),i._popContext(),r===C||r===i||r===v){var o=r===i?s():r.e;i._rejectCallback(o,!1,!0)}else i._resolveCallback(r)}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},i.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},i.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},i.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},i.prototype._settlePromiseAt=function(t){var e=this._promiseAt(t),n=e instanceof i;if(n&&e._isMigrated())return e._unsetIsMigrated(),h.invoke(this._settlePromiseAt,this,t);var r=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,a=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof r?n?this._settlePromiseFromHandler(r,a,s,e):r.call(a,s,e):a instanceof y?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(s,e):a._promiseRejected(s,e)):n&&(this._isFulfilled()?e._fulfill(s):e._reject(s,o)),t>=4&&4===(31&t)&&h.invokeLater(this._setLength,this,0)},i.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},i.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824},i.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824},i.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},i.prototype._queueSettlePromises=function(){h.settlePromises(this),this._setSettlePromisesQueued()},i.prototype._fulfillUnchecked=function(t){if(t===this){var e=s();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},i.prototype._rejectUncheckedCheckError=function(t){var e=c.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},i.prototype._rejectUnchecked=function(t,e){if(t===this){var n=s();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?void h.throwLater(function(t){throw"stack"in t&&h.invokeFirst(_.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},i.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},c.notEnumerableProp(i,"_makeSelfResolutionError",s),e("./progress.js")(i,y),e("./method.js")(i,p,g,u),e("./bind.js")(i,p,g),e("./finally.js")(i,v,g),e("./direct_resolve.js")(i),e("./synchronous_inspection.js")(i),e("./join.js")(i,y,g,p),i.version="2.11.0",i.Promise=i,e("./map.js")(i,y,u,g,p),e("./cancel.js")(i),e("./using.js")(i,u,g,w),e("./generators.js")(i,u,p,g),e("./nodeify.js")(i),e("./call_get.js")(i),e("./props.js")(i,y,g,u),e("./race.js")(i,p,g,u),e("./reduce.js")(i,y,u,g,p),e("./settle.js")(i,y),e("./some.js")(i,y,u),e("./promisify.js")(i,p),e("./any.js")(i),e("./each.js")(i,p),e("./timers.js")(i,p),e("./filter.js")(i,p),c.toFastProperties(i),c.toFastProperties(i.prototype),r({a:1}),r({b:2}),r({c:3}),r(1),r(function(){}),r(void 0),r(!1),r(new i(p)),_.setBounds(h.firstLineError,c.lastLineError),i}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var i,r=this._promise=new e(n);t instanceof e&&(i=t,r._propagateFrom(i,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=t("./util.js"),u=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(t,n){var s=i(this._values,this._promise);if(s instanceof e){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(c,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!u(s)){var a=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!u(s))return void this._promise._reject(r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(n===-5?this._resolveEmptyArray():this._resolve(o(n)));var l=this.getActualLength(s.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var h=this._promise,f=0;f<l;++f){var d=this._isResolved(),p=i(s[f],h);p instanceof e?(p=p._target(),d?p._ignoreRejections():p._isPending()?p._proxyPromiseArray(this,f):p._isFulfilled()?this._promiseFulfilled(p._value(),f):this._promiseRejected(p._reason(),f)):d||this._promiseFulfilled(p,f)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t,e){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e,n){"use strict";function i(t){return t instanceof Error&&d.getPrototypeOf(t)===Error.prototype}function r(t){var e;if(i(t)){e=new h(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=d.keys(t),r=0;r<n.length;++r){var o=n[r];p.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t){return function(e,n){if(null!==t){if(e){var i=r(u(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;a<o;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(n);t=null}}}var s,a=t("./util.js"),u=a.maybeWrapAsError,c=t("./errors.js"),l=c.TimeoutError,h=c.OperationalError,f=a.haveGetters,d=t("./es5.js"),p=/^(?:name|message|stack|cause)$/;if(s=f?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=o(t),this.callback=this.asCallback},f){var m={get:function(){return o(this.promise)}};d.defineProperty(s.prototype,"asCallback",m),d.defineProperty(s.prototype,"callback",m)}s._nodebackForPromise=o,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},s.prototype.reject=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},s.prototype.progress=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},s.prototype.cancel=function(t){this.promise.cancel(t)},s.prototype.timeout=function(){this.reject(new l("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=s},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t){return!x.test(t)}function r(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var i=d.getDataPropertyOrDefault(t,e+n,b);return!!i&&r(i)}function s(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var o=r.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}function a(t,e,n,i){for(var a=d.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],h=t[l],f=i===k||k(l,h,t);"function"!=typeof h||r(h)||o(t,l,e)||!i(l,h,t,f)||u.push(l,h)}return s(u,e,n),u}function u(t,i,r,o){function s(){var r=i;i===f&&(r=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:t,c=p(o);try{s.apply(r,m(arguments,c))}catch(l){o._rejectCallback(v(l),!0,!0)}return o}var a=function(){return this}(),u=t;return"string"==typeof u&&(t=o),d.notEnumerableProp(s,"__isPromisified__",!0),s}function c(t,e,n,i){for(var r=new RegExp(E(e)+"$"),o=a(t,e,r,n),s=0,u=o.length;s<u;s+=2){var c=o[s],l=o[s+1],h=c+e;if(i===C)t[h]=C(c,f,c,l,e);else{var p=i(l,function(){return C(c,f,c,l,e)});d.notEnumerableProp(p,"__isPromisified__",!0),t[h]=p}}return d.toFastProperties(t),t}function l(t,e){return C(t,e,void 0,t)}var h,f={},d=t("./util.js"),p=t("./promise_resolver.js")._nodebackForPromise,m=d.withAppended,v=d.maybeWrapAsError,g=d.canEvaluate,y=t("./errors").TypeError,_="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),k=function(t){return d.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},C=g?h:u;e.promisify=function(t,e){if("function"!=typeof t)throw new y("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(r(t))return t;var n=l(t,arguments.length<2?f:e);return d.copyDescriptors(t,n,i),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var n=e.suffix;"string"!=typeof n&&(n=_);var i=e.filter;"function"!=typeof i&&(i=k);var r=e.promisifier;if("function"!=typeof r&&(r=C),!d.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=d.inheritedDataKeys(t),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&d.isClass(a)&&(c(a.prototype,n,i,r),c(a,n,i,r))}return c(t,n,i,r)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t){for(var e=c.keys(t),n=e.length,i=new Array(2*n),r=0;r<n;++r){var o=e[r];i[r]=t[o],i[r+n]=o}this.constructor$(i)}function s(t){var n,s=i(t);return u(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,4),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=t("./util.js"),u=a.isObject,c=t("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var i={},r=this.length(),o=0,s=this.length();o<s;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}},o.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=0;o<r;++o)n[o+i]=t[o+e],t[o+e]=void 0}function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},r.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&e-1^e)-e;this[i]=t,this._front=i,this._length=this.length()+1},r.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},r.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=t,this[r+1&o]=e,this[r+2&o]=n,this._length=i},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,r=this._length,o=n+r&e-1;i(this,0,this,e,o)},e.exports=r},{}],29:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t,o){var u=i(t);if(u instanceof e)return a(u);if(!s(t))return r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(n);void 0!==o&&c._propagateFrom(o,5);for(var l=c._fulfill,h=c._reject,f=0,d=t.length;f<d;++f){var p=t[f];(void 0!==p||f in t)&&e.cast(p)._then(l,h,void 0,c,null)}return c}var s=t("./util.js").isArray,a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){function s(t,n,i,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=r(i,this._promise),h=!1,f=u instanceof e;f&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(i=u._value(),this._gotAccum=!0):(this._reject(u._reason()),
h=!0)),f||this._zerothIsAccum||(this._gotAccum=!0);var d=c();this._callback=null===d?n:d.bind(n),this._accum=i,h||l.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function u(t,e,n,r){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(t,e,n,r);return o.promise()}var c=e._getDomain,l=t("./async.js"),h=t("./util.js"),f=h.tryCatch,d=h.errorObj;h.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,n){var i=this._values;i[n]=t;var o,s=this.length(),a=this._preservedValues,u=null!==a,c=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(s),o=0;o<s;++o)l[o]=0;if(o=l[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=c=!0,l[n]=0===o?1:2):n===-1?(this._accum=t,this._gotAccum=c=!0):0===o?l[n]=1:(l[n]=2,this._accum=t),c){for(var h,p=this._callback,m=this._promise._boundValue(),v=this._reducingIndex;v<s;++v)if(o=l[v],2!==o){if(1!==o)return;if(t=i[v],this._promise._pushContext(),u?(a.push(t),h=f(p).call(m,t,v,s)):h=f(p).call(m,this._accum,t,v,s),this._promise._popContext(),h===d)return this._reject(h.e);var g=r(h,this._promise);if(g instanceof e){if(g=g._target(),g._isPending())return l[v]=4,g._proxyPromiseArray(this,v);if(!g._isFulfilled())return this._reject(g._reason());h=g._value()}this._reducingIndex=v+1,this._accum=h}else this._reducingIndex=v+1;this._resolve(u?a:this._accum)}},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,i){return u(t,e,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(e,n,r){"use strict";var o,s=e("./util"),a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(s.isNode&&"undefined"==typeof MutationObserver){var u=i.setImmediate,c=t.nextTick;o=s.isRecentNode?function(t){u.call(i,t)}:function(e){c.call(t,e)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?o="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:a:(o=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},o.isStatic=!0);n.exports=o},{"./util":38}],32:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t){this.constructor$(t)}var r=e.PromiseInspection,o=t("./util.js");o.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(t,e){var n=new r;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new r;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new i(t).promise()},e.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":38}],33:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new r(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,c=s.isArray;s.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(t){this._howMany=t},r.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},r.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new u,n=this.length();n<this._values.length;++n)e.push(this._values[n]);this._reject(e)}},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(t){this._values.push(t)},r.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=r}},{"./errors.js":13,"./util.js":38}],34:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t,i){if(c(t)){if(t instanceof e)return t;if(o(t)){var l=new e(n);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}var h=a.tryCatch(r)(t);if(h===u){i&&i._pushContext();var l=e.reject(h.e);return i&&i._popContext(),l}if("function"==typeof h)return s(t,h,i)}return t}function r(t){return t.then}function o(t){return l.call(t,"_promise0")}function s(t,i,r){function o(t){l&&(l._resolveCallback(t),l=null)}function s(t){l&&(l._rejectCallback(t,f,!0),l=null)}function c(t){l&&"function"==typeof l._progress&&l._progress(t)}var l=new e(n),h=l;r&&r._pushContext(),l._captureStackTrace(),r&&r._popContext();var f=!0,d=a.tryCatch(i).call(t,o,s,c);return f=!1,l&&d===u&&(l._rejectCallback(d.e,!0,!0),l=null),h}var a=t("./util.js"),u=a.errorObj,c=a.isObject,l={}.hasOwnProperty;return i}},{"./util.js":38}],36:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function r(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t,e){if(t.isPending()){var n;!o.isPrimitive(e)&&e instanceof Error?n=e:("string"!=typeof e&&(e="operation timed out"),n=new s(e)),o.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n)}},u=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,i){if(void 0===i){i=t,t=void 0;var r=new e(n);return setTimeout(function(){r._fulfill()},i),r}return i=+i,e.resolve(t)._then(u,null,null,i,void 0)};e.prototype.delay=function(t){return c(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,e)},t);return n._then(i,r,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t){for(var n=t.length,i=0;i<n;++i){var r=t[i];if(r.isRejected())return e.reject(r.error());t[i]=r._settledValue}return t}function s(t){setTimeout(function(){throw t},0)}function a(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function r(){if(o>=u)return c.resolve();var l=a(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(h){return s(h)}if(l instanceof e)return l._then(r,s,null,null,null)}r()}var o=0,u=t.length,c=e.defer();return r(),c.promise}function c(t){var e=new v;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function l(t){var e=new v;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function h(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function d(t){return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}var p=t("./errors.js").TypeError,m=t("./util.js").inherits,v=e.PromiseInspection;h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},h.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},m(f,h),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[t-1];if("function"!=typeof r)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var s,a=!0;2===t&&Array.isArray(arguments[0])?(s=arguments[0],t=s.length,a=!1):(s=arguments,t--);for(var u=new Array(t),f=0;f<t;++f){var p=s[f];if(h.isDisposer(p)){var m=p;p=p.promise(),p._setDisposable(m)}else{var v=i(p);v instanceof e&&(p=v._then(d,null,null,{resources:u,index:f},void 0))}u[f]=p}var g=e.settle(u).then(o).then(function(t){g._pushContext();var e;try{e=a?r.apply(void 0,t):r.call(void 0,t)}finally{g._popContext()}return e})._then(c,l,void 0,u,void 0);return u.promise=g,g},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-262145,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,r());throw new p}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,i){"use strict";function r(){try{var t=S;return S=null,t.apply(this,arguments)}catch(e){return $.e=e,$}}function o(t){return S=t,r}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function a(t){return!s(t)}function u(t){return s(t)?new Error(g(t)):t}function c(t,e){var n,i=t.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=t[n];return r[n]=e,r}function l(t,e,n){if(!k.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function h(t,e,n){if(s(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return k.defineProperty(t,e,i),t}function f(t){throw t}function d(t){try{if("function"==typeof t){var e=k.names(t.prototype),n=k.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),r=A.test(t+"")&&k.names(t).length>0;if(n||i||r)return!0}return!1}catch(o){return!1}}function p(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function m(t){return j.test(t)}function v(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i}function g(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){try{h(t,"isOperational",!0)}catch(e){}}function _(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function b(t){return t instanceof Error&&k.propertyIsWritable(t,"stack")}function w(t){return{}.toString.call(t)}function x(t,e,n){for(var i=k.names(t),r=0;r<i.length;++r){var o=i[r];if(n(o))try{k.defineProperty(e,o,k.getDescriptor(t,o))}catch(s){}}}var k=e("./es5.js"),E="undefined"==typeof navigator,C=function(){try{var t={};return k.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),$={e:{}},S,T=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)i.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var i={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(k.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],r=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return i}for(var a=0;a<o.length;++a){var u=o[a];if(!r[u]){r[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&i.push(u)}}t=k.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var s=0;s<t.length;++s)if(i.call(t[s],o))continue t;r.push(o)}return r}}(),A=/this\s*\.\s*\S+\s*=/,j=/^[a-z$_][a-z$_0-9]*$/i,P=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(g(t))}:function(t){if(b(t))return t;try{throw new Error(g(t))}catch(e){return e}}}(),O={isClass:d,isIdentifier:m,inheritedDataKeys:D,getDataPropertyOrDefault:l,thrower:f,isArray:k.isArray,haveGetters:C,notEnumerableProp:h,isPrimitive:s,isObject:a,canEvaluate:E,errorObj:$,tryCatch:o,inherits:T,withAppended:c,maybeWrapAsError:u,toFastProperties:p,filledRange:v,toString:g,canAttachTrace:b,ensureErrorObject:P,originatesFromRejection:_,markAsOriginatingFromRejection:y,classString:w,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof t&&"[object process]"===w(t).toLowerCase()};O.isRecentNode=O.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),O.isNode&&O.toFastProperties(t);try{throw new Error}catch(N){O.lastLineError=N}n.exports=O},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:82}],6:[function(t,e,n){(function(t,i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof i?r=i:"undefined"!=typeof self&&(r=self),r.Promise=t()}}(function(){var e,n,r;return function o(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,o,t,e,n)}return e[s].exports}for(var r="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),i=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),i}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(e,n,i){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new h(16),this._normalQueue=new h(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=e("./schedule"),h=e("./queue"),f=e("./util");r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(r.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},r.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},r.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(r.prototype.invokeLater=o,r.prototype.invoke=s,r.prototype.settlePromises=a),r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=r,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){r||(r=!0,t.prototype._propagateFrom=i.propagateFromFunction(),t.prototype._boundValue=i.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var h=this._target();if(l._setBoundTo(c),c instanceof t){var f={promiseRejectionQueued:!1,promise:l,target:h,bindingPromise:c};h._then(e,s,void 0,l,f),c._then(a,u,void 0,l,f),l._setOnCancel(c)}else l._resolveCallback(h);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function i(){try{Promise===o&&(Promise=r)}catch(t){}return o}var r;"undefined"!=typeof Promise&&(r=Promise);var o=t("./promise")();o.noConflict=i,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var r="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(r)}return i}function i(t){var e=this.pop(),i=n(t,e);return i.apply(t,this)}function r(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var i=s(t);e=null!==i?i:r}else e=r;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var i=s(t).call(this._boundValue());i===a&&(this._attachExtraTrace(i.e),u.throwLater(i.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var h=t[l];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return o(n).call(c,u)}else if("function"==typeof h){var f=o(h).call(c,u);if(f===s)return f;if(f)return o(n).call(c,u)}else if(i.isObject(u)){for(var d=r(h),p=0;p<d.length;++p){var m=d[p];if(h[m]!=u[m])continue t}return o(n).call(c,u)}}return e}}var i=t("./util"),r=t("./es5").keys,o=i.tryCatch,s=i.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(i())}function n(){if(r)return new e}function i(){var t=o.length-1;if(t>=0)return o[t]}var r=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,r=!1},r=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(e,n,i){"use strict";n.exports=function(n,i){function r(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var i=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+F.toString(t));i._attachCancellationCallback(t)})}catch(r){return r}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?F.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function f(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function p(){this._trace=new P(this._peekContext())}function m(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=E(t);F.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),F.notEnumerableProp(t,"__stackCleaned__",!0)}}}function v(t,e,n,i,r){if(void 0===t&&null!==e&&X){if(void 0!==r&&r._returnedNonUndefined())return;if(0===(65535&i._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!V.test(l)){var h=l.match(B);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0)for(var f=u[0],c=0;c<a.length;++c)if(a[c]===f){c>0&&(s="\n"+a[c-1]);break}}var d="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i._warn(d,!0,e)}}function g(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),y(n)}function y(t,e,i){if(st.warnings){var r,o=new R(t);if(e)i._attachExtraTrace(o);else if(st.longStackTraces&&(r=n._peekContext()))r.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||C(o,"",!0)}}function _(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,o=e[r],s=-1,a=i.length-1;a>=0;--a)if(i[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=i[a];if(e[r]!==u)break;e.pop(),r--}e=i}}function x(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r="    (No stack trace)"===i||H.test(i),o=r&&it(i);r&&!o&&(W&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function k(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||H.test(i))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?k(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:x(e)}}function C(t,e,n){if("undefined"!=typeof console){var i;if(F.isObject(t)){var r=t.stack;i=e+z(r,t)}else i=e+String(t);"function"==typeof M?M(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function $(t,e,n,i){var r=!1;try{"function"==typeof e&&(r=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,i)||r||C(n,"Unhandled rejection "):et(t,i)}function S(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():F.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var i=JSON.stringify(t);e=i}catch(r){}0===e.length&&(e="(empty array)")}return"(<"+T(e)+">, no stack trace)"}function T(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function D(){return"function"==typeof ot}function A(t){var e=t.match(rt);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function j(t,e){if(D()){for(var n,i,r=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<r.length;++u){var c=A(r[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=A(o[u]);if(c){i=c.fileName,a=c.line;break}}s<0||a<0||!n||!i||n!==i||s>=a||(it=function(t){if(q.test(t))return!0;var e=A(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function P(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,P),e>32&&this.uncycle()}var O,N,M,L=n._getDomain,I=n._async,R=e("./errors").Warning,F=e("./util"),U=F.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,V=/\((?:timers\.js):\d+:\d+\)/,B=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,z=null,W=!1,Y=!(0==F.env("BLUEBIRD_DEBUG")),G=!(0==F.env("BLUEBIRD_WARNINGS")||!Y&&!F.env("BLUEBIRD_WARNINGS")),Z=!(0==F.env("BLUEBIRD_LONG_STACK_TRACES")||!Y&&!F.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=F.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!F.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){$("rejectionHandled",O,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),$("unhandledRejection",N,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return y(t,e,n||this)},
n.onPossiblyUnhandledRejection=function(t){var e=L();N="function"==typeof t?null===e?t:F.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();O="function"==typeof t?null===e?t:F.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&D()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,i.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=p,n.prototype._attachExtraTrace=m,i.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&D()};var Q=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return F.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!F.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return F.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!F.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),F.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!F.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),K=function(){return F.isNode?function(){return t.emit.apply(t,arguments)}:F.global?function(t){var e="on"+t.toLowerCase(),n=F.global[e];return!!n&&(n.apply(F.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:r},et=function(t){var e=!1;try{e=K.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var i=!1;try{i=Q(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),i=!0}return i||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;st.warnings=!!e,X=st.warnings,F.isObject(e)&&"wForgottenReturn"in e&&(X=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=h,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=h,st.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(i){return i}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=f,it=function(){return!1},rt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;F.inherits(P,Error),i.CapturedTrace=P,P.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;t=this._length=i;for(var i=t-1;i>=0;--i){var o=e[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<t;++i){var s=e[i].stack,a=n[s];if(void 0!==a&&a!==i){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var u=i>0?e[i-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=i-2;l>=0;--l)e[l]._length=c,c++;return}}}},P.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,i=[e.stack],r=this;void 0!==r;)i.push(x(r.stack.split("\n"))),r=r._parent;w(i),b(i),F.notEnumerableProp(t,"stack",_(n,i)),F.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():S(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=t,z=e;var n=Error.captureStackTrace;return it=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,z=e,W=!0,function(t){t.stack=(new Error).stack};var r;try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(z=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?S(e):e.toString()},null):(H=t,z=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(M=function(t){console.warn(t)},F.isNode&&t.stderr.isTTY?M=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:F.isNode||"string"!=typeof(new Error).stack||(M=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return Z&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return d},checkForgottenReturns:v,setBounds:j,warn:y,deprecated:g,CapturedTrace:P,fireDomEvent:Q,fireGlobalEvent:K}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],i=function(){throw e};return this.caught(t,i)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function i(t,n){return r(t,n,e,e)}var r=t.reduce,o=t.all;t.prototype.each=function(t){return r(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,e,e)},t.each=function(t,i){return r(t,i,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=i}},{}],12:[function(t,e,n){"use strict";function i(t,e){function n(i){return this instanceof n?(h(this,"message","string"==typeof i?i:e),h(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return l(n,Error),n}function r(t){return this instanceof r?(h(this,"name","OperationalError"),h(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(h(this,"message",t.message),h(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,h=c.notEnumerableProp,f=i("Warning","warning"),d=i("CancellationError","cancellation error"),p=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(v){o=i("TypeError","type error"),s=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(m.prototype[g[y]]=Array.prototype[g[y]]);a.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var _=0;m.prototype.toString=function(){var t=Array(4*_+1).join(" "),e="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=t+r[o];i=r.join("\n"),e+=i+"\n"}return _--,e},l(r,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:d,TimeoutError:p,OperationalError:r,RejectionError:r,AggregateError:m}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},h=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:h,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,r){return n(t,i,r,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function s(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function u(t){if(!s(this,t))return f.e=t,f}function c(t){var r=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),t);if(l===i)return l;if(void 0!==l){r._setReturnedNonUndefined();var d=n(l,r);if(d instanceof e){if(null!=this.cancelPromise){if(d._isCancelled()){var p=new h("late cancellation observer");return r._attachExtraTrace(p),f.e=p,f}d.isPending()&&d._attachCancellationCallback(new o(this))}return d._then(a,u,void 0,this,void 0)}}}return r.isRejected()?(s(this),f.e=t,f):(s(this),t)}var l=t("./util"),h=e.CancellationError,f=l.errorObj,d=t("./catch_filter")(i);return r.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,c,c)},e.prototype.tap=function(t){return this._passThrough(t,1,c)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,c);var i,r=new Array(n-1),o=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!l.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));r[o++]=s}r.length=o;var a=arguments[i];return this._passThrough(d(r,a,this),1,void 0,c)},r}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o,s){function a(t,n,i){for(var o=0;o<n.length;++o){i._pushContext();var s=d(n[o])(t);if(i._popContext(),s===f){i._pushContext();var a=e.reject(f.e);return i._popContext(),a}var u=r(s,i);if(u instanceof e)return u}return null}function u(t,n,r,o){if(s.cancellation()){var a=new e(i),u=this._finallyPromise=new e(i);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(i);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,h=t("./util"),f=h.errorObj,d=h.tryCatch,p=[];h.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=d(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var i=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),t=d(this._generator["throw"]).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=d(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=d(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var i=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,i=u,r=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new i((void 0),(void 0),n,r),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));p.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new u(t,this),r=i.promise();return i._run(e.spawn),r}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var i}var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o,s){function a(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var r=c();this._callback=null===r?e:l.domainBind(r,e),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function u(t,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+l.classString(n));var s=0;if(void 0!==r){if("object"!=typeof r||null===r)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(r)));if("number"!=typeof r.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(r.concurrency)));s=r.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),h=l.tryCatch,f=l.errorObj,d=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var i=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,i[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return i[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,d=c._boundValue();c._pushContext();var p=h(l).call(d,t,n,o),m=c._popContext();if(s.checkForgottenReturns(p,m,null!==a?"Promise.filter":"Promise.map",c),p===f)return this._reject(p.e),!0;var v=r(p,this._promise);if(v instanceof e){v=v._target();var g=v._bitField;if(0===(50397184&g))return u>=1&&this._inFlight++,i[n]=v,v._proxy(this,(n+1)*-1),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(v._reason()),!0):(this._cancel(),!0);p=v._value()}i[n]=p}var y=++this._totalResolved;return y>=o&&(null!==a?this._filter(i,a):this._resolve(i),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},a.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,o=0;o<n;++o)t[o]&&(i[r++]=e[o]);i.length=r,this._resolve(i)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,i){return u(t,e,n,i)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var r=a(t).apply(this,arguments),s=i._popContext();return o.checkForgottenReturns(r,s,"Promise.method",i),i._resolveFromSyncValue(r),i}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return r("expecting a function but got "+s.classString(t));var i=new e(n);i._captureStackTrace(),i._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var h=i._popContext();return o.checkForgottenReturns(u,h,"Promise.try",i),i._resolveFromSyncValue(u),i},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function i(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function r(t){var e;if(i(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),r=0;r<n.length;++r){var o=n[r];h.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,i){if(null!==t){if(n){var o=r(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(i);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),h=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return i.call(n,t,e);var r=a(e).apply(n._boundValue(),[null].concat(t));r===u&&s.throwLater(r.e)}function i(t,e){var n=this,i=n._boundValue(),r=void 0===t?a(e).call(i,null):a(e).call(i,null,t);r===u&&s.throwLater(r.e)}function r(t,e){var n=this;if(!t){var i=new Error(t+"");i.cause=t,t=i}var r=a(e).call(n._boundValue(),t);r===u&&s.throwLater(r.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=i;void 0!==e&&Object(e).spread&&(o=n),this._then(o,r,void 0,this,t)}return this}}},{"./util":36}],22:[function(e,n,i){"use strict";n.exports=function(){function i(){}function r(t,e){if(null==t||t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+p.classString(e))}function o(t){t!==w&&r(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},h=function(){return new o.PromiseInspection(this._target())},f=function(t){return o.reject(new _(t))},d={},p=e("./util");c=p.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(o,"_getDomain",c);var m=e("./es5"),v=e("./async"),g=new v;m.defineProperty(o,"_async",{value:g});var y=e("./errors"),_=o.TypeError=y.TypeError;o.RangeError=y.RangeError;var b=o.CancellationError=y.CancellationError;o.TimeoutError=y.TimeoutError,o.OperationalError=y.OperationalError,o.RejectionError=y.OperationalError,o.AggregateError=y.AggregateError;var w=function(){},x={},k={},E=e("./thenables")(o,w),C=e("./promise_array")(o,w,E,f,i),$=e("./context")(o),S=$.create,T=e("./debuggability")(o,$),D=(T.CapturedTrace,e("./finally")(o,E,k)),A=e("./catch_filter")(k),j=e("./nodeback"),P=p.errorObj,O=p.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,i=new Array(e-1),r=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!p.isObject(o))return f("Catch statement predicate: expecting an object but got "+p.classString(o));i[r++]=o}return i.length=r,t=arguments[n],this.then(void 0,A(i,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(h,h,void 0,this,void 0)},o.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+p.classString(t);arguments.length>1&&(n+=", "+p.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?f("expecting a function but got "+p.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},o.prototype.error=function(t){return this.caught(p.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=O(t)(j(e,n));return i===P&&e._rejectCallback(i.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new C(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+p.classString(t));return g.setScheduler(t)},o.prototype._then=function(t,e,n,i,r){var s=void 0!==r,a=s?r:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===i&&0!==(2097152&this._bitField)&&(i=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var h=c();if(0!==(50397184&l)){var f,d,m=u._settlePromiseCtx;0!==(33554432&l)?(d=u._rejectionHandler0,f=t):0!==(16777216&l)?(d=u._fulfillmentHandler0,f=e,u._unsetRejectionIsUnhandled()):(m=u._settlePromiseLateCancellationObserver,d=new b("late cancellation observer"),u._attachExtraTrace(d),f=e),g.invoke(m,u,{handler:null===h?f:"function"==typeof f&&p.domainBind(h,f),promise:a,receiver:i,value:d})}else u._addCallbacks(t,e,a,i,h);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==d)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,i=t._promise0,r=t._receiverAt(0);void 0===r&&(r=d),this._addCallbacks(e,n,i,r,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),r=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=d),this._addCallbacks(n,i,r,o,null)},o.prototype._addCallbacks=function(t,e,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof t&&(this._fulfillmentHandler0=null===r?t:p.domainBind(r,t)),"function"==typeof e&&(this._rejectionHandler0=null===r?e:p.domainBind(r,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=i,"function"==typeof t&&(this[s+0]=null===r?t:p.domainBind(r,t)),"function"==typeof e&&(this[s+1]=null===r?e:p.domainBind(r,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(l());var r=i._bitField;if(0===(50397184&r)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&r))this._fulfill(i._value());else if(0!==(16777216&r))this._reject(i._reason());else{var u=new b("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var i=p.ensureErrorObject(t),r=i===t;if(!r&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+p.classString(t);this._warn(o,!0)}this._attachExtraTrace(i,!!e&&r),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==w){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==i&&e._rejectCallback(i,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,i){var r=i._bitField;if(0===(65536&r)){i._pushContext();var o;e===x?n&&"number"==typeof n.length?o=O(t).apply(this._boundValue(),n):(o=P,o.e=new _("cannot .spread() a non-array: "+p.classString(n))):o=O(t).call(e,n);var s=i._popContext();r=i._bitField,0===(65536&r)&&(o===k?i._reject(n):o===P?i._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",i,this),i._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,r){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof D&&n.isFinallyHandler()?(n.cancelPromise=t,O(e).call(n,r)===P&&t._reject(P.e)):e===h?t._fulfill(h.call(n)):n instanceof i?n._promiseCancelled(t):s||t instanceof C?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof i?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(r):t._reject(r))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,i=t.receiver,r=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,i,r,n):e.call(i,r,n):n instanceof o&&n._reject(r)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,t,r,e)},o.prototype._clearCallbackDataAtIndex=function(t){
var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():g.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?g.fatalError(t,p.isNode):void((65535&e)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,t),this._fulfillPromises(e,i)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},p.notEnumerableProp(o,"_makeSelfResolutionError",l),e("./method")(o,w,E,f,T),e("./bind")(o,w,E,T),e("./cancel")(o,C,f,T),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,C,E,w,g,c),o.Promise=o,o.version="3.5.1",e("./map.js")(o,C,f,E,w,T),e("./call_get.js")(o),e("./using.js")(o,f,E,S,w,T),e("./timers.js")(o,w,T),e("./generators.js")(o,f,w,E,i,T),e("./nodeify.js")(o),e("./promisify.js")(o,w),e("./props.js")(o,C,E,f),e("./race.js")(o,w,E,f),e("./reduce.js")(o,C,f,E,w,T),e("./settle.js")(o,C,T),e("./some.js")(o,C,f),e("./filter.js")(o,w),e("./each.js")(o,w),e("./any.js")(o),p.toFastProperties(o),p.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),T.setBounds(v.firstLineError,p.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){function s(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function a(t){var i=this._promise=new e(n);t instanceof e&&i._propagateFrom(t,3),i._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=i(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=r("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,s=null,a=0;a<n;++a){var u=i(t[a],r);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||r._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t){return!x.test(t)}function r(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var i=d.getDataPropertyOrDefault(t,e+n,b);return!!i&&r(i)}function s(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var o=r.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,i){for(var a=d.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],h=t[l],f=i===k||k(l,h,t);"function"!=typeof h||r(h)||o(t,l,e)||!i(l,h,t,f)||u.push(l,h)}return s(u,e,n),u}function u(t,i,r,o,s,a){function u(){var r=i;i===f&&(r=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=p(o,a);try{s.apply(r,m(arguments,u))}catch(h){o._rejectCallback(v(h),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),d.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,i,r){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],h=s[u+1],p=l+e;if(i===C)t[p]=C(l,f,l,h,e,r);else{var m=i(h,function(){return C(l,f,l,h,e,r)});d.notEnumerableProp(m,"__isPromisified__",!0),t[p]=m}}return d.toFastProperties(t),t}function l(t,e,n){return C(t,e,void 0,t,null,n)}var h,f={},d=t("./util"),p=t("./nodeback"),m=d.withAppended,v=d.maybeWrapAsError,g=d.canEvaluate,y=t("./errors").TypeError,_="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),k=function(t){return d.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},C=g?h:u;e.promisify=function(t,e){if("function"!=typeof t)throw new y("expecting a function but got "+d.classString(t));if(r(t))return t;e=Object(e);var n=void 0===e.context?f:e.context,o=!!e.multiArgs,s=l(t,n,o);return d.copyDescriptors(t,s,i),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,i=e.suffix;"string"!=typeof i&&(i=_);var r=e.filter;"function"!=typeof r&&(r=k);var o=e.promisifier;if("function"!=typeof o&&(o=C),!d.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=d.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&d.isClass(u)&&(c(u.prototype,i,r,o,n),c(u,i,r,o,n))}return c(t,i,r,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=h(t),n=!0;else{var i=l.keys(t),r=i.length;e=new Array(2*r);for(var o=0;o<r;++o){var s=i[o];e[o]=t[s],e[o+r]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function s(t){var n,s=i(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var h=function(){function t(t,i){this[e]=t,this[e+n]=i,e++}var e=0,n=0;return function(i){n=i.size,e=0;var r=new Array(2*i.size);return i.forEach(t,r),r}}(),f=function(t){for(var e=new a,n=t.length/2|0,i=0;i<n;++i){var r=t[n+i],o=t[i];e.set(r,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap)i=f(this._values);else{i={};for(var r=this.length(),o=0,s=this.length();o<s;++o)i[this._values[o+r]]=this._values[o]}return this._resolve(i),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=0;o<r;++o)n[o+i]=t[o+e],t[o+e]=void 0}function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},r.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=t,this[r+1&o]=e,this[r+2&o]=n,this._length=i},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,r=this._length,o=n+r&e-1;i(this,0,this,e,o)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){function o(t,o){var u=i(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return r("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,h=c._reject,f=0,d=t.length;f<d;++f){var p=t[f];(void 0!==p||f in t)&&e.cast(p)._then(l,h,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o,s){function a(t,n,i,r){this.constructor$(t);var s=f();this._fn=null===s?n:d.domainBind(s,n),void 0!==i&&(i=e.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,r===o?this._eachValues=Array(this._length):0===r?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,r){if("function"!=typeof e)return i("expecting a function but got "+d.classString(e));var o=new a(t,e,n,r);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=r(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(h,void 0,void 0,this,void 0)):h.call(this,n)}function h(t){var n=this.array,i=n._promise,r=p(n._fn);i._pushContext();var o;o=void 0!==n._eachValues?r.call(i._boundValue(),t,this.index,this.length):r.call(i._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=i._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var f=e._getDomain,d=t("./util"),p=d.tryCatch;d.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,i,r=t.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=e.resolve(t[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<r;++i){var o={accum:null,value:t[i],index:i,length:r,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,i){return c(t,e,n,i)}}},{"./util":36}],29:[function(e,n,r){"use strict";var o,s=e("./util"),a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=i.setImmediate,l=t.nextTick;o=s.isRecentNode?function(t){c.call(i,t)}:function(e){l.call(t,e)}}else if("function"==typeof u&&"function"==typeof u.resolve){var h=u.resolve();o=function(t){h.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:a:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,i=document.createElement("div"),r=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});r.observe(i,e);var o=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(t,e),o()}}();n.exports=o},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(r,n),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return i.deprecated(".settle()",".reflect()"),new r(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new r(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(t){this._howMany=t},r.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},r.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},r.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},r.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(t){this._values.push(t)},r.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=r}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),i.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function i(t,i){if(l(t)){if(t instanceof e)return t;var r=o(t);if(r===c){i&&i._pushContext();var u=e.reject(r.e);return i&&i._popContext(),u}if("function"==typeof r){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,r,i)}}return t}function r(t){return t.then}function o(t){try{return r(t)}catch(e){return c.e=e,c}}function s(t){try{return h.call(t,"_promise0")}catch(e){return!1}}function a(t,i,r){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,h,!0),a=null)}var a=new e(n),l=a;r&&r._pushContext(),a._captureStackTrace(),r&&r._popContext();var h=!0,f=u.tryCatch(i).call(t,o,s);return h=!1,a&&f===c&&(a._rejectCallback(f.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,h={}.hasOwnProperty;return i}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,i){function r(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),i.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),i.cancellation()&&s._setOnCancel(new r(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var h=function(t,e,n){var i;i="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._reject(i),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new r(setTimeout(function(){n.isPending()&&h(n,e,a)},t));return i.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function r(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),t.promise)}catch(h){return a(h)}if(o instanceof e)return o._then(r,a,null,null,null)}r()}var s=0,c=t.length,l=new e(o);return r(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function h(t,e,n){this.constructor$(t,e,n)}function f(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function d(t){this.length=t,this.promise=null,this[t-1]=null}var p=t("./util"),m=t("./errors").TypeError,v=t("./util").inherits,g=p.errorObj,y=p.tryCatch,_={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(h,l),h.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},d.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var i=this[n];i instanceof e&&i.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[t-1];if("function"!=typeof r)return n("expecting a function but got "+p.classString(r));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new d(t),h=0;h<t;++h){var m=o[h];if(l.isDisposer(m)){var v=m;m=m.promise(),m._setDisposable(v)}else{var _=i(m);_ instanceof e&&(m=_._then(f,null,null,{resources:u,index:h},void 0))}u[h]=m}for(var b=new Array(u.length),h=0;h<b.length;++h)b[h]=e.resolve(u[h]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),r=y(r);var i=a?r.apply(void 0,t):r(t),o=x._popContext();return s.checkForgottenReturns(i,o,"Promise.using",x),i}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new h(t,this,r());throw new m}}},{"./errors":12,"./util":36}],36:[function(e,n,r){"use strict";function o(){try{var t=j;return j=null,t.apply(this,arguments)}catch(e){return A.e=e,A}}function s(t){return j=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(y(t)):t}function l(t,e){var n,i=t.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=t[n];return r[n]=e,r}function h(t,e,n){if(!T.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function f(t,e,n){if(a(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return T.defineProperty(t,e,i),t}function d(t){throw t}function p(t){try{if("function"==typeof t){var e=T.names(t.prototype),n=T.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),r=M.test(t+"")&&T.names(t).length>0;if(n||i||r)return!0}return!1}catch(o){return!1}}function m(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return L.test(t)}function g(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i}function y(t){try{return t+""}catch(e){return"[no string representation]"}}function _(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{f(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return _(t)&&T.propertyIsWritable(t,"stack")}function k(t){return{}.toString.call(t)}function E(t,e,n){for(var i=T.names(t),r=0;r<i.length;++r){var o=i[r];if(n(o))try{T.defineProperty(e,o,T.getDescriptor(t,o))}catch(s){}}}function C(e){return q?t.env[e]:void 0}function $(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function S(t,e){return t.bind(e)}var T=e("./es5"),D="undefined"==typeof navigator,A={e:{}},j,P="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof i?i:void 0!==this?this:null,O=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)i.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var i={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},N=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(T.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],r=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return i}for(var a=0;a<o.length;++a){var u=o[a];if(!r[u]){r[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&i.push(u)}}t=T.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var s=0;s<t.length;++s)if(i.call(t[s],o))continue t;r.push(o)}return r}}(),M=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(y(t))}:function(t){if(x(t))return t;try{throw new Error(y(t))}catch(e){return e}}}(),R=function(t){return T.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done;)n.push(e.value);return n};R=function(t){return T.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?F(t):null}}var U="undefined"!=typeof t&&"[object process]"===k(t).toLowerCase(),q="undefined"!=typeof t&&"undefined"!=typeof t.env,V={isClass:p,isIdentifier:v,inheritedDataKeys:N,getDataPropertyOrDefault:h,thrower:d,isArray:T.isArray,asArray:R,notEnumerableProp:f,isPrimitive:a,isObject:u,isError:_,canEvaluate:D,errorObj:A,tryCatch:s,inherits:O,withAppended:l,maybeWrapAsError:c,toFastProperties:m,filledRange:g,toString:y,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:k,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:q,env:C,global:P,getNativePromise:$,domainBind:S};V.isRecentNode=V.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),V.isNode&&V.toFastProperties(t);try{throw new Error}catch(B){V.lastLineError=B}n.exports=V},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:82}],7:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function s(t){return t&&!isNaN(t.getTime())}function a(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var u in o)n.test(u)&&(r=u.replace(a,i),s[r]=o[u]);return s}function u(e){var n={};if(v[e]||(e=e.split("-")[0],v[e])){var i=v[e];return t.each(m,function(t,e){e in i&&(n[e]=i[e])}),n}}var c=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new c;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),l=function(e,n){t.data(e,"datepicker",this),this._process_options(n),this.dates=new c,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),
this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};l.prototype={constructor:l,_resolveViewName:function(e){return t.each(g.viewModes,function(n,i){if(e===n||t.inArray(e,i.names)!==-1)return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{if(n===e||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var i=t(n);return i.length>0}catch(r){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;v[o]||(o=o.split("-")[0],v[o]||(o=p.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var s=g.parseFormat(r.format);r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=g.parseDate(r.startDate,s,r.language,r.assumeNearbyYear):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=g.parseDate(r.endDate,s,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,function(t){return g.parseDate(t,s,r.language,r.assumeNearbyYear)});var a=String(r.orientation).toLowerCase().split(/\s+/g),u=r.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===a.length)switch(a[0]){case"top":case"bottom":r.orientation.y=a[0];break;case"left":case"right":r.orientation.x=a[0]}else u=t.grep(a,function(t){return/^left|right$/.test(t)}),r.orientation.x=u[0]||"auto",u=t.grep(a,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=u[0]||"auto";else;if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=g.parseDate(r.defaultViewDate,s,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var c=r.defaultViewDate.year||(new Date).getFullYear(),l=r.defaultViewDate.month||0,h=r.defaultViewDate.day||1;r.defaultViewDate=n(c,l,h)}else r.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&t.inArray("text/plain",e.originalEvent.clipboardData.types)!==-1)n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=t(this.o.container),o=r.width(),s="body"===this.o.container?t(document).scrollTop():r.scrollTop(),a=r.offset(),u=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&u.push(Number(e))});var c=Math.max.apply(Math,u)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),f=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left-a.left,p=l.top-a.top;"body"!==this.o.container&&(p+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-f)):l.left<0?(this.picker.addClass("datepicker-orient-left"),d-=l.left-i):d+e>o?(this.picker.addClass("datepicker-orient-right"),d+=f-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var m,v=this.o.orientation.y;if("auto"===v&&(m=-s+p-n,v=m<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+v),"top"===v?p-=n+parseInt(this.picker.css("padding-top")):p+=h,this.o.rtl){var g=o-(d+f);this.picker.css({top:p,right:g,zIndex:c})}else this.picker.css({top:p,left:d,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',t.inArray(e,this.o.daysOfWeekDisabled)!==-1&&(n+=" disabled"),n+='">'+v[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t,e=this._utc_to_local(this.viewDate),n="",i=0;i<12;i++)t=e&&e.getMonth()===i?" focused":"",n+='<span class="month'+t+'">'+v[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],o=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=i();return e.getUTCFullYear()<o||e.getUTCFullYear()===o&&e.getUTCMonth()<s?n.push("old"):(e.getUTCFullYear()>o||e.getUTCFullYear()===o&&e.getUTCMonth()>s)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(e,a)&&n.push("today"),this.dates.contains(e)!==-1&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),t.inArray(e.valueOf(),this.range)!==-1&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,s,a,u){for(var c,l,h,f="",d=r/10,p=this.picker.find(n),m=Math.floor(o/r)*r,v=m+9*d,g=Math.floor(this.viewDate.getFullYear()/d)*d,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),_=m-d;_<=v+d;_+=d)c=[i],l=null,_===m-d?c.push("old"):_===v+d&&c.push("new"),t.inArray(_,y)!==-1&&c.push("active"),(_<s||_>a)&&c.push("disabled"),_===g&&c.push("focused"),u!==t.noop&&(h=u(new Date(_,0,1)),h===e?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),h.enabled===!1&&c.push("disabled"),h.classes&&(c=c.concat(h.classes.split(/\s+/))),h.tooltip&&(l=h.tooltip)),f+='<span class="'+c.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+_+"</span>";p.find(".datepicker-switch").text(m+"-"+v),p.find("td").html(f)},fill:function(){var i,r,o=new Date(this.viewDate),s=o.getUTCFullYear(),a=o.getUTCMonth(),u=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),c=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,f=v[this.o.language].today||v.en.today||"",d=v[this.o.language].clear||v.en.clear||"",p=v[this.o.language].titleFormat||v.en.titleFormat;if(!isNaN(s)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(o,p,this.o.language)),this.picker.find("tfoot .today").text(f).css("display",this.o.todayBtn===!0||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(d).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var m=n(s,a,0),y=m.getUTCDate();m.setUTCDate(y-(m.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(m);m.getUTCFullYear()<100&&_.setUTCFullYear(m.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var b,w,x=[];m.valueOf()<_;){if(b=m.getUTCDay(),b===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+m+(this.o.weekStart-b-7)%7*864e5),E=new Date(Number(k)+(11-k.getUTCDay())%7*864e5),C=new Date(Number(C=n(E.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),$=(E-C)/864e5/7+1;x.push('<td class="cw">'+$+"</td>")}w=this.getClassNames(m),w.push("day");var S=m.getUTCDate();this.o.beforeShowDay!==t.noop&&(r=this.o.beforeShowDay(this._utc_to_local(m)),r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),r.enabled===!1&&w.push("disabled"),r.classes&&(w=w.concat(r.classes.split(/\s+/))),r.tooltip&&(i=r.tooltip),r.content&&(S=r.content)),w=t.isFunction(t.uniqueSort)?t.uniqueSort(w):t.unique(w),x.push('<td class="'+w.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+m.getTime().toString()+'">'+S+"</td>"),i=null,b===this.o.weekEnd&&x.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var T=v[this.o.language].monthsTitle||v.en.monthsTitle||"Months",D=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?T:s).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&D.eq(e.getUTCMonth()).addClass("active")}),(s<u||s>l)&&D.addClass("disabled"),s===u&&D.slice(0,c).addClass("disabled"),s===l&&D.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var A=this;t.each(D,function(n,i){var r=new Date(s,n,1),o=A.o.beforeShowMonth(r);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),o.enabled!==!1||t(i).hasClass("disabled")||t(i).addClass("disabled"),o.classes&&t(i).addClass(o.classes),o.tooltip&&t(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,s,u,l,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,u,l,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,u,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 0:t=i<=o&&r<=s,e=i>=a&&r>=u;break;case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(i/c)*c<=o,e=Math.floor(i/c)*c+c>=a}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var r,o,s,a;r=t(e.target),r.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,1===this.viewMode?(a=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,s=Number(r.text()),this.viewDate.setUTCFullYear(s)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(s,a,o)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget),i=n.data("date"),r=new Date(i);this.o.updateViewDate&&(r.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),r.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(r)},navArrowsClick:function(e){var n=t(e.currentTarget),i=n.hasClass("prev")?-1:1;0!==this.viewMode&&(i*=12*g.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,i),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),e!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!s(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),u=Math.abs(e);if(e=e>0?1:-1,1===u)i=e===-1?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var c=0;c<u;c++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"),n&&this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"),n&&this._trigger("changeMonth",this.viewDate)):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e=4*e),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e=4*e),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,d.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var r=i.getUTCDate(),o=this.keepEmptyValues,s=t.inArray(n.target,this.inputs),a=s-1,u=s+1,c=this.inputs.length;if(s!==-1){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&o||e.setUTCDate(r)}),r<this.dates[a])for(;a>=0&&r<this.dates[a];)this.pickers[a--].setUTCDate(r);else if(r>this.dates[u])for(;u<c&&r>this.dates[u];)this.pickers[u++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var f=t.fn.datepicker,d=function(n){var i=Array.apply(null,arguments);i.shift();var r;if(this.each(function(){var e=t(this),o=e.data("datepicker"),s="object"==typeof n&&n;if(!o){var c=a(this,"date"),f=t.extend({},p,c,s),d=u(f.language),m=t.extend({},p,d,c,s);e.hasClass("input-daterange")||m.inputs?(t.extend(m,{inputs:m.inputs||e.find("input").toArray()}),o=new h(this,m)):o=new l(this,m),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(r=o[n].apply(o,i))}),r===e||r instanceof l||r instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return r};t.fn.datepicker=d;var p=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},m=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var v=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,r,o,s){function a(t,e){return e===!0&&(e=10),t<100&&(t+=2e3,t>(new Date).getFullYear()+e&&(t-=100)),t}function u(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof r&&(r=g.parseFormat(r)),r.toValue)return r.toValue(n,r,o);var c,h,f,d,p,m={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},y={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in y&&(n=y[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(c=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,d=0;d<c.length;d++)h=c[d].match(/([\-+]\d+)([dmwy])/i),f=Number(h[1]),p=m[h[2].toLowerCase()],n=l.prototype[p](n,f);return l.prototype._zero_utc_time(n)}c=n&&n.match(this.nonpunctuation)||[];var _,b,w={},x=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(s?a(e,s):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.yy=k.yyyy,k.M=k.MM=k.mm=k.m,k.dd=k.d,n=i();var E=r.parts.slice();if(c.length!==E.length&&(E=t(E).filter(function(e,n){return t.inArray(n,x)!==-1}).toArray()),c.length===E.length){var C;for(d=0,C=E.length;d<C;d++){if(_=parseInt(c[d],10),h=E[d],isNaN(_))switch(h){case"MM":b=t(v[o].months).filter(u),_=t.inArray(b[0],v[o].months)+1;break;case"M":b=t(v[o].monthsShort).filter(u),_=t.inArray(b[0],v[o].monthsShort)+1}w[h]=_}var $,S;for(d=0;d<x.length;d++)S=x[d],S in w&&!isNaN(w[S])&&($=new Date(n),k[S]($,w[S]),isNaN($)||(n=$))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=g.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var r={d:e.getUTCDate(),D:v[i].daysShort[e.getUTCDay()],DD:v[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:v[i].monthsShort[e.getUTCMonth()],MM:v[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)o.length&&e.push(o.shift()),e.push(r[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=f,this},t.fn.datepicker.version="1.7.1",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),d.call(n,"show"))}),t(function(){d.call(t('[data-provide="datepicker-inline"]'))})})},{jquery:72}],8:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t,e){function n(e,n){if(a[e]){var r=i(this),o=a[e].apply(r,n);return"undefined"==typeof o?t(this):o}throw new Error("method '"+e+"()' does not exist for slider.")}function i(e){var n=t(e).data("slider");if(n&&n instanceof s)return n;throw new Error(o.callingContextNotSliderInstance)}function r(e){var n=t(this);return n.each(function(){var n=t(this),i=n.data("slider"),r="object"==typeof e&&e;i&&!r&&(r={},t.each(t.fn.slider.defaults,function(t){r[t]=i[t]})),n.data("slider",new s(this,t.extend({},t.fn.slider.defaults,r)))}),n}var o={
formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},s=function(n,i){var r=this.element=t(n).hide(),o=t(n)[0].style.width,s=!1,a=this.element.next(".widget");switch(a.hasClass("slider")===!0?(s=!0,this.widget=a):this.widget=t('<div class="widget"><div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div></div></div>').insertAfter(this.element),this.picker=this.widget.find(".slider"),this.id=this.element.data("slider-id")||i.id,this.id&&(this.widget[0].id=this.id),("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&(this.touchCapable=!0),s===!0&&(this.widget.removeClass("slider-horizontal"),this.widget.removeClass("slider-vertical")),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.widget.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight";break;default:this.widget.addClass("slider-horizontal").css("width",o),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"}var u=this;switch(t.each(["min","max","step","precision","value","reversed","handle"],function(t,e){"undefined"!=typeof r.data("slider-"+e)?u[e]=r.data("slider-"+e):"undefined"!=typeof i[e]?u[e]=i[e]:"undefined"!=typeof r.prop(e)?u[e]=r.prop(e):u[e]=0}),this.value instanceof Array?s&&!this.range?this.value=this.value[0]:this.range=!0:this.range&&(this.value=[this.value,this.max]),this.selection=this.element.data("slider-selection")||i.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style,s===!0&&(this.handle1.removeClass("round triangle"),this.handle2.removeClass("round triangle hide")),this.handle){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.setValue(this.value),this.handle1.on({keydown:t.proxy(this.keydown,this,0)}),this.handle2.on({keydown:t.proxy(this.keydown,this,1)}),this.touchCapable&&this.picker.on({touchstart:t.proxy(this.mousedown,this)}),this.picker.on({mousedown:t.proxy(this.mousedown,this)}),this.enabled=i.enabled&&(this.element.data("slider-enabled")===e||this.element.data("slider-enabled")===!0),this.enabled?this.enable():this.disable(),this.natural_arrow_keys=this.element.data("slider-natural_arrow_keys")||i.natural_arrow_keys};s.prototype={constructor:s,over:!1,inDrag:!1,layout:function(){var t;t=this.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1Stype[this.stylePos]=t[0]+"%",this.handle2Stype[this.stylePos]=t[1]+"%","vertical"===this.orientation?(this.selectionElStyle.top=Math.min(t[0],t[1])+"%",this.selectionElStyle.height=Math.abs(t[0]-t[1])+"%"):(this.selectionElStyle.left=Math.min(t[0],t[1])+"%",this.selectionElStyle.width=Math.abs(t[0]-t[1])+"%")},mousedown:function(e){if(!this.isEnabled())return!1;this.touchCapable&&"touchstart"===e.type&&(e=e.originalEvent),this.triggerFocusOnHandle(),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var n=this.getPercentage(e);if(this.range){var i=Math.abs(this.percentage[0]-n),r=Math.abs(this.percentage[1]-n);this.dragged=i<r?0:1}else this.dragged=0;this.percentage[this.dragged]=this.reversed?100-n:n,this.layout(),this.touchCapable&&t(document).on({touchmove:t.proxy(this.mousemove,this),touchend:t.proxy(this.mouseup,this)}),t(document).on({mousemove:t.proxy(this.mousemove,this),mouseup:t.proxy(this.mouseup,this)}),this.inDrag=!0;var o=this.calculateValue();return this.element.trigger({type:"slideStart",value:o}).data("value",o).prop("value",o),this.setValue(o),!0},triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},keydown:function(t,e){if(!this.isEnabled())return!1;var n;switch(e.which){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){this.natural_arrow_keys&&("vertical"===this.orientation&&!this.reversed||"horizontal"===this.orientation&&this.reversed)&&(n*=-1);var i=n*this.percentage[2],r=this.percentage[t]+i;r>100?r=100:r<0&&(r=0),this.dragged=t,this.adjustPercentageForRangeSliders(r),this.percentage[this.dragged]=r,this.layout();var o=this.calculateValue();return this.element.trigger({type:"slideStart",value:o}).data("value",o).prop("value",o),this.setValue(o,!0),this.element.trigger({type:"slideStop",value:o}).data("value",o).prop("value",o),!1}},mousemove:function(t){if(!this.isEnabled())return!1;this.touchCapable&&"touchmove"===t.type&&(t=t.originalEvent);var e=this.getPercentage(t);this.adjustPercentageForRangeSliders(e),this.percentage[this.dragged]=this.reversed?100-e:e,this.layout();var n=this.calculateValue();return this.setValue(n,!0),!1},adjustPercentageForRangeSliders:function(t){this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0))},mouseup:function(){if(!this.isEnabled())return!1;this.touchCapable&&t(document).off({touchmove:this.mousemove,touchend:this.mouseup}),t(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1;var e=this.calculateValue();return this.layout(),this.element.data("value",e).prop("value",e).trigger({type:"slideStop",value:e}),!1},calculateValue:function(){var t;return this.range?(t=[this.min,this.max],0!==this.percentage[0]&&(t[0]=Math.max(this.min,this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step),t[0]=this.applyPrecision(t[0])),100!==this.percentage[1]&&(t[1]=Math.min(this.max,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step),t[1]=this.applyPrecision(t[1])),this.value=t):(t=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,t<this.min?t=this.min:t>this.max&&(t=this.max),t=parseFloat(t),t=this.applyPrecision(t),this.value=[t,this.value[1]]),t},applyPrecision:function(t){var e=this.precision||this.getNumDigitsAfterDecimalPlace(this.step);return this.applyToFixedAndParseFloat(t,e)},getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=100*(t[this.mousePos]-this.offset[this.stylePos])/this.size;return e=Math.round(e/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,e))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(t,e){if(t||(t=0),this.value=this.validateInputValue(t),this.range?(this.value[0]=this.applyPrecision(this.value[0]),this.value[1]=this.applyPrecision(this.value[1]),this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=this.applyPrecision(this.value),this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"===this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.diff>0?this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff]:this.percentage=[0,0,100],this.layout(),e===!0){var n=this.range?this.value:this.value[0];this.element.trigger({type:"slide",value:n}).data("value",n).prop("value",n)}},validateInputValue:function(e){if("number"==typeof e)return e;if(e instanceof Array)return t.each(e,function(t,e){if("number"!=typeof e)throw new Error(o.formatInvalidInputErrorMsg(e))}),e;throw new Error(o.formatInvalidInputErrorMsg(e))},destroy:function(){this.handle1.off(),this.handle2.off(),this.element.off().show(),this.picker.off().remove(),t(this.element).removeData("slider")},disable:function(){this.enabled=!1,this.handle1.removeAttr("tabindex"),this.handle2.removeAttr("tabindex"),this.picker.addClass("slider-disabled"),this.element.trigger("slideDisabled")},enable:function(){this.enabled=!0,this.handle1.attr("tabindex",0),this.handle2.attr("tabindex",0),this.picker.removeClass("slider-disabled"),this.element.trigger("slideEnabled")},toggle:function(){this.enabled?this.disable():this.enable()},isEnabled:function(){return this.enabled},setAttribute:function(t,e){this[t]=e},getAttribute:function(t){return this[t]}};var a={getValue:s.prototype.getValue,setValue:s.prototype.setValue,setAttribute:s.prototype.setAttribute,getAttribute:s.prototype.getAttribute,destroy:s.prototype.destroy,disable:s.prototype.disable,enable:s.prototype.enable,toggle:s.prototype.toggle,isEnabled:s.prototype.isEnabled};t.fn.slider=function(t){if("string"==typeof t&&"refresh"!==t){var e=Array.prototype.slice.call(arguments,1);return n.call(this,t,e)}return r.call(this,t)},t.fn.slider.defaults={min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",natural_arrow_keys:!1,handle:"round",reversed:!1,enabled:!0,formater:function(t){return t}},t.fn.slider.Constructor=s})},{jquery:72}],9:[function(t,e,n){e.exports={maps:[{tiles:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"],name:"streets",attribution:' <a href="http://openstreetmap.org">OpenStreetMap</a> | <a href="www.openstreetmap.org/copyright">Terms</a>'},{tiles:"GOOGLE_SATELLITE",name:"satellite"}],googleApiKey:"",repeatOrdinals:!1,validateContinuously:!1,validatePage:!1,swipePage:!0,arcGis:{jsUrl:"",cssUrl:"",webMapId:"",hasZ:!0,basemaps:["streets"]}}},{}],10:[function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==i&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){p(function(){var i;try{i=e(n)}catch(r){return m.reject(t,r)}i===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,i)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,m.reject(t,e))}function i(e){o||(o=!0,m.resolve(t,e))}function r(){e(i,n)}var o=!1,s=c(r);"error"===s.status&&n(s.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(i){n.status="error",n.value=i}return n}function l(t){return t instanceof this?t:m.resolve(new this(i),t)}function h(t){var e=new this(i);return m.reject(e,t)}function f(t){function e(t,e){function i(t){s[e]=t,++a!==r||o||(o=!0,m.resolve(c,s))}n.resolve(t).then(i,function(t){o||(o=!0,m.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,u=-1,c=new this(i);++u<r;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,m.resolve(a,t))},function(t){o||(o=!0,m.reject(a,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=-1,a=new this(i);++s<r;)e(t[s]);return a}var p=t("immediate"),m={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];e.exports=r,r.prototype["finally"]=function(t){function e(e){function n(){return e}return i.resolve(t()).then(n)}function n(e){function n(){throw e}return i.resolve(t()).then(n)}if("function"!=typeof t)return this;var i=this.constructor;return this.then(e,n)},r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(i);if(this.state!==y){var r=this.state===g?t:e;s(n,r,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=c(a,e);if("error"===n.status)return m.reject(t,n.value);var i=n.value;if(i)u(t,i);else{t.state=g,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},m.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=l,r.reject=h,r.all=f,r.race=d},{immediate:69}],11:[function(t,e,n){"use strict";function i(t){this.message=t||"unknown",this.name="FormLogicError",this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports=i},{}],12:[function(t,e,n){(function(n){"use strict";var i=t("mergexml/mergexml"),r=t("./utils"),o=t("jquery"),s=t("lie"),a=t("./Form-logic-error"),u=t("enketo/config"),c=t("./types"),l="repeat:/",h=/instance\(\s*(["'])((?:(?!\1)[A-z0-9.\-_]+))\1\s*\)/g,f=/(decimal-date-time\(|pow\(|indexed-repeat\(|format-date\(|coalesce\(|join\(|max\(|min\(|random\(|substr\(|int\(|uuid\(|regex\(|now\(|today\(|date\(|if\(|boolean-from-string\(|checklist\(|selected\(|selected-at\(|round\(|area\(|position\([^)])/,d="http://openrosa.org/xforms",p="http://openrosa.org/javarosa",m="http://enketo.org/xforms";t("./extend");var v,g;v=function(t,e){"string"==typeof t&&(t={modelStr:t}),t.external=t.external||[],t.submitted="undefined"==typeof t.submitted||t.submitted,e=e||{},e.full="undefined"==typeof e.full||e.full,this.$events=o("<div/>"),this.convertedExpressions={},this.templates={},this.loadErrors=[],this.data=t,this.options=e,this.namespaces={}},v.prototype={get version(){return this.evaluate("/node()/@version","string",null,null,!0)},get instanceID(){return this.getMetaNode("instanceID").getVal()[0]},get deprecatedID(){return this.getMetaNode("deprecatedID").getVal()[0]||""},get instanceName(){return this.getMetaNode("instanceName").getVal()[0]}},v.prototype.init=function(){var t,e,n,i,r=this;this.data.modelStr=this.data.modelStr.replace(/\s(xmlns=("|')[^\s>]+("|'))/g," data-$1"),this.options.full||(this.data.modelStr=this.data.modelStr.replace(/^(<model\s*><instance((?!<instance).)+<\/instance\s*>\s*)(<instance.+<\/instance\s*>)*/,"$1"));try{t="model",this.xml=o.parseXML(this.data.modelStr),this.data.external.forEach(function(s){for(t='instance "'+s.id+'"'||"instance unknown",n=r.getSecondaryInstance(s.id),i=n.childNodes,e=i.length-1;e>=0;e--)n.removeChild(i[e]);n.appendChild(o.parseXML(s.xmlStr).firstChild)}),this.createSession("__session",this.data.session)}catch(s){console.error("parseXML error"),this.loadErrors.push("Error trying to parse XML "+t+". "+s.message)}if(this.xml){try{this.$=o(this.xml),this.hasInstance=!!this.xml.querySelector("model > instance"),this.rootElement=this.xml.querySelector("instance > *")||this.xml.documentElement,this.setNamespaces(),this.getMetaNode("instanceID").get().get(0)||r.loadErrors.push("Invalid primary instance. Missing instanceID node."),this.$.find("model > instance[src]:empty").each(function(t,e){r.loadErrors.push('External instance "'+o(e).attr("id")+'" is empty.')}),this.trimValues(),this.extractTemplates()}catch(s){console.error(s),this.loadErrors.push(s.name+": "+s.message)}try{t="record",this.data.instanceStr&&this.mergeXml(this.data.instanceStr),this.setInstanceIdAndDeprecatedId()}catch(s){console.error(s),this.loadErrors.push("Error trying to parse XML "+t+". "+s.message)}}return this.loadErrors},v.prototype.createSession=function(t,e){var n,i,s=this.xml.querySelector("model"),a=["deviceid","username","email","phonenumber","simserial","subscriberid"];s&&(e="object"==typeof e?e:{},n=s.querySelector('instance[id="'+t+'"]'),n||(n=o.parseXML('<instance id="'+t+'"/>').documentElement,this.xml.adoptNode(n),s.appendChild(n)),a.forEach(function(t){e[t]=e[t]||r.readCookie("__enketo_meta_"+t)||t+" not found"}),i=o.parseXML("<session><context>"+a.map(function(t){return"<"+t+">"+e[t]+"</"+t+">"}).join("")+"</context></session>").documentElement,this.xml.adoptNode(i),n.appendChild(i))},v.prototype.getSecondaryInstance=function(t){var e;return[].slice.call(this.xml.querySelectorAll("model > instance")).some(function(n){var i=n.getAttribute("id");return i===t&&(e=n,!0)}),e},v.prototype.node=function(t,e,n){return new g(t,e,n,this)},v.prototype.importNode=function(t,e){var n,i;switch(t.nodeType){case document.ELEMENT_NODE:var r=document.createElementNS(t.namespaceURI,t.nodeName);if(t.attributes&&t.attributes.length>0)for(n=0,i=t.attributes.length;n<i;n++){var o=t.attributes[n];o.namespaceURI?r.setAttributeNS(o.namespaceURI,o.nodeName,t.getAttributeNS(o.namespaceURI,o.localName)):r.setAttribute(o.nodeName,t.getAttribute(o.nodeName))}if(e&&t.childNodes&&t.childNodes.length>0)for(n=0,i=t.childNodes.length;n<i;n++)r.appendChild(this.importNode(t.childNodes[n],e));return r;case document.TEXT_NODE:case document.CDATA_SECTION_NODE:case document.COMMENT_NODE:return document.createTextNode(t.nodeValue)}},v.prototype.mergeXml=function(t){var e,r,s,a,u,c,l,h,f=this;if(t){if(s=this.xml.querySelector("instance"),a=this.xml.querySelector("instance > *"),!a)throw new Error("Model is corrupt. It does not contain a childnode of instance");t=t.replace(/\s(xmlns=("|')[^\s>]+("|'))/g,""),t=t.replace(/<!--[^>]*-->/g,""),l=o.parseXML(t),h=o(l),c=l.querySelectorAll("[*|template]");for(var d=0;d<c.length;d++)o(c[d]).remove();if(h.find("*").each(function(){var t,e,n,i=this,r=0;try{t=f.getXPath(i,"instance",!1),("undefined"!=typeof f.templates[t]||f.getRepeatIndex(i)>0)&&(e=f.getXPath(i,"instance",!0),f.evaluate(e,"node",null,null,!0)||(n=e.match(/([^[]+)\[(\d+)\]\//g),n&&n.length>0&&(r=n[n.length-1].match(/\[(\d+)\]/)[1]-1),f.addRepeat(t,r,!0)))}catch(o){console.log("Ignored error:",o)}}),h.find("*").filter(function(){var t=this,e=t.textContent;return 0===t.childNodes.length&&0===e.trim().length}).each(function(){var t=f.getXPath(this,"instance",!0),e=f.node(t,0).get()[0];e&&(0===e.childNodes.length?e.textContent="":f.evaluate("//*[not(*)]","nodes",t,0,!0).forEach(function(t){t.textContent=""}))}),r=new i({join:!1}),e=(new XMLSerializer).serializeToString(a),t=(new XMLSerializer).serializeToString(l),r.AddSource(e),r.AddSource(t),r.error.code)throw new Error(r.error.text);u=o.parseXML(r.Get(1)),this.xml.querySelector("instance").removeChild(a),a=n.navigator.userAgent.indexOf("Trident/")>=0?this.importNode(u.documentElement,!0):this.xml.adoptNode(u.documentElement,!0),s.appendChild(a),this.rootElement=a}},v.prototype.getXPath=function(t,e,n){var i,r=[],o="",s=t.nodeName,a=t.parentNode,u=a.nodeName;for(e=e||"#document",n=n||!1,n&&(i=this.getRepeatIndex(t),i>0&&(o="["+(i+1)+"]")),r.push(s+o);a&&u!==e&&"#document"!==u;)n&&(i=this.getRepeatIndex(a),o=i>0?"["+(i+1)+"]":""),r.push(u+o),a=a.parentNode,u=a.nodeName;return"/"+r.reverse().join("/")},v.prototype.getRepeatIndex=function(t){for(var e=0,n=t.nodeName,i=t.previousSibling;i;)i.nodeName&&i.nodeName===n&&e++,i=i.previousSibling;return e},v.prototype.trimValues=function(){this.node(null,null,{noEmpty:!0}).get().each(function(){this.textContent=this.textContent.trim()})},v.prototype.setInstanceIdAndDeprecatedId=function(){var t,e,n,i,r;t=this.getMetaNode("instanceID"),e=t.get().get(0),r=t.getVal()[0],this.data.instanceStr&&this.data.submitted&&(n=this.getMetaNode("deprecatedID").get().get(0),e.textContent="",n||(n=o.parseXML("<deprecatedID/>").documentElement,this.xml.adoptNode(n),i=this.xml.querySelector("* > meta"),i.appendChild(n))),t.getVal()[0]||t.setVal(this.evaluate('concat("uuid:", uuid())',"string")),n&&this.getMetaNode("deprecatedID").setVal(r)},v.prototype.bindJsEvaluator=t("./xpath-evaluator-binding"),v.prototype.getMetaNode=function(t){var e=this.getNamespacePrefix(d),n=this.node("/*/"+e+":meta/"+e+":"+t);return 0===n.get().length&&(n=this.node("/*/meta/"+t)),n},v.prototype.getRepeatCommentText=function(t){return t=t.trim(),l+t},v.prototype.getRepeatCommentEl=function(t,e){var n='//comment()[self::comment()="'+this.getRepeatCommentText(t)+'"]';return this.evaluate(n,"nodes",null,null,!0)[e]},v.prototype.addRepeat=function(t,e,n){var i,r,s,a,u=this;this.templates[t]||this.extractFakeTemplates([t]),a=this.templates[t],s=this.getRepeatSeries(t,e),i=o(s.length?s[s.length-1]:this.getRepeatCommentEl(t,e)),n||s.forEach(function(t){u.addOrdinalAttribute(t,s[0])}),a&&1===i.length?(r=o(a).clone().insertAfter(i),this.removeOrdinalAttributes(r[0]),n||this.addOrdinalAttribute(r[0],s[0]),n&&r.find("*").filter(function(){return 0===o(this).children().length}).text("")):console.error("Could not find template node and/or node to insert the clone after")},v.prototype.addOrdinalAttribute=function(t,e){var n,i,r=this.getNamespacePrefix(m);e=e||t,u.repeatOrdinals!==!0||t.getAttributeNS(m,"ordinal")||(n=e.getAttributeNS(m,"last-used-ordinal")||0,i=Number(n)+1,e.setAttributeNS(m,r+":last-used-ordinal",i),t.setAttributeNS(m,r+":ordinal",i))},v.prototype.removeOrdinalAttributes=function(t){if(u.repeatOrdinals===!0){var e=Array.prototype.slice.call(t.querySelectorAll("[*|ordinal]"));e.push(t);for(var n=0;n<e.length;n++)e[n].removeAttributeNS(m,"last-used-ordinal"),e[n].removeAttributeNS(m,"ordinal")}},v.prototype.getRepeatSeries=function(t,e){var n,i,r,o=this.getRepeatCommentEl(t,e),s=[];if(o)for(n=o.textContent.substr(l.length).split("/"),i=n[n.length-1],r=o.nextSibling;r;)r.nodeName&&r.nodeName===i&&s.push(r),r=r.nextSibling;return s},v.prototype.hasPreviousSiblingElementSameName=function(t){var e=!1,n=t.nodeName;for(t=t.previousSibling;t;){if(t.nodeName&&t.nodeName===n){e=!0;break}t=t.previousSibling}return e},v.prototype.hasPreviousCommentSiblingWithContent=function(t,e){var n=!1;for(t=t.previousSibling;t;){if(t.nodeType===Node.COMMENT_NODE&&t.textContent===e){n=!0;break}t=t.previousSibling}return n},v.prototype.determineIndex=function(t){var e,n,i,r=this;return 1===t.length?(e=t.prop("nodeName"),n=this.getXPath(t.get(0),"instance"),i=this.$.find(e.replace(/\./g,"\\.")).filter(function(){return n===r.getXPath(this,"instance")}),1===i.length?null:i.index(t)):(console.error("no node, or multiple nodes, provided to determineIndex function"),-1)},v.prototype.extractTemplates=function(){var t=this;this.getTemplateNodes().reverse().forEach(function(e){var n=t.getXPath(e,"instance");t.addTemplate(n,e),o(e).remove()})},v.prototype.extractFakeTemplates=function(t){var e,n=this;t.forEach(function(t){e=n.evaluate(t,"node",null,null,!0),e&&n.addTemplate(t,e,!0)})},v.prototype.addRepeatComments=function(t){var e=this.getRepeatCommentText(t),n=this;this.evaluate(t,"nodes",null,null,!0).forEach(function(t){n.hasPreviousSiblingElementSameName(t)||n.hasPreviousCommentSiblingWithContent(t,e)||o(t).before(document.createComment(e))})},v.prototype.addTemplate=function(t,e,n){var i;this.addRepeatComments(t),this.templates[t]||(i=o(e).clone().removeAttr("template").removeAttr("jr:template"),n&&i.find("*").filter(function(){return 0===o(this).children().length}).text(""),this.templates[t]=i[0])},v.prototype.getTemplateNodes=function(){var t=this.getNamespacePrefix(p);return this.evaluate("/model/instance[1]/*//*[@template] | /model/instance[1]/*//*[@"+t+":template]","nodes",null,null,!1)},v.prototype.getStr=function(){var t=(new XMLSerializer).serializeToString(this.xml.querySelector("instance > *")||this.xml.documentElement,"text/xml");return t=t.replace(/\s(data-)(xmlns=("|')[^\s>]+("|'))/g," $2"),t=t.replace(new RegExp("<!--"+l+"\\/[^>]+-->","g"),""),navigator.userAgent.indexOf("Trident/")===-1&&(t=this.removeDuplicateEnketoNsDeclarations(t)),t},v.prototype.removeDuplicateEnketoNsDeclarations=function(t){var e=0,n=new RegExp("( xmlns:"+this.getNamespacePrefix(m)+'="'+m+'")',"g");return t.replace(n,function(t){return e++,e>1?"":t})},v.prototype.makeBugCompliant=function(t,e,n){var i,r,o,s,a,u,c,l;for(s=this.node(e,n).get(),l=s.parents().add(s),i=l.length-1;i>=0;i--)a=l.eq(i),u=a.prop("nodeName").replace(/\./g,"\\."),c=a.siblings(u).not("[template]"),"instance"!==u.toLowerCase()&&"model"!==u.toLowerCase()&&c.length>0&&(r=this.getXPath(a.get(0),"instance"),o=c.add(a).index(a),t=t.replace(new RegExp(r+"/","g"),r+"["+(o+1)+"]/"));return t},v.prototype.setNamespaces=function(){var t,e=this.hasInstance?"/model/instance":"",n=this.evaluate(e+"/*","nodes",null,null,!0),i=this;n.forEach(function(e){if(e.hasAttributes())for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];0===r.name.indexOf("xmlns:")&&(i.namespaces[r.name.substring(6)]=r.value)}[["orx",d,!1],["jr",p,!1],["enk",m,u.repeatOrdinals===!0]].forEach(function(n){i.getNamespacePrefix(n[1])||(t=i.namespaces[n[0]]?"__"+n[0]:n[0],i.namespaces[t]=n[1],n[2]&&e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+t,n[1]))})})},v.prototype.getNamespacePrefix=function(t){var e;for(var n in this.namespaces)if(this.namespaces.hasOwnProperty(n)&&this.namespaces[n]===t){e=n;break}return e},v.prototype.getNsResolver=function(){var t="undefined"==typeof this.namespaces?{}:this.namespaces;return{lookupNamespaceURI:function(e){return t[e]||null}}},v.prototype.shiftRoot=function(t){var e=/"([^"]*)(")|'([^']*)(')/g;return this.hasInstance&&(t=t.replace(e,function(t,e,n,i,r){var o="undefined"!=typeof e?encodeURIComponent(e):encodeURIComponent(i),s=n||r;return s+o+s}),t=t.replace(/^(\/(?!model\/)[^\/][^\/\s,"']*\/)/g,"/model/instance[1]$1"),t=t.replace(/([^a-zA-Z0-9.\])\/*_-])(\/(?!model\/)[^\/][^\/\s,"']*\/)/g,"$1/model/instance[1]$2"),t=t.replace(e,function(t,e,n,i,r){var o="undefined"!=typeof e?decodeURIComponent(e):decodeURIComponent(i),s=n||r;return s+o+s})),t},v.prototype.replaceInstanceFn=function(t){var e,n=this;return t.replace(h,function(t,i,r){if(e='/model/instance[@id="'+r+'"]',n.evaluate(e,"nodes",null,null,!0).length)return e;throw new a('instance "'+r+'" does not exist in model')})},v.prototype.replaceCurrentFn=function(t,e){return t=t.replace("current()/.",e+"/."),t=t.replace("current()/","/")},v.prototype.replaceIndexedRepeatFn=function(t,e,n){var i=this,o=r.parseFunctionFromExpression(t,"indexed-repeat");return o.length?(o.forEach(function(r){var o,s,u,c=r[1];if(c.length%2!==1)throw new a("indexed repeat with incorrect number of parameters found: "+r[0]);for(s=c[0],o=c.length-1;o>1;o-=2)u=isNaN(c[o])?i.evaluate(c[o],"number",e,n,!0):c[o],s=s.replace(c[o-1],c[o-1]+"[position() = "+u+"]");t=t.replace(r[0],s)}),t):t},v.prototype.replacePullDataFn=function(t,e,n){var i,r=this,o=this.convertPullDataFn(t,e,n);for(var s in o)o.hasOwnProperty(s)&&(i=r.evaluate(o[s],"string",e,n,!0),t=t.replace(s,'"'+i+'"'));return t},v.prototype.convertPullDataFn=function(t,e,n){var i=this,o=r.parseFunctionFromExpression(t,"pulldata"),s={};return o.length?(o.forEach(function(t){var o,u,c=t[1];if(4!==c.length)throw new a("pulldata with incorrect number of parameters found: "+t[0]);c[1]=r.stripQuotes(c[1]),c[2]=r.stripQuotes(c[2]),o=i.evaluate(c[3],"string",e,n,!0),o=""===o||isNaN(o)?"'"+o+"'":o,u="instance("+c[0]+")/root/item["+c[2]+" = "+o+"]/"+c[1],s[t[0]]=u}),s):s},v.prototype.evaluate=function(t,e,n,i,r){var o,s,u,c,l,h,d,p,m,v,g,y;g=t,r=r||!1,e=e||"any",i=i||0,u=this.xml,m=null,n?(d=this.node(n).get(),m=d.length,s=d.eq(i)[0]):s=this.rootElement,v=[t,n,i,m].join("|"),t=this.replaceIndexedRepeatFn(t,n,i),t=this.replacePullDataFn(t,n,i),y=g===t,this.convertedExpressions[v]?t=this.convertedExpressions[v]:(t=t.trim(),t=this.replaceInstanceFn(t),t=this.replaceCurrentFn(t,n),t=this.shiftRoot(t),m&&m>1&&(t=this.makeBugCompliant(t,n,i)),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&quot;/g,'"'),y&&(this.convertedExpressions[v]=t)),l={0:["any","ANY_TYPE"],1:["number","NUMBER_TYPE","numberValue"],2:["string","STRING_TYPE","stringValue"],3:["boolean","BOOLEAN_TYPE","booleanValue"],7:["nodes","ORDERED_NODE_SNAPSHOT_TYPE"],9:["node","FIRST_ORDERED_NODE_TYPE","singleNodeValue"]};for(c in l)if(l.hasOwnProperty(c)){if(c=Number(c),l[c][0]===e)break;c=0}if(r&&"undefined"!=typeof u.evaluate&&!f.test(t))try{h=u.evaluate(t,s,this.getNsResolver(),c,null)}catch(_){console.log("%cWell native XPath evaluation did not work... No worries, worth a shot, the expression probably contained unknown OpenRosa functions or errors:","color:orange",t)}if(!h)try{"undefined"==typeof u.jsEvaluate&&this.bindJsEvaluator(),h=u.jsEvaluate(t,s,this.getNsResolver(),c,null)}catch(_){throw new a("Could not evaluate: "+t+", message: "+_.message)}if(h){if(0===c){for(c in l)if(l.hasOwnProperty(c)&&(c=Number(c),c===Number(h.resultType)&&c>0&&c<4)){p=h[l[c][2]];break}console.error("Expression: "+t+" did not return any boolean, string or number value as expected")}else if(7===c)for(p=[],o=0;o<h.snapshotLength;o++)p.push(h.snapshotItem(o));else p=h[l[c][2]];return p}},g=function(t,e,n,i){var r=i.hasInstance?"/model/instance[1]//*":"//*";this.model=i,this.originalSelector=t,this.selector="string"==typeof t&&t.length>0?t:r,n="undefined"!=typeof n&&null!==n?n:{},this.filter=n,this.filter.onlyLeaf="undefined"!=typeof n.onlyLeaf&&n.onlyLeaf,this.filter.noEmpty="undefined"!=typeof n.noEmpty&&n.noEmpty,this.index=e},g.prototype.get=function(){var t,e;return this.nodes||(this.nodes=this.model.evaluate(this.selector,"nodes",null,null,!0)),t=this.filter.noEmpty===!0?o(this.nodes).filter(function(){var t=o(this);return e=t.text(),0===t.children().length&&e.trim().length>0}):this.filter.onlyLeaf===!0?o(this.nodes).filter(function(){return 0===o(this).children().length}):o(this.nodes),"undefined"!=typeof this.index&&null!==this.index?t.eq(this.index):t},g.prototype.setIndex=function(t){this.index=t},g.prototype.setVal=function(t,e,n,i,r){var s,a,c,l,h;return a=this.getVal()[0],c="undefined"!=typeof t&&null!==t?Array.isArray(t)?t.join(" "):t.toString():"",c=this.convert(c,n),s=this.get(),1===s.length&&c.toString().trim()!==a.toString().trim()?(s.text(c.toString()),l=this.getClosestRepeat(),l.nodes=[s.prop("nodeName")],h=this.model.getUpdateEventData(s.get(0),n),l=h?o.extend({},l,h):l,this.model.$events.trigger("dataupdate",l),u.validateContinuously&&r!==!0&&this.validate(e,i,n),"binary"===n&&(c.length>0?s.attr("type","file"):s.removeAttr("type")),l):s.length>1?(console.error("nodeset.setVal expected nodeset with one node, but received multiple"),null):0===s.length?(console.log("Data node: "+this.selector+" with null-based index: "+this.index+" not found. Ignored."),null):null},g.prototype.getVal=function(){var t=[];return this.get().each(function(){t.push(o(this).text())}),t},g.prototype.getClosestRepeat=function(){for(var t=this.get().get(0),e=t.nodeName;!("instance"===e||t.nextSibling&&t.nextSibling.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e);)t=t.parentNode,e=t.nodeName;return"instance"===e?{}:{repeatPath:this.model.getXPath(t,"instance"),repeatIndex:this.model.determineIndex(o(t))}},g.prototype.remove=function(){var t,e,n,i,r,o;if(t=this.get(),t.length>0){for(e=t.prop("nodeName"),n=this.model.getXPath(t.get(0),"instance"),i=this.model.determineIndex(t),r=this.model.getRemovalEventData(t.get(0)),this.model.templates[n]||this.model.extractFakeTemplates([n]),o=t.get(0).nextSibling,t.remove(),this.nodes=null,this.model.$events.trigger("dataupdate",{
nodes:null,repeatPath:n,repeatIndex:i});o&&o.nodeName==e;)o=o.nextSibling,this.model.$events.trigger("dataupdate",{nodes:null,repeatPath:n,repeatIndex:i++});this.model.$events.trigger("removed",r)}else console.error("could not find node "+this.selector+" with index "+this.index+" to remove ")},g.prototype.convert=function(t,e){return""===t.toString()?t:"undefined"!=typeof e&&null!==e&&"undefined"!=typeof c[e.toLowerCase()]&&"undefined"!=typeof c[e.toLowerCase()].convert?c[e.toLowerCase()].convert(t):t},g.prototype.validate=function(t,e,n){var i=this,r={};return this.validateRequired(e).then(function(e){return r.requiredValid=e,e===!1?null:i.validateConstraintAndType(t,n)}).then(function(t){return r.constraintValid=t,r})},g.prototype.validateConstraintAndType=function(t,e){var n,i=this;return e&&"undefined"!=typeof c[e.toLowerCase()]||(e="string"),t||"string"!==e&&"select"!==e&&"select1"!==e&&"binary"!==e?(n=i.getVal()[0],""===n.toString()?s.resolve(!0):s.resolve().then(function(){return c[e.toLowerCase()].validate(n)}).then(function(e){var n=!("undefined"!=typeof t&&null!==t&&t.length>0)||i.model.evaluate(t,"boolean",i.originalSelector,i.index);return e&&n})):s.resolve(!0)},g.prototype.isRequired=function(t){return!(!t||"false()"===t.trim())&&("true()"===t.trim()||this.model.evaluate(t,"boolean",this.originalSelector,this.index))},g.prototype.validateRequired=function(t){var e=this;return!t||this.getVal()[0]?s.resolve(!0):s.resolve().then(function(){return!e.isRequired(t)})},v.prototype.getUpdateEventData=function(){},v.prototype.getRemovalEventData=function(){},v.prototype.types=c,e.exports=v,v.prototype.getVersion=function(){return console.warn("FormModel.getVersion() is deprecated, use model.version"),this.version},v.prototype.get=function(){return console.warn("model.get() is deprecated, use model.$"),this.$||null},v.prototype.getXML=function(){return console.warn("model.getXML() is deprecated, use model.xml"),this.xml||null},v.prototype.getInstanceID=function(){return console.warn("model.getInstanceID() is deprecated, use model.instanceID"),this.instanceID},v.prototype.getDeprecatedID=function(){return console.warn("model.getDeprecatedID() is deprecated, use model.deprecatedID"),this.deprecatedID},v.prototype.getInstanceName=function(){return console.warn("model.getInstanceName() is deprecated, use model.instanceName"),this.instanceName}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Form-logic-error":11,"./extend":18,"./types":35,"./utils":36,"./xpath-evaluator-binding":39,"enketo/config":9,jquery:72,lie:10,"mergexml/mergexml":76}],13:[function(t,e,n){"use strict";function i(t,e,n){var i=o(t);this.$nonRepeats={},this.$all={},this.options="object"!=typeof n?{}:n,"undefined"==typeof this.options.clearIrrelevantImmediately&&(this.options.clearIrrelevantImmediately=!0),this.view={$:i,html:i[0],$clone:i.clone()},this.model=new r(e),this.repeatsPresent=this.view.$.find(".or-repeat").length>0,this.widgetsInitialized=!1,this.pageNavigationBlocked=!1}var r=t("./Form-model"),o=t("jquery"),s=t("lie"),a=t("./utils"),u=t("enketo/translator").t,c=t("enketo/config"),l=t("./input"),h=t("./repeat"),f=t("./page"),d=t("./branch"),p=t("./itemset"),m=t("./progress"),v=t("./widgets-controller"),g=t("./language"),y=t("./preload"),_=t("./output"),b=t("./calculation"),w=t("./mask");t("./plugins"),t("./extend"),i.prototype={evaluationCascadeAdditions:[],get evaluationCascade(){return[this.calc.update.bind(this.calc),this.repeats.countUpdate.bind(this.repeats),this.branch.update.bind(this.branch),this.output.update.bind(this.output),this.itemset.update.bind(this.itemset),this.validationUpdate].concat(this.evaluationCascadeAdditions)},get recordName(){return this.view.$.attr("name")},set recordName(t){this.view.$.attr("name",t)},get editStatus(){return!!this.view.$.data("edited")},set editStatus(t){t&&t!==this.view.$.data("edited")&&this.view.$.trigger("edited.enketo"),this.view.$.data("edited",t)},get surveyName(){return this.view.$.find("#form-title").text()},get instanceID(){return this.model.instanceID},get deprecatedID(){return this.model.deprecatedID},get instanceName(){return this.model.instanceName},get version(){return this.model.version},get encryptionKey(){return this.view.$.data("base64rsapublickey")},get action(){return this.view.$.attr("action")},get method(){return this.view.$.attr("method")}},i.prototype.addModule=function(t){return Object.create(t,{form:{value:this}})},i.prototype.init=function(){var t=[],e=this;if(t=t.concat(this.model.init()),"undefined"==typeof this.model||!(this.model instanceof r))return t.push("Form could not be initialized without a model."),t;this.model.$events.on("dataupdate",function(t,n){e.view.$.trigger("dataupdate.enketo",n)}),this.model.$events.on("removed",function(t,n){e.view.$.trigger("removed.enketo",n)}),this.pages=this.addModule(f),this.langs=this.addModule(g),this.progress=this.addModule(m),this.widgets=this.addModule(v),this.preloads=this.addModule(y),this.branch=this.addModule(d),this.repeats=this.addModule(h),this.input=this.addModule(l),this.output=this.addModule(_),this.itemset=this.addModule(p),this.calc=this.addModule(b),this.mask=this.addModule(w);try{return this.preloads.init(),this.view.$.data({instanceID:this.model.instanceID}),this.grosslyViolateStandardComplianceByIgnoringCertainCalcs(),this.calc.update(),this.langs.init(),this.pages.init(),this.repeats.init(),this.itemset.update(),this.setAllVals(),this.options.input=this.input,this.options.pathToAbsolute=this.pathToAbsolute.bind(this),this.options.evaluate=this.model.evaluate.bind(this.model),this.options.formClasses=a.toArray(this.view.html.classList),this.widgetsInitialized=this.widgets.init(null,this.options),this.branch.update(),this.output.update(),this.setEventHandlers(),this.calc.update(),this.pages.init(),this.mask.init(),this.editStatus=!1,this.options.goTo===!0&&location.hash&&(this.goTo(this.getGoToTarget(location.hash))||t.push(u("alert.gotonotfound.msg",{path:location.hash.substring(1)}))),this.options.printRelevantOnly!==!1&&this.view.$.addClass("print-relevant-only"),setTimeout(function(){e.progress.update()},0),t}catch(n){console.error(n),t.push(n.name+": "+n.message)}return document.querySelector("body").scrollIntoView(),console.debug("loadErrors",t),t},i.prototype.getDataStr=function(t){return t="object"!=typeof t||null===t?{}:t,t.irrelevant===!1?this.getDataStrWithoutIrrelevantNodes():this.model.getStr()},i.prototype.resetView=function(){o("#form-languages").remove(),this.view.$.replaceWith(this.view.$clone)},i.prototype.replaceChoiceNameFn=function(t,e,n,i,r){var s,a,u,c="",l=t.match(new RegExp("jr:choice-name\\(([^,]+),\\s*(?:\"([^\"]*)\"|'([^']*)')\\s*\\)"));return l?(s=this.model.evaluate(l[1],e,n,i,r),a=(l[2]||l[3]||"").trim(),u=this.view.$.find('[name="'+a+'"]'),u.length>0&&"select"===u.prop("nodeName").toLowerCase()?c=u.find('[value="'+s+'"]').text():u.length>0&&"input"===u.prop("nodeName").toLowerCase()&&(c=u.filter(function(){return o(this).attr("value")===s}).siblings(".option-label.active").text()),t.replace(l[0],'"'+c+'"')):t},i.prototype.setAllVals=function(t,e){var n,i,r,s=this,a=t&&t.attr("name")?t.attr("name"):null;e="undefined"!=typeof e?e:null,this.model.node(a,e).get().find("*").filter(function(){var t=o(this);return 0===t.children().length&&t.text()}).each(function(){var t=o(this);try{r=t.text(),i=s.model.getXPath(t.get(0),"instance"),n=s.model.node(i).get().index(this),s.input.setVal(i,n,r)}catch(e){throw console.error(e),new Error("Could not load input field value with name: "+i+" and value: "+r)}})},i.prototype.getRelatedNodes=function(t,e,n){var i,r,s=null,a=[],u=this;n=n||{},e=e||"",this.$nonRepeats[t]||(r=this.view.$.find(":not(.or-repeat-info)["+t+"]").filter(function(){return 0===o(this).closest(".or-repeat").length}),this.$nonRepeats[t]=this.filterRadioCheckSiblings(r)),"undefined"!=typeof n.repeatPath&&n.repeatIndex>=0&&(r=this.view.$.find('.or-repeat[name="'+n.repeatPath+'"]').eq(n.repeatIndex).find("["+t+"]"),s=this.filterRadioCheckSiblings(r)),this.$all[t]?n.cloned&&s&&(this.$all[t]=this.$all[t].add(s)):this.$all[t]=this.filterRadioCheckSiblings(this.view.$.find("["+t+"]")),i=s?this.$nonRepeats[t].add(s):this.$all[t],n.nodes&&0!==n.nodes.length?(n.nodes.forEach(function(n){a=a.concat(u.getQuerySelectorsForLogic(e,t,n))}),a=a.concat(u.getQuerySelectorsForLogic(e,t,"*"))):a=a.concat([e]);var c=a.join(", ");return i=c?i.filter(c):i},i.prototype.filterRadioCheckSiblings=function(t){var e=[];return t.filter(function(){var t="radio"===this.type||"checkbox"===this.type?o(this.parentNode).parent(".option-wrapper")[0]:null;if(t){if(e.indexOf(t)!==-1)return!1;e.push(t)}return!0})},i.prototype.getQuerySelectorsForLogic=function(t,e,n){return[t+"["+e+'*="/'+n+' "]',t+"["+e+'*="/'+n+')"]',t+"["+e+'*="/'+n+',"]',t+"["+e+'$="/'+n+'"]',t+"["+e+'*="/'+n+']"]']},i.prototype.getDataStrWithoutIrrelevantNodes=function(){var t=this,e=new r(this.model.getStr());return e.init(),this.getRelatedNodes("data-relevant").reverse().each(function(){var n,i=o(this),r=t.input.getRelevant(i),s=t.input.getIndex(i),a=t.input.getName(i);n=i.children('.or-repeat-info[data-name="'+a+'"]').length&&!i.children('.or-repeat[name="'+a+'"]').length?null:a,n&&!t.model.evaluate(r,"boolean",n,s)&&e.node(n,s).remove()}),e.getStr()},i.prototype.grosslyViolateStandardComplianceByIgnoringCertainCalcs=function(){var t=this.view.$.find('[name$="instanceID"][data-calculate]');t.length>0&&t.removeAttr("data-calculate")},i.prototype.validationUpdate=function(t){var e,n,i=this;c.validateContinuously===!0&&(n=t||{},t.cloned&&(n={nodes:t.repeatPath.split("/").reverse().slice(0,1)}),e=this.getRelatedNodes("data-constraint","",n).add(this.getRelatedNodes("data-required","",n)),e.each(function(){i.validateInput(o(this))}))},i.prototype.setEventHandlers=function(){var t=this;this.view.$.attr("onsubmit","return false;"),this.view.$.on("change.file","input:not(.ignore), select:not(.ignore), textarea:not(.ignore)",function(){var e,n=o(this),i={path:t.input.getName(n),inputType:t.input.getInputType(n),xmlType:t.input.getXmlType(n),enabled:t.input.isEnabled(n),constraint:t.input.getConstraint(n),val:t.input.getVal(n),required:t.input.getRequired(n),index:t.input.getIndex(n)};i.enabled&&"hidden"!==i.inputType&&i.required&&(e=i.required),i.val.length>0&&"file"===i.inputType&&n[0].files[0]&&n[0].files[0].size>0&&(i.val=a.getFilename(n[0].files[0],n[0].dataset.filenamePostfix)),i.val.length>0&&"drawing"===i.inputType&&(i.val=a.getFilename({name:i.val},n[0].dataset.filenamePostfix)),t.model.node(i.path,i.index).setVal(i.val,i.constraint,i.xmlType,e,!0),t.validateInput(n).then(function(t){n.trigger("valuechange.enketo",t)})}),this.view.$.on("focus fakefocus","input:not(.ignore), select:not(.ignore), textarea:not(.ignore)",function(e){t.progress.update(e.target)}),this.model.$events.on("dataupdate",function(e,n){t.evaluationCascade.forEach(function(e){e.call(t,n)}),t.editStatus=!0}),this.view.$.on("addrepeat",function(e,n){var i=o(e.target),r={repeatPath:i.attr("name"),repeatIndex:n,cloned:!0};t.setAllVals(i,n),t.evaluationCascade.forEach(function(e){e.call(t,r)}),t.progress.update()}),this.view.$.on("removerepeat",function(){t.progress.update()}),this.view.$.on("changelanguage",function(){t.output.update()}),this.view.$.find(".or-group > h4").on("click",function(){o(this).closest(".or-group").toggleClass("or-appearance-compact")})},i.prototype.setValid=function(t,e){var n=e?"invalid-"+e:"invalid-constraint invalid-required invalid-relevant";this.input.getWrapNodes(t).removeClass(n)},i.prototype.setInvalid=function(t,e){e=e||"constraint",c.validatePage===!1&&this.isValid(t)&&this.blockPageNavigation(),this.input.getWrapNodes(t).addClass("invalid-"+e)},i.prototype.blockPageNavigation=function(){var t=this;this.pageNavigationBlocked=!0,window.clearTimeout(this.blockPageNavigationTimeout),this.blockPageNavigationTimeout=window.setTimeout(function(){t.pageNavigationBlocked=!1},600)},i.prototype.isValid=function(t){var e;return t?(e=this.input.getWrapNodes(t),!e.hasClass("invalid-required")&&!e.hasClass("invalid-constraint")&&!e.hasClass("invalid-relevant")):0===this.view.$.find(".invalid-required, .invalid-constraint, .invalid-relevant").length},i.prototype.clearIrrelevant=function(){this.branch.update(null,!0)},i.prototype.validateAll=function(){var t=this;return this.options.clearIrrelevantImmediately===!1&&this.clearIrrelevant(),this.validateContent(this.view.$).then(function(e){return t.view.$.trigger("validationcomplete.enketo"),e})},i.prototype.validate=i.prototype.validateAll,i.prototype.validateContent=function(t){var e,n=this;t.find("fieldset:disabled input, fieldset:disabled select, fieldset:disabled textarea, input:disabled, select:disabled, textarea:disabled").each(function(){n.setValid(o(this))});var i=t.find(".question").addBack(".question").map(function(){var t=o(this).find("input:not(.ignore):not(:disabled), select:not(.ignore):not(:disabled), textarea:not(.ignore):not(:disabled)");return 0===t.length?s.resolve():n.validateInput(t.eq(0))}).toArray();return s.all(i).then(function(){return e=t.find(".invalid-required, .invalid-constraint, .invalid-relevant").addBack(".invalid-required, .invalid-constraint, .invalid-relevant").eq(0),e.length>0&&n.goTo(e[0]),0===e.length})["catch"](function(){return!1})},i.prototype.pathToAbsolute=function(t,e){var n;return 0===t.indexOf("/")?t:(n=this.model.evaluate(t,"node",e,0,!0),this.model.getXPath(n,"instance",!1))},i.prototype.validateInput=function(t){var e,n=this,i={path:this.input.getName(t),inputType:this.input.getInputType(t),xmlType:this.input.getXmlType(t),enabled:this.input.isEnabled(t),constraint:this.input.getConstraint(t),calculation:this.input.getCalculation(t),required:this.input.getRequired(t),readonly:this.input.getReadonly(t),val:this.input.getVal(t)};return!i.readonly||i.val||i.required||i.constraint||i.calculation?(i.enabled&&"hidden"!==i.inputType?(i.ind=this.input.getIndex(t),e=this.model.node(i.path,i.ind).validate(i.constraint,i.required,i.xmlType)):e=s.resolve({requiredValid:!0,constraintValid:!0}),e.then(function(e){var r=!1,o=e.requiredValid!==!1&&e.constraintValid!==!1;return"hidden"!==i.inputType&&(i.$q=n.input.getWrapNodes(t),i.$required=i.$q.find(".required"),r=i.$q.hasClass("invalid-required")||i.$q.hasClass("invalid-constraint"),e.requiredValid===!1?(n.setValid(t,"constraint"),n.setInvalid(t,"required"),i.$required.removeClass("hide")):(n.updateRequiredVisibility(i),e.constraintValid===!1?(n.setValid(t,"required"),n.setInvalid(t,"constraint")):(n.setValid(t,"constraint"),n.setValid(t,"required")))),o||r||t.trigger("invalidated.enketo"),o})["catch"](function(e){throw console.error("validation error",e),n.setInvalid(t,"constraint"),e})):s.resolve()},i.prototype.updateRequiredVisibility=function(t){t.required&&t.$required.toggleClass("hide",!this.model.node(t.path,t.ind).isRequired(t.required))},i.prototype.getGoToTarget=function(t){var e,n,i,r,s,a="",u=/([^[]+)\[(\d+)\]([^[]*$)?/g;if(t&&(e=t.substr(1),i=this.model.node(e).get().get(0))){if(e=this.model.getXPath(i,"instance",!0),r=this.view.html.querySelector('[name="'+e+'"]'),!r)for(s=this.view.html;null!==(n=u.exec(e))&&s;)a+=n[1],s=s.querySelectorAll('[name="'+a+'"], [data-name="'+a+'"]')[n[2]],s&&n[3]&&(a+=n[3],s=s.querySelector('[name="'+a+'"],[data-name="'+a+'"]')),r=s;return r?this.input.getWrapNodes(o(r)).get(0):r}},i.prototype.goTo=function(t){return t&&(this.pages.active&&this.pages.flipToPageContaining(o(t)),o(t).closest(".question, .or-group, .or-group-data").is(":hidden")&&o(t).trigger("gotohidden.enketo"),t.scrollIntoView(),o(t.querySelector("input:not(.ignore), textarea:not(.ignore), select:not(.ignore)")).trigger("focus").trigger("applyfocus")),!!t},i.getRequiredTransformerVersion=function(){return console.deprecate("Form.getRequiredTransformerVersion()","Form.requiredTransformerVersion"),i.requiredTransformerVersion},i.requiredTransformerVersion="1.25.1",e.exports=i,i.prototype.getInstanceID=function(){return console.deprecate("form.getInstanceID()","form.instanceID"),this.instanceID},i.prototype.getDeprecatedID=function(){return console.deprecate("form.getDeprecatedID()","form.deprecatedID"),this.deprecatedID},i.prototype.getInstanceName=function(){return console.deprecate("form.getModel()","form.instanceName"),this.instanceName},i.prototype.getVersion=function(){return console.deprecate("form.getVersion()","form.version"),this.version},i.prototype.getEncryptionKey=function(){return console.deprecate("form.getEncryptionKey()","form.encryptionKey"),this.encryptionKey},i.prototype.getAction=function(){return console.deprecate("form.getAction()","form.action"),this.action},i.prototype.getMethod=function(){return console.deprecate("form.getMethod()","form.method "),this.method},i.prototype.getModel=function(){return console.deprecate("form.getModel()","form.model"),this.model},i.prototype.getView=function(){return console.deprecate("form.getView()","form.view"),this.view},i.prototype.getRecordName=function(){return console.deprecate("form.getRecordName()","form.recordName"),this.recordName},i.prototype.setRecordName=function(t){console.deprecate("form.setRecordName()",'form.recordName="val"'),this.recordName=t},i.prototype.setEditStatus=function(t){console.deprecate("form.setEditStatus()",'form.editStatus="val"'),this.editStatus=t},i.prototype.getEditStatus=function(){return console.deprecate("form.getEditStatus()","form.editStatus"),this.editStatus},i.prototype.getSurveyName=function(){return console.deprecate("form.getSurveyName()","form.editStatus"),this.surveyName}},{"./Form-model":12,"./branch":15,"./calculation":16,"./extend":18,"./input":22,"./itemset":23,"./language":24,"./mask":25,"./output":26,"./page":27,"./plugins":28,"./preload":29,"./progress":30,"./repeat":31,"./utils":36,"./widgets-controller":37,"enketo/config":9,"enketo/translator":20,jquery:72,lie:10}],14:[function(t,e,n){"use strict";var i=t("jquery"),r=function(t,e,n){this.element=t,this.options=e||{},this.namespace=this.namespace||"somewidget",this.event=n||null};r.prototype={destroy:function(t){i(t).removeData(this.namespace).off("."+this.namespace).show().next(".widget").remove()},disable:function(t){i(t).next(".widget").addClass("readonly")},enable:function(t){t.readOnly||i(t).next(".widget").removeClass("readonly")},update:function(){}},e.exports=r},{jquery:72}],15:[function(t,e,n){"use strict";var i=t("jquery");e.exports={update:function(t,e){var n;if(!this.form)throw new Error("Branch module not correctly instantiated with form property.");n=this.form.getRelatedNodes("data-relevant","",t),this.updateNodes(n,e)},updateNodes:function(t,e){var n,r,o,s,a,u,c,l={},h=[],f=!1,d=this;c=!!(this.form.repeatsPresent&&this.form.view.$.find(".or-repeat.clone").length>0),t.each(function(){var t,p,m,v,g=i(this);if(i.inArray(g.attr("name"),h)===-1){if(r=g.closest(".or-branch"),n={},u=null,n.relevant=d.form.input.getRelevant(g),n.path=d.form.input.getName(g),1!==r.length)return void(0===g.parentsUntil(".or","#or-calculated-items").length&&console.error("could not find branch node for ",i(this)));m=n.path.split("/"),m.length>3&&(v=m.splice(0,m.length-1).join("/"),p=d.form.view.$.find('.or-group[name="'+v+'"],.or-group-data[name="'+v+'"]').filter(function(){var t=i(this);return t.children(".or-repeat").length>0||0===t.children(".or-repeat-info").length}),0===p.length)||(s=c&&r.parentsUntil(".or",".or-repeat").length>0,a=c&&r.parentsUntil(".or",".or-repeat.clone").length>0,t=g.children('.or-repeat-info[data-name="'+n.path+'"]').length&&!g.children('.or-repeat[name="'+n.path+'"]').length?null:n.path,n.ind=t&&a?d.form.input.getIndex(g):0,n.relevant.indexOf("..")===-1&&(u=s?n.relevant+"__"+n.path.substring(0,n.path.lastIndexOf("/"))+"__"+n.ind:n.relevant),u&&"undefined"!=typeof l[u]?o=l[u]:(o=d.evaluate(n.relevant,t,n.ind),l[u]=o),s||h.push(i(this).attr("name")),d.process(r,n.path,o,e)===!0&&(f=!0))}}),f&&this.form.view.$.trigger("changebranch")},evaluate:function(t,e,n){var i=this.form.model.evaluate(t,"boolean",e,n);return i},process:function(t,e,n,i){return n===!0?this.enable(t,e):this.disable(t,e,i)},selfRelevant:function(t){return!t.hasClass("disabled")&&!t.hasClass("pre-init")},enable:function(t,e){var n=!1;return this.selfRelevant(t)||(n=!0,t.removeClass("disabled pre-init"),this.form.calc.update({relevantPath:e}),this.form.widgets.enable(t),this.activate(t)),n},disable:function(t,e,n){var i=t.hasClass("pre-init"),r=!1;return(i||this.selfRelevant(t)||n)&&(r=!0,i?t.removeClass("pre-init"):(this.form.options.clearIrrelevantImmediately||n)&&this.clear(t,e),this.deactivate(t)),r},clear:function(t,e){t.clearInputs("change","inputupdate.enketo"),t.is(".or-group, .or-group-data")&&this.form.calc.update({relevantPath:e})},setDisabledProperty:function(t,e){var n=t.prop("nodeName").toLowerCase();"label"===n?t.children("input, select, textarea").prop("disabled",e):"fieldset"===n||"section"===n?t.prop("disabled",e):t.find("fieldset, input, select, textarea").prop("disabled",e)},activate:function(t){this.setDisabledProperty(t,!1)},deactivate:function(t){t.addClass("disabled"),this.form.widgets.disable(t),this.setDisabledProperty(t,!0)}}},{jquery:72}],16:[function(t,e,n){"use strict";var i=t("jquery");e.exports={update:function(t){var e,n=this;if(!this.form)throw new Error("Calculation module not correctly instantiated with form property.");t=t||{},e=t.relevantPath?this.form.getRelatedNodes("data-calculate",'[name^="'+t.relevantPath+'/"]').add(this.form.getRelatedNodes("data-calculate",'[name="'+t.relevantPath+'"]')).add(this.form.getRelatedNodes("data-calculate",'[data-name="'+t.relevantPath+'"]')):this.form.getRelatedNodes("data-calculate","",t),e.each(function(){function e(t){var e=c.split("/"),s=e.splice(0,e.length-1).join("/"),a=n.form.view.$.find('.or-group[name="'+s+'"],.or-group-data[name="'+s+'"]').eq(t).parents(".or-group, .or-group-data").addBack();v=a.length?a.filter("[data-relevant]").reverse().get().map(function(t){var e=i(t),r=n.form.input.getName(e);return{context:r,index:n.form.view.$.find('.or-group[name="'+r+'"], .or-group-data[name="'+r+'"]').index(e),expr:n.form.input.getRelevant(e)}}).concat([{context:c,index:t,expr:m}]).every(function(t){return!t.expr||n.form.model.evaluate(t.expr,"boolean",t.context,t.index)}):!m||n.form.model.evaluate(m,"boolean",c,t),f=n.form.replaceChoiceNameFn(h,"string",c,t),r=v&&f?n.form.model.evaluate(f,"string",c,t):"",o.setIndex(t),o.setVal(r,p,d),n.form.input.setVal(c,t,o.getVal()[0])}var r,o,s,a,u,c,l,h,f,d,p,m,v,g;g=i(this),c=n.form.input.getName(g),l=c.lastIndexOf("/")!==-1?c.substring(c.lastIndexOf("/")+1):c,h=n.form.input.getCalculation(g),d=n.form.input.getXmlType(g),p=n.form.input.getConstraint(g),m=n.form.input.getRelevant(g),o=n.form.model.node(c),s=o.get(),s.length>1&&t.repeatPath&&c.indexOf(t.repeatPath)!==-1?(a=n.form.model.node(t.repeatPath,t.repeatIndex).get().find(l),u=i(s).index(a),e(u)):1===s.length?(u=0,e(u)):s.each(function(t){e(t)})})}}},{jquery:72}],17:[function(t,e,n){function i(t){o(s).remove(),o(a).each(function(){var e=r(o(this)),n={relatedTarget:this};e.hasClass("open")&&(e.trigger(t=o.Event("hide.bs.dropdown",n)),t.isDefaultPrevented()||e.removeClass("open").trigger("hidden.bs.dropdown",n))})}function r(t){var e=t.attr("data-target");e||(e=t.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&o(e);return n&&n.length?n:t.parent()}var o=t("jquery"),s=".dropdown-backdrop",a="[data-toggle=dropdown]",u=function(t){o(t).on("click.bs.dropdown",this.toggle)};u.prototype.toggle=function(t){var e=o(this);if(!e.is(".disabled, :disabled")){var n=r(e),s=n.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&o('<div class="dropdown-backdrop"/>').insertAfter(o(this)).on("click",i);var a={relatedTarget:this};if(n.trigger(t=o.Event("show.bs.dropdown",a)),t.isDefaultPrevented())return;n.toggleClass("open").trigger("shown.bs.dropdown",a),e.focus()}return!1}},u.prototype.keydown=function(t){if(/^(38|40|27)$/.test(t.keyCode)){var e=o(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=r(e),i=n.hasClass("open");if(!i||i&&27===t.keyCode)return 27===t.which&&n.find(a).focus(),e.click();var s=" li:not(.divider):visible a",u=n.find("[role=menu]"+s+", [role=listbox]"+s);if(u.length){var c=u.index(u.filter(":focus"));38===t.keyCode&&c>0&&c--,40===t.keyCode&&c<u.length-1&&c++,~c||(c=0),u.eq(c).focus()}}}};var c=o.fn.dropdown;o.fn.dropdown=function(t){return this.each(function(){var e=o(this),n=e.data("bs.dropdown");n||e.data("bs.dropdown",new u(this)),"string"==typeof t&&n[t].call(e)})},o.fn.dropdown.Constructor=u,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=c,this},o(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,u.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu], [role=listbox]",u.prototype.keydown)},{jquery:72}],18:[function(t,e,n){"use strict";t("enketo-xpathjs/src/date-extensions"),String.prototype.pad=function(t){for(var e=this;e.length<t;)e="0"+e;return e},"undefined"==typeof console.deprecate&&(console.deprecate=function(t,e){console.warn(t+" is deprecated. Use "+e+" instead.")})},{"enketo-xpathjs/src/date-extensions":66}],19:[function(t,e,n){"use strict";function i(t){return window.alert(t),o.resolve()}function r(t){return new o(function(e,n){window.confirm(t)?e():n()})}var o=t("lie");e.exports={alert:i,confirm:r}},{lie:10}],20:[function(t,e,n){"use strict";function i(t,e){var n="",i=r;return t.split(".").forEach(function(t){i=i?i[t]:"",n=i}),e=e||{},n=n.replace(/__([^_]+)__/,function(t,n){return e[n]})}var r={constraint:{invalid:"Value not allowed",required:"This field is required"},"esri-geopicker":{"coordinate-mgrs":"MGRS coordinate",decimal:"decimal",degrees:"degrees, minutes, seconds","latitude-degrees":"latitude (d m s N)","longitude-degrees":"longitude (d m s W)",mgrs:"MGRS",notavailable:"Not Available",utm:"UTM","utm-easting":"easting (m)","utm-hemisphere":"hemisphere","utm-north":"North","utm-northing":"northing (m)","utm-south":"South","utm-zone":"zone"},filepicker:{placeholder:"Click here to upload file. (< __maxSize__)",notFound:"File __existing__ could not be found (leave unchanged if already submitted and you want to preserve it).",waitingForPermissions:"Waiting for user permissions.",resetWarning:"This will remove the __item__. Are you sure you want to do this?",toolargeerror:"File too large (> __maxSize__)",file:"file"},drawwidget:{drawing:"drawing",signature:"signature",annotation:"file and drawing"},form:{required:"required"},geopicker:{accuracy:"accuracy (m)",altitude:"altitude (m)",closepolygon:"close polygon",kmlcoords:"KML coordinates",kmlpaste:"paste KML coordinates here",latitude:"latitude (x.y )",longitude:"longitude (x.y )",points:"points",searchPlaceholder:"search for place or address",removePoint:"This will completely remove the current geopoint from the list of geopoints and cannot be undone. Are you sure you want to do this?"},selectpicker:{noneselected:"none selected",numberselected:"__number__ selected"},imagemap:{svgNotFound:"SVG image could not be found"},widget:{comment:{update:"Update"}},alert:{gotonotfound:{msg:"Failed to find question '__path__' in form. Is it a valid path?"}}};e.exports={t:i}},{}],21:[function(t,e,n){"use strict";var i=t("lie"),r=t("jquery"),o=t("./utils"),s={},a=t("enketo/translator").t;s.init=function(){return i.resolve(!0)},s.isWaitingForPermissions=function(){return!1},s.getFileUrl=function(t){return new i(function(e,n){var i;t?"string"==typeof t?n("no!"):"object"==typeof t?s.isTooLarge(t)?(i=new Error(a("filepicker.toolargeerror",{maxSize:s.getMaxSizeReadable()})),n(i)):e(URL.createObjectURL(t)):n(new Error("Unknown error occurred")):e(null)})},s.getCurrentFiles=function(){var t=[];return r("form.or").find('input[type="file"]:not(.ignore), input[type="text"][data-drawing="true"]').each(function(){var e,n=null,i=null;"file"===this.type?n=this.files[0]:this.value&&(i=r(this).closest(".question")[0].querySelector(".draw-widget canvas"),i&&(n=o.dataUriToBlobSync(i.toDataURL()),n.name=this.value)),n&&n.name&&(e=o.getFilename(n,this.dataset.filenamePostfix),n=new Blob([n],{type:n.type}),n.name=e,t.push(n))}),t},s.isTooLarge=function(){return!1},s.getMaxSizeReadable=function(){return"5MB"},e.exports=s},{"./utils":36,"enketo/translator":20,jquery:72,lie:10}],22:[function(t,e,n){"use strict";e.exports={getWrapNodes:function(t){var e=this.getInputType(t.eq(0));return"fieldset"===e?t:t.closest(".question, .calculation")},getProps:function(t){return 1!==t.length?console.error("getProps(): no input node provided or multiple"):{path:this.getName(t),ind:this.getIndex(t),inputType:this.getInputType(t),xmlType:this.getXmlType(t),constraint:this.getConstraint(t),calculation:this.getCalculation(t),relevant:this.getRelevant(t),readonly:this.getReadonly(t),val:this.getVal(t),required:this.getRequired(t),enabled:this.isEnabled(t),multiple:this.isMultiple(t)}},getInputType:function(t){var e;return 1!==t.length?"":(e=t.prop("nodeName").toLowerCase(),"input"===e?t.data("drawing")?"drawing":t.attr("type").length>0?t.attr("type").toLowerCase():console.error("<input> node has no type"):"select"===e?"select":"textarea"===e?"textarea":"fieldset"===e||"section"===e?"fieldset":console.error("unexpected input node type provided"))},getConstraint:function(t){return t.attr("data-constraint")},getRequired:function(t){if(0===t.parentsUntil(".or",".or-appearance-label").length)return t.attr("data-required")},getRelevant:function(t){return t.attr("data-relevant")},getReadonly:function(t){return t.is("[readonly]")},getCalculation:function(t){return t.attr("data-calculate")},getXmlType:function(t){return 1!==t.length?console.error("getXMLType(): no input node provided or multiple"):t.attr("data-type-xml")},getName:function(t){var e;return 1!==t.length?console.error("getName(): no input node provided or multiple"):(e=t.attr("data-name")||t.attr("name"),e||console.error("input node has no name"))},getIndex:function(t){var e,n,i,r;return 1!==t.length?console.error("getIndex(): no input node provided or multiple"):(e=this.getInputType(t),n=this.getName(t),i=this.getWrapNodes(t),r="radio"===e&&n!==t.attr("name")?this.getWrapNodes(this.form.view.$.find('[data-name="'+n+'"]')):"fieldset"===e&&t.hasClass("or-repeat")?this.getWrapNodes(this.form.view.$.find('.or-repeat[name="'+n+'"]')):"fieldset"===e&&t.hasClass("or-group")?this.getWrapNodes(this.form.view.$.find('.or-group[name="'+n+'"]')):this.getWrapNodes(this.form.view.$.find('[name="'+n+'"]')),r.index(i))},isMultiple:function(t){return"checkbox"===this.getInputType(t)||void 0!==t.attr("multiple")},isEnabled:function(t){return!(t.prop("disabled")||t.parentsUntil(".or",".disabled").length>0)},getVal:function(t){var e,n,i=[];return 1!==t.length?console.error("getVal(): no inputNode provided or multiple"):(e=this.getInputType(t),n=this.getName(t),"radio"===e?this.getWrapNodes(t).find("input:checked").val()||"":"checkbox"===e?(this.getWrapNodes(t).find('input[name="'+n+'"]:checked').each(function(){i.push(this.value)}),i):t.val()||"")},setVal:function(t,e,n){var i,r,o,s,a;if(e=e||0,"radio"===this.getInputType(this.form.view.$.find('[data-name="'+t+'"]').eq(0)))r="radio",i=this.getWrapNodes(this.form.view.$.find('[data-name="'+t+'"]')).eq(e).find('[data-name="'+t+'"]');else{if(i=this.getWrapNodes(this.form.view.$.find('[name="'+t+'"]')).eq(e).find('[name="'+t+'"]'),r=this.getInputType(i.eq(0)),"file"===r)return i.eq(0).attr("data-loaded-file-name",n),!1;"date"!==r&&"datetime"!==r||(n=this.form.model.node(t,e).convert(n,r)),"time"===r&&/(\+|-)/.test(n)&&(a=(new Date).toLocaleDateString("en",{month:"short",day:"numeric",year:"numeric"}).replace(/\u200E/g,"")+" "+n.replace(/(\d\d:\d\d:\d\d)(\.\d{1,3})(\s?((\+|-)\d\d))(:)?(\d\d)?/,"$1 GMT$3$7"),
s=new Date(a),"Invalid Date"!==s.toString()?n=s.getHours().toString().pad(2)+":"+s.getMinutes().toString().pad(2):console.error("could not parse time:",n))}this.isMultiple(i.eq(0))===!0?n=n.split(" "):"radio"===r&&(n=[n]),i.length&&(o=this.getVal(i.eq(0)),void 0!==o&&o.toString()===n.toString()||(i.val(n),i.eq(0).trigger("inputupdate.enketo")))},validate:function(t){return this.form.validateInput(t)}}},{}],23:[function(t,e,n){"use strict";var i=t("jquery"),r=t("./utils");e.exports={update:function(t){var e,n,o,s,a=this,u={};if(!this.form)throw new Error("Output module not correctly instantiated with form property.");s=this.form.getRelatedNodes("data-items-path",".itemset-template",t),e=!!(this.form.repeatsPresent&&this.form.view.$.find(".or-repeat.clone").length>0),s.each(function(){var t,s,c,l,h,f,d,p,m,v,g,y,_,b,w,x,k,E;if(p=i(this),!p.parentsUntil(".or",".or-branch").parentsUntil(".or",".disabled").length){if(m={},v=p.data(),g=p.prop("nodeName").toLowerCase(),E=p.parent("select, datalist"),"label"===g?y=p.children("input").eq(0):"select"===E.prop("nodeName").toLowerCase()?y=E:"datalist"===E.prop("nodeName").toLowerCase()&&(y=E.siblings("input:not(.widget)")),_=p.closest("label, select, datalist").siblings(".itemset-labels"),b=p.attr("data-items-path"),w=_.attr("data-label-type"),x=_.attr("data-label-ref"),k=_.attr("data-value-ref"),d=a.form.input.getName(y),n=!!(e&&y.parentsUntil(".or",".or-repeat").length>0),o=!!(e&&y.parentsUntil(".or",".or-repeat.clone").length>0),f=o?a.form.input.getIndex(y):0,"undefined"!=typeof u[b])h=u[b];else{var C=!0;h=i(a.form.model.evaluate(b,"nodes",d,f,C)),n||(u[b]=h)}m.length=h.length,m.text=h.text(),m.length===v.length&&m.text===v.text||(p.data(m),p.closest(".question").find(g).not(p).remove(),p.parent("select").siblings(".or-option-translations").empty(),h.each(function(){var e,n,o,u=i(this);switch(t=i("<root/>"),p.clone().appendTo(t).removeClass("itemset-template").addClass("itemset").removeAttr("data-items-path"),o=r.parseFunctionFromExpression(x,"translate"),n=o.length?o[0][1][0]:x+":eq(0)",e=u.children(n),"itext"!==w&&e.length>0&&(w="langs"),w){case"itext":s=_.find('[data-itext-id="'+e.eq(0).text()+'"]').clone();break;case"langs":s=i(),e.each(function(){var t=this.getAttribute("lang"),e=t?' lang="'+this.getAttribute("lang")+'"':"",n=t&&t!==a.form.langs.getCurrentLang()?"":" active",i='<span class="option-label'+n+'"'+e+">"+this.textContent+"</span>";s=s.add(i)});break;default:s=i('<span class="option-label active" lang="">'+e.eq(0).text()+"</span>")}c=u.children(k).text(),t.find("[value]").attr("value",c),"label"===g?(t.find("input").after(s),_.before(t.find(":first"))):"option"===g&&(t.find("option").text(s.filter(".active").eq(0).text()),s.attr("data-option-value",c).attr("data-itext-id","").appendTo(_.siblings(".or-option-translations")),p.siblings().addBack().last().after(t.find(":first")))}),l=a.form.model.node(d,f).getVal()[0],""!==l&&(a.form.input.setVal(d,f,l),y.trigger("change")),E.length>0&&y.trigger("changeoption"))}})}}},{"./utils":36,jquery:72}],24:[function(t,e,n){"use strict";var i=t("jquery");e.exports={init:function(){var t,e=this,n=i(".form-language-selector");if(!this.form)throw new Error("Language module not correctly instantiated with form property.");this.$formLanguages=this.form.view.$.find("#form-languages"),this.currentLang=this.$formLanguages.attr("data-default-lang")||this.$formLanguages.find("option").eq(0).attr("value"),t=this.$formLanguages.find('[value="'+this.currentLang+'"]').attr("data-dir")||"ltr",this.$formLanguages.detach().appendTo(n).val(this.currentLang),this.form.view.$.attr("dir",t),this.$formLanguages.find("option").length<2||(n.removeClass("hide"),this.$formLanguages.change(function(t){t.preventDefault(),e.currentLang=i(this).val(),e.setAll(e.currentLang)}))},getCurrentLang:function(){return this.currentLang},getCurrentLangDesc:function(){return this.$formLanguages.find('[value="'+this.currentLang+'"]').text()},setAll:function(t){var e=this,n=this.$formLanguages.find('[value="'+t+'"]').attr("data-dir")||"ltr";this.form.view.$.attr("dir",n).find("[lang]").removeClass("active").filter('[lang="'+t+'"], [lang=""]').filter(function(){var t=i(this);return!t.hasClass("or-form-short")||t.hasClass("or-form-short")&&0===t.siblings(".or-form-long").length}).addClass("active"),window.enketoFormLocale=t,this.form.view.$.find("select, datalist").each(function(){e.setSelect(i(this))}),this.form.view.$.trigger("changelanguage")},setSelect:function(t){var e,n,r;t.children("option").not('[value=""], [data-value=""]').each(function(){var t=i(this);n=t.text(),e=t.attr("value")||t[0].dataset.value,r=t.closest(".question").find(".or-option-translations").children('.active[data-option-value="'+e+'"]').text().trim(),r="undefined"!=typeof r&&r.length>0?r:n,t.text(r)})}}},{jquery:72}],25:[function(t,e,n){"use strict";function i(){r('[data-type-xml="int"]',/^(-?[0-9]+$)/,"-0123456789"),r('[data-type-xml="decimal"]',/^(-?[0-9]+[.,]?[0-9]*$)/,"-0123456789.,")}function r(t,e,n){u(t).on("keydown",function(t){return!(!o(t)&&!s(t)&&n.indexOf(t.key)===-1)}).on("paste",function(t){var n=a(t);return!(!n||!e.test(n.trim()))||(u(this).val("").trigger("change"),!1)}).on("blur",function(){"undefined"!=typeof this.validity&&"undefined"!=typeof this.validity.badInput&&this.validity.badInput?this.value="":"undefined"==typeof this.validity.badInput&&this.value&&!e.test(this.value.trim())&&(this.value="")})}function o(t){return t.key.length>1&&"Spacebar"!==t.key}function s(t){return c.indexOf(t.key)!==-1&&(t.metaKey||t.ctrlKey)}function a(t){var e=t.originalEvent.clipboardData||window.clipboardData;return e?e.getData("text"):null}var u=t("jquery"),c="xvc";e.exports={init:i}},{jquery:72}],26:[function(t,e,n){"use strict";var i=t("jquery");e.exports={update:function(t){var e,n,r,o,s,a,u,c,l,h={},f="",d=this;if(!this.form)throw new Error("Output module not correctly instantiated with form property.");l=this.form.getRelatedNodes("data-value",".or-output",t),n=this.form.repeatsPresent&&this.form.view.$.find(".or-repeat.clone").length>0,l.each(function(){a=i(this),a.closest(".or-branch").parent().closest(".disabled").length||(e=a.attr("data-value"),s=a.closest(".question, .note, .or-group"),s.is(".or-group")||(s=s.find("[name]").eq(0)),u=d.form.input.getName(s),s.children('.or-repeat-info[data-name="'+u+'"]').length&&!s.children('.or-repeat[name="'+u+'"]').length&&(u=null),r=n&&a.parentsUntil(".or",".or-repeat").length>0,o=r&&a.parentsUntil(".or",".or-repeat.clone").length>0,c=o&&u?d.form.input.getIndex(s):0,"undefined"!=typeof h[e]?f=h[e]:(f=d.form.model.evaluate(e,"string",u,c,!0),r||(h[e]=f)),a.text()!==f&&a.text(f))})}}},{jquery:72}],27:[function(t,e,n){"use strict";var i=t("jquery"),r=t("lie"),o=t("enketo/config");t("jquery-touchswipe"),e.exports={active:!1,$current:[],$activePages:i(),init:function(){if(!this.form)throw new Error("Repeats module not correclty instantiated with form property.");if(this.form.view.$.hasClass("pages")){var t=this.form.view.$.find(' .question:not([role="comment"]), .or-appearance-field-list').add(".or-repeat.or-appearance-field-list + .or-repeat-info").filter(function(){return 0===i(this).parent().closest(".or-appearance-field-list").length}).attr("role","page");(t.length>0||t.eq(0).hasClass("or-repeat"))&&(this.$formFooter=i(".form-footer"),this.$btnFirst=this.$formFooter.find(".first-page"),this.$btnPrev=this.$formFooter.find(".previous-page"),this.$btnNext=this.$formFooter.find(".next-page"),this.$btnLast=this.$formFooter.find(".last-page"),this.updateAllActive(t),this.toggleButtons(0),this.setButtonHandlers(),this.setRepeatHandlers(),this.setBranchHandlers(),this.setSwipeHandlers(),this.active=!0,this.flipToFirst())}},setButtonHandlers:function(){var t=this;this.$btnFirst.off(".pagemode").on("click.pagemode",function(){return t.form.pageNavigationBlocked||t.flipToFirst(),!1}),this.$btnPrev.off(".pagemode").on("click.pagemode",function(){return t.form.pageNavigationBlocked||t.prev(),!1}),this.$btnNext.off(".pagemode").on("click.pagemode",function(){return t.form.pageNavigationBlocked||t.next(),!1}),this.$btnLast.off(".pagemode").on("click.pagemode",function(){return t.form.pageNavigationBlocked||t.flipToLast(),!1})},setSwipeHandlers:function(){if(o.swipePage!==!1){var t=this,e=i(".main");e.swipe("destroy"),e.swipe({allowPageScroll:"vertical",threshold:250,preventDefaultEvents:!1,swipeLeft:function(){t.$btnNext.click()},swipeRight:function(){t.$btnPrev.click()},swipeStatus:function(e,n){"start"===n&&t.getCurrent().find(":focus").blur()}})}},setRepeatHandlers:function(){var t=this;this.form.view.$.off("addrepeat.pagemode").on("addrepeat.pagemode",function(e,n,r){t.updateAllActive(),i(e.target).removeClass("current contains-current").find(".current").removeClass("current"),r||t.flipToPageContaining(i(e.target))}).off("removerepeat.pagemode").on("removerepeat.pagemode",function(e){if(0===t.$current.closest("html").length){t.updateAllActive();var n=i(e.target).prev();0===n.length&&(n=i(e.target)),t.flipToPageContaining(n)}})},setBranchHandlers:function(){var t=this;this.form.view.$.off("changebranch.pagemode").on("changebranch.pagemode",function(){t.updateAllActive(),t.toggleButtons()})},getCurrent:function(){return this.$current},updateAllActive:function(t){t=t||i('.or [role="page"]'),this.$activePages=t.filter(function(){var t=i(this);return 0===t.closest(".disabled").length&&(t.is(".question")||t.find(".question:not(.disabled)").length>0||t.is(".or-repeat-info")&&0===t.siblings(".or-repeat").length)})},getAllActive:function(){return this.$activePages},getPrev:function(t){return this.$activePages[t-1]},getNext:function(t){return this.$activePages[t+1]},getCurrentIndex:function(){return this.$activePages.index(this.$current)},next:function(){var t,e,n=this;return t=this.getCurrentIndex(),e=o.validatePage===!1?r.resolve(!0):this.form.validateContent(this.$current),e.then(function(e){var i,r;return!!e&&(i=n.getNext(t),!i||(r=t+1,n.flipTo(i,r),r))})},prev:function(){var t,e;e=this.getCurrentIndex(),t=this.getPrev(e),t&&this.flipTo(t,e-1)},setToCurrent:function(t){var e=i(t);e.addClass("current hidden"),this.$current=e.removeClass("hidden").parentsUntil(".or",".or-group, .or-group-data, .or-repeat").addClass("contains-current").end()},flipTo:function(t,e){this.$current.length>0&&1===this.$current.closest("html").length?this.$current[0]!==t&&(this.$current.removeClass("current fade-out").parentsUntil(".or",".or-group, .or-group-data, .or-repeat").removeClass("contains-current"),this.setToCurrent(t),this.focusOnFirstQuestion(t),this.toggleButtons(e),i(t).trigger("pageflip.enketo")):(this.setToCurrent(t),this.focusOnFirstQuestion(t),this.toggleButtons(e),i(t).trigger("pageflip.enketo"))},flipToFirst:function(){this.flipTo(this.$activePages[0])},flipToLast:function(){this.flipTo(this.$activePages.last()[0])},flipToPageContaining:function(t){var e;e=t.closest('[role="page"]'),e=0===e.length?t.find('[role="page"]'):e,this.flipTo(e[0])},focusOnFirstQuestion:function(t){i(t).find(".question:not(.disabled)").addBack(".question:not(.disabled)").filter(function(){return 0===i(this).parentsUntil(".or",".disabled").length}).eq(0).find("input, select, textarea").eq(0).trigger("fakefocus"),t.scrollIntoView()},toggleButtons:function(t){var e=t||this.getCurrentIndex(),n=this.getNext(e),i=this.getPrev(e);this.$btnNext.add(this.$btnLast).toggleClass("disabled",!n),this.$btnPrev.add(this.$btnFirst).toggleClass("disabled",!i),this.$formFooter.toggleClass("end",!n)}}},{"enketo/config":9,jquery:72,"jquery-touchswipe":71,lie:10}],28:[function(t,e,n){"use strict";var i=t("jquery");i.fn.clearInputs=function(t,e){return t=t||"edit",e=e||"",this.each(function(){i(this).find(".file-preview").remove(),i(this).find("input, select, textarea").not(".ignore").each(function(){var n,r=i(this),o=r.attr("type");switch("SELECT"===r.prop("nodeName").toUpperCase()&&(o="select"),"TEXTAREA"===r.prop("nodeName").toUpperCase()&&(o="textarea"),o){case"file":n=this.dataset.loadedFileName,delete this.dataset.loadedFileName;case"date":case"datetime":case"time":case"number":case"search":case"color":case"range":case"url":case"email":case"password":case"text":case"tel":case"hidden":case"textarea":(""!==r.val()||n)&&r.val("").trigger(t).trigger(e);break;case"radio":case"checkbox":r.prop("checked")&&(r.prop("checked",!1),r.trigger(t).trigger(e));break;case"select":r[0].selectedIndex>0&&(r[0].selectedIndex=0,r.trigger(t).trigger(e));break;default:console.error("Unrecognized input type found when trying to reset",this)}})})},i.fn.reverse=[].reverse},{jquery:72}],29:[function(t,e,n){"use strict";var i=t("jquery");e.exports={init:function(){var t,e,n,r,o,s,a,u=this;if(!this.form)throw new Error("Preload module not correctly instantiated with form property.");this.form.view.$.find("input[data-preload], select[data-preload], textarea[data-preload]").each(function(){a=i(this),s=u.form.input.getProps(a),t=a.attr("data-preload").toLowerCase(),e=a.attr("data-preload-params").toLowerCase(),"undefined"!=typeof u[t]?(o=u.form.model.node(s.path,s.index),o.get().length&&(n=o.getVal()[0],r=u[t]({param:e,curVal:n,dataNode:o}),o.setVal(r,null,s.xmlType))):console.log('Preload "'+t+'" not supported. May or may not be a big deal.')})},timestamp:function(t){var e,n=this;return"start"===t.param?t.curVal.length>0?t.curVal:this.form.model.evaluate("now()","string"):"end"===t.param?(this.form.view.$.on("beforesave",function(){e=n.form.model.evaluate("now()","string"),t.dataNode.setVal(e,null,"datetime")}),this.form.model.evaluate("now()","string")):"error - unknown timestamp parameter"},date:function(t){var e,n,i,r;return 0===t.curVal.length?(e=new Date(this.form.model.evaluate("today()","string")),n=e.getFullYear().toString().pad(4),i=(e.getMonth()+1).toString().pad(2),r=e.getDate().toString().pad(2),n+"-"+i+"-"+r):t.curVal},property:function(t){var e;return 0===t.curVal.length?(e=this.form.model.node('instance("__session")/session/context/'+t.param),e.get().length?e.getVal()[0]:"no "+t.param+" property in enketo"):t.curVal},context:function(t){return 0===t.curVal.length?"application"===t.param?"enketo":t.param+" not supported in enketo":t.curVal},patient:function(t){return 0===t.curVal.length?"patient preload item not supported in enketo":t.curVal},user:function(t){return 0===t.curVal.length?"user preload item not supported in enketo yet":t.curVal},uid:function(t){return 0===t.curVal.length?this.form.model.evaluate('concat("uuid:", uuid())',"string"):t.curVal}}},{jquery:72}],30:[function(t,e,n){"use strict";var i=t("jquery");e.exports={status:0,lastChanged:null,$all:null,updateTotal:function(){this.$all=this.form.view.$.find(".question").not(".disabled, .or-appearance-comment, .or-appearance-dn").filter(function(){return 0===i(this).parentsUntil(".or",".disabled").length})},update:function(t){var e;this.$all&&t||this.updateTotal(),this.lastChanged=t||this.lastChanged,e=Math.round(100*(this.$all.index(i(this.lastChanged).closest(".question"))+1)/this.$all.length),e>0&&e!==this.status&&(this.status=e,this.form.view.$.trigger("progressupdate.enketo",e))},get:function(){return this.status}}},{jquery:72}],31:[function(t,e,n){"use strict";var i=t("jquery"),r=t("enketo/config"),o=r.repeatOrdinals===!0;e.exports={init:function(){var t,e=this;if(!this.form)throw new Error("Repeat module not correctly instantiated with form property.");t=this.form.view.$.find(".or-repeat-info"),this.templates={},t.siblings(".or-repeat").filter(function(){return this.firstChild&&3===this.firstChild.nodeType&&(this.firstChild.textContent=""),!!this.querySelector(".question")}).prepend('<span class="repeat-number"></span>'),t.filter("*:not([data-repeat-fixed]):not([data-repeat-count])").append('<button type="button" class="btn btn-default add-repeat-btn"><i class="icon icon-plus"> </i></button>').siblings(".or-repeat").append('<div class="repeat-buttons"><button type="button" '+(o?" disabled ":" ")+'class="btn btn-default remove"><i class="icon icon-minus"> </i></button></div>'),this.form.model.extractFakeTemplates(t.map(function(){return this.dataset.name}).get()),t.siblings(".or-repeat").reverse().each(function(){var t=i(this).remove(),n=t.attr("name");e.templates[n]=t[0]}),t.filter("*:not([data-repeat-count])").reverse().each(function(){i(this).closest(".or-repeat").length||e.updateDefaultFirstRepeatInstance(null,this)}).each(e.updateViewInstancesFromModel.bind(this)),this.form.view.$.on("click","button.add-repeat-btn:enabled",function(){return e.add(i(this).closest(".or-repeat-info")[0]),!1}),this.form.view.$.on("click","button.remove:enabled",function(){return e.remove(i(this).closest(".or-repeat")),!1}),this.countUpdate()},updateViewInstancesFromModel:function(t,e){var n=this,r=i(e),o=e.dataset.name,s=this.form.view.$.find('.or-repeat-info[data-name="'+o+'"]').index(e),a=this.form.model.getRepeatSeries(o,s),u=r.siblings(".or-repeat");return a.length>u.length&&(this.add(e,a.length-u.length),r.siblings(".or-repeat").find(".or-repeat-info:not([data-repeat-count])").each(function(){n.updateViewInstancesFromModel(null,this)})),a.length},updateDefaultFirstRepeatInstance:function(t,e){var n,r,o=this,s=i(e),a=e.dataset.name;o.form.model.data.instanceStr||this.templates[a].classList.contains("or-appearance-minimal")||(n=this.form.view.$.find('.or-repeat-info[data-name="'+a+'"]').index(e),r=this.form.model.getRepeatSeries(a,n),0===r.length&&this.add(e),s.siblings(".or-repeat").find(".or-repeat-info:not([data-repeat-count])").each(o.updateDefaultFirstRepeatInstance.bind(o)))},updateRepeatInstancesFromCount:function(t,e){var n,r,s,a,u,c,l,h=this,f=i(e),d=e.dataset.repeatCount||"";if(d){if(c=e.dataset.name,l=this.form.view.$.find('.or-repeat-info[data-name="'+c+'"]').index(e),r=this.form.model.evaluate(d,"nodes",null,null,!0),r.length&&r[l]?s=Number(r[l].textContent):console.error("Unexpectedly, could not obtain repeat count node"),s=isNaN(s)?0:s,a=f.siblings('.or-repeat[name="'+c+'"]').length,u=s-a,u>0)h.add(e,u);else if(u<0)for(u=Math.abs(u)>=a?-a+(o?1:0):u;u<0;u++)n=f.siblings(".or-repeat").last(),this.remove(n,0);f.siblings(".or-repeat").children(".or-group, .or-group-data").children(".or-repeat-info[data-repeat-count]").each(h.updateRepeatInstancesFromCount.bind(h))}},countUpdate:function(t){var e;t=t||{},e=this.form.getRelatedNodes("data-repeat-count",".or-repeat-info",t),e.each(this.updateRepeatInstancesFromCount.bind(this))},add:function(t,e){var n,r,o,s,a,u,c,l=this,h=i(t),f=!!e;if(e=e||1,!t)return console.error("Nothing to clone"),!1;for(a=t.dataset.name,n=h.siblings(".or-repeat"),r=i(this.templates[a]).clone(),s=this.form.view.$.find('.or-repeat-info[data-name="'+a+'"]').index(t),c=this.form.model.getRepeatSeries(a,s).length,u=0;u<e;u++)r.find(".option-wrapper").each(this.fixRadioNames),r.insertBefore(t),r.prev(".or-repeat").length&&r.addClass("clone"),n=n.add(r),n.length>c&&(this.form.model.addRepeat(a,s),c++),o=o||this.form.view.$.find('.or-repeat[name="'+a+'"]').index(r),r.trigger("addrepeat",[o,f]),this.form.widgetsInitialized?this.form.widgets.init(r):l.form.calc.update({repeatPath:a,repeatIndex:o}),r.find(".or-repeat-info:not([data-repeat-count])").each(this.updateDefaultFirstRepeatInstance.bind(this)),r=i(this.templates[a]).clone(),o++;return this.numberRepeats(t),this.toggleButtons(t),!0},remove:function(t,e){var n=this,i=t.next(".or-repeat, .or-repeat-info"),r=t.attr("name"),o=this.form.view.$.find('.or-repeat[name="'+r+'"]').index(t),s=t.siblings(".or-repeat-info")[0];e="undefined"!=typeof e?e:600,t.hide(e,function(){t.remove(),n.numberRepeats(s),n.toggleButtons(s),i.trigger("removerepeat"),n.form.model.node(r,o).remove()})},fixRadioNames:function(t,e){i(e).find('input[type="radio"]').attr("name",Math.floor(1e7*Math.random()+1))},toggleButtons:function(t){i(t).siblings(".or-repeat").children(".repeat-buttons").find("button.remove").prop("disabled",!1).first().prop("disabled",o)},numberRepeats:function(t){i(t).siblings(".or-repeat").each(function(t,e){i(e).children(".repeat-number").text(t+1)})}}},{"enketo/config":9,jquery:72}],32:[function(t,e,n){"use strict";var i=navigator.userAgent;e.exports={os:{get ios(){return/iPad|iPhone|iPod/i.test(i)},get android(){return/android/i.test(i)}}}},{}],33:[function(t,e,n){"use strict";var i=t("./sniffer").os,r={},o=!1;["date","datetime","time","month"].forEach(function(t){var e=document.createElement("input");e.setAttribute("type",t),r[t]="text"!==e.type}),(i.ios||i.android)&&(o=!0,document.documentElement.classList.add("touch")),e.exports={get inputtypes(){return console.deprecate("support.inputtypes","support.inputTypes"),r},get inputTypes(){return r},get touch(){return o},set touch(t){o=t}}},{"./sniffer":32}],34:[function(t,e,n){"use strict";function i(t,e,n){this.message=t,this.translationKey=e,this.translationOptions=n}i.prototype=Object.create(Error.prototype),i.prototype.name="TranslatedError",e.exports=i},{}],35:[function(t,e,n){"use strict";var i=t("./utils"),r={string:{validate:function(){return!0}},select:{validate:function(){return!0}},select1:{validate:function(){return!0}},decimal:{convert:function(t){var e=Number(t);return isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY?"":e},validate:function(t){var e=Number(t);return!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY}},"int":{convert:function(t){var e=Number(t);return isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY?"":e>=0?Math.floor(e):-Math.floor(Math.abs(e))},validate:function(t){var e=Number(t);return!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&Math.round(e)===e&&e.toString()===t.toString()}},date:{validate:function(t){var e=/([0-9]{4})-([0-9]{2})-([0-9]{2})/,n=e.exec(t);if(n&&4===n.length){var i=Number(n[1]),r=Number(n[2])-1,o=Number(n[3]),s=new Date(i,r,o);return s.getFullYear()===i&&s.getMonth()===r&&s.getDate()===o}return!1},convert:function(t){var e;return e=i.isNumber(t)?new Date(24*t*60*60*1e3):this.validate(t)?new Date(t):"Invalid Date","Invalid Date"===e.toString()?"":e.getUTCFullYear().toString().pad(4)+"-"+(e.getUTCMonth()+1).toString().pad(2)+"-"+e.getUTCDate().toString().pad(2)}},datetime:{validate:function(t){var e=t.split("T");return 2===e.length&&(r.date.validate(e[0])&&r.time.validate(e[1],!1))},convert:function(t){var e="Invalid Date",n=t.split("T");if(i.isNumber(t))e=new Date(24*t*60*60*1e3);else if(/[0-9]T[0-9]/.test(t)&&2===n.length){var o=r.date.convert(n[0]),s=r.time.convert(n[1],!1);if(o&&s)return o+"T"+s}return"Invalid Date"!==e.toString()?e.toISOLocalString():""}},time:{validate:function(t,e){var n=t.match(/^(\d\d):(\d\d):(\d\d)\.\d\d\d(\+|-)(\d\d):(\d\d)$/);return e="boolean"!=typeof e||e,n||e||(n=t.match(/^(\d\d):(\d\d):(\d\d)(\+|-)(\d\d):(\d\d)$/)),!!n&&(n[1]<24&&n[1]>=0&&n[2]<60&&n[2]>=0&&n[3]<60&&n[3]>=0&&n[5]<24&&n[5]>=0&&n[6]<60&&n[6]>=0)},convert:function(t,e){var n,i,r,o,s,a,u={},c=/^[0-9]{1,2}:[0-9]{1,2}(:[0-9.]*)?/;if(e="boolean"!=typeof e||e,!c.test(t)){if(n=new Date(t),"Invalid Date"===n.toString())return"";t=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+n.getTimezoneOffsetAsTime()}return i=t.toString().split(/(\+|-|Z)/),i.length<1?"":(r=i[0].split(":"),s=i[2]?[i[1]].concat(i[2].split(":")):"Z"===i[1]?["+","00","00"]:[],u.hours=r[0].pad(2),u.minutes=r[1].pad(2),o=r[2]?r[2].split("."):["00"],u.seconds=o[0],u.milliseconds=o[1]||(e?"000":void 0),a=0===s.length?(new Date).getTimezoneOffsetAsTime():s[0]+s[1].pad(2)+":"+(s[2]?s[2].pad(2):"00"),t=u.hours+":"+u.minutes+":"+u.seconds+(u.milliseconds?"."+u.milliseconds:"")+a,this.validate(t,e)?t:"")}},barcode:{validate:function(){return!0}},geopoint:{validate:function(t){var e=t.toString().trim().split(" ");return""!==e[0]&&e[0]>=-90&&e[0]<=90&&""!==e[1]&&e[1]>=-180&&e[1]<=180&&("undefined"==typeof e[2]||!isNaN(e[2]))&&("undefined"==typeof e[3]||!isNaN(e[3])&&e[3]>=0)},convert:function(t){return t.toString().trim()}},geotrace:{validate:function(t){var e=t.toString().split(";");return e.length>=2&&e.every(function(t){return r.geopoint.validate(t)})},convert:function(t){return t.toString().trim()}},geoshape:{validate:function(t){var e=t.toString().split(";");return e.length>=4&&e[0]===e[e.length-1]&&e.every(function(t){return r.geopoint.validate(t)})},convert:function(t){return t.toString().trim()}},binary:{validate:function(){return!0}}};e.exports=r},{"./utils":36}],36:[function(t,e,n){"use strict";function i(t,e){var n,i,r,o,s,a,u=new RegExp(e+"\\s*\\(","g"),c=[];if(!t||!e)return c;for(;null!==(i=u.exec(t));){for(r=1,a=[],o=i.index,n=u.lastIndex,s=n;0!==r;)n++,"("===t[n]?r++:")"===t[n]?r--:","===t[n]&&1===r&&(a.push(t.substring(s,n).trim()),s=n+1);a.push(t.substring(s,n).trim()),c.push([t.substring(o,n+1),a])}return c}function r(t){return/^".+"$/.test(t)||/^'.+'$/.test(t)?t.substring(1,t.length-1):t}function o(t,e){var n;return"object"==typeof t&&null!==t&&t.name?(e=e||"",n=t.name.split("."),n.length>1?n[n.length-2]+=e:1===n.length&&(n[0]+=e),n.join(".")):""}function s(t){for(var e=[],n=t.length>>>0;n--;)e[n]=t[n];return e}function a(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t){var e,n,i;if(l)return l[t];for(e=document.cookie.split("; "),l={},i=e.length-1;i>=0;i--)n=e[i].split("="),n[1]=decodeURIComponent(n[1]),"s:"===n[1].substr(0,2)&&(n[1]=n[1].slice(2),n[1]=n[1].slice(0,n[1].lastIndexOf("."))),l[n[0]]=decodeURIComponent(n[1]);return l[t]}function c(t){var e,n,i,r;e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(var o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return new Blob([r],{type:n})}var l;e.exports={parseFunctionFromExpression:i,stripQuotes:r,getFilename:o,toArray:s,isNumber:a,readCookie:u,dataUriToBlobSync:c}},{}],37:[function(t,e,n){"use strict";var i,r,o,s,a,u,c,l,h,f,d=t("jquery"),p=t("enketo/widgets").filter(function(t){return t.selector});o=function(t,e){if(!this.form)throw new Error("Widgets module not correctly instantiated with form property.");return r=this.form.view.$,t=t||r,i=i||e,p.forEach(function(e){c(e,t)}),!0},s=function(t){for(var e,n,i=0;i<p.length;i++)e=p[i],e.name&&(n=u(t,e.selector),n[e.name]("enable"))},a=function(t){for(var e,n,i=0;i<p.length;i++)e=p[i],e.name&&(n=u(t,e.selector),n[e.name]("disable"))},u=function(t,e){return e?"form"===e?r:t.is(".question")?t.find("input:not(.ignore), select:not(.ignore), textarea:not(.ignore)").filter(e):t.find(e):d()},c=function(t,e){var n;return t.options=t.options||{},t.name?(t.helpersRequired&&t.helpersRequired.length>0&&(t.options.helpers={},t.helpersRequired.forEach(function(e){t.options.helpers[e]=i[e]})),n=u(e,t.selector),void(n.length&&(n[t.name](t.options),l(t,n),h(t,n),f(t,n)))):console.error("widget doesn't have a name")},l=function(t,e){e.length>0&&r.on("changelanguage",function(){e[t.name]("update")})},h=function(t,e){e.length>0&&t.list&&e.on("changeoption",function(){d(this)[t.name]("update")})},f=function(t,e){var n=e.prop("nodeName").toLowerCase();e.length>0&&("input"===n||"select"===n||"textarea"===n)&&e.on("inputupdate.enketo",function(){d(this)[t.name]("update")})},e.exports={init:o,enable:s,disable:a}},{"enketo/widgets":38,jquery:72}],38:[function(t,e,n){"use strict";e.exports=[t("../widget/note/notewidget"),t("../widget/select-desktop/selectpicker"),t("../widget/select-mobile/selectpicker"),t("../widget/select-autocomplete/autocomplete"),t("../widget/geo/geopicker"),t("../widget/textarea/textarea"),t("../widget/table/tablewidget"),t("../widget/radio/radiopicker"),t("../widget/date/datepicker-extended"),t("../widget/date-native/datepicker-native"),t("../widget/date-mobile/datepicker-mobile"),t("../widget/time/timepicker-extended"),t("../widget/datetime/datetimepicker-extended"),t("../widget/compact/compactpicker"),t("../widget/file/filepicker"),t("../widget/draw/draw-widget"),t("../widget/select-likert/likertitem"),t("../widget/distress/distresspicker"),t("../widget/horizontal-choices/horizontalchoices"),t("../widget/analog-scale/analog-scalepicker"),t("../widget/big-image/image-viewer"),t("../widget/comment/commentwidget"),t("../widget/image-map/image-map")]},{"../widget/analog-scale/analog-scalepicker":40,"../widget/big-image/image-viewer":41,"../widget/comment/commentwidget":42,"../widget/compact/compactpicker":43,"../widget/date-mobile/datepicker-mobile":44,"../widget/date-native/datepicker-native":45,"../widget/date/datepicker-extended":46,"../widget/datetime/datetimepicker-extended":47,"../widget/distress/distresspicker":48,"../widget/draw/draw-widget":49,"../widget/file/filepicker":50,"../widget/geo/geopicker":51,"../widget/horizontal-choices/horizontalchoices":52,"../widget/image-map/image-map":53,"../widget/note/notewidget":54,"../widget/radio/radiopicker":55,"../widget/select-autocomplete/autocomplete":56,"../widget/select-desktop/selectpicker":58,"../widget/select-likert/likertitem":59,"../widget/select-mobile/selectpicker":60,"../widget/table/tablewidget":61,"../widget/textarea/textarea":62,"../widget/time/timepicker-extended":63}],39:[function(t,e,n){var i=t("enketo-xpathjs");e.exports=function(){var t=new i.XPathEvaluator;i.bindDomLevel3XPath(this.xml,{window:{JsXPathException:!0,JsXPathExpression:!0,JsXPathNSResolver:!0,JsXPathResult:!0,JsXPathNamespace:!0},document:{jsCreateExpression:function(){return t.createExpression.apply(t,arguments)},jsCreateNSResolver:function(){return t.createNSResolver.apply(t,arguments)},jsEvaluate:function(){return t.evaluate.apply(t,arguments)}}})}},{"enketo-xpathjs":65}],40:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="analogscalepicker",a=t("../../js/support");t("bootstrap-slider-basic"),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=o(this.element).closest(".question"),e=o(this.element),n=Number(this.element.value)||-1;this.props=this._getProps(t),e.slider({reversed:"vertical"===this.props.orientation,min:0,max:100,orientation:this.props.orientation,step:this.props.step,value:n,enabled:!this.props.readonly}),this.$widget=e.next(".widget"),this.$slider=this.$widget.find(".slider"),this.$labelContent=o('<div class="label-content widget" />').prependTo(t),this.$originalLabels=t.find(".question-label, .or-hint, .or-required-msg, .or-constraint-msg"),this.$labelContent.append(this.$originalLabels),this._renderResetButton(),this._renderLabels(),this._renderScale(),this._setChangeListener(),this._setResizeListener(),e.trigger("programmaticChange"+this.namespace)},i.prototype._getProps=function(t){var e=t.attr("class").split(" ").map(function(t){return t.substring(14)}),n=this.element.attributes["data-type-xml"].value;return{touch:a.touch,readonly:this.element.readOnly,step:"decimal"===n?.1:1,orientation:e.indexOf("horizontal")!==-1?"horizontal":"vertical"}},i.prototype._renderLabels=function(){var t=this.$labelContent.find(".question-label.active"),e=t.html().split(/\|/).map(function(t){return t.trim()});this.$mainLabel=this.$mainLabel||o('<span class="question-label widget active" />').insertAfter(t),this.$mainLabel.empty().append(e[0]),this.$maxLabel=this.$maxLabel||o('<div class="max-label" />').prependTo(this.$widget),this.$maxLabel.empty().append(e[1]),this.$minLabel=this.$minLabel||o('<div class="min-label" />').appendTo(this.$widget),this.$minLabel.empty().append(e[2]),e[3]?(this.$showValue=this.$showValue||o('<div class="widget show-value" />').appendTo(this.$labelContent),this.$showValue.empty().append('<div class="show-value__box">'+e[3]+'<span class="show-value__value">'+this.element.value+"</span></div>")):this.$showValue&&(this.$showValue.remove(),this.$showValue=void 0)},i.prototype._renderScale=function(){var t,e=o('<div class="scale"></div>');if("vertical"===this.props.orientation)for(t=100;t>=0;t-=10)e.append(this._getNumberHtml(t));else for(t=0;t<=100;t+=10)e.append(this._getNumberHtml(t));this.$slider.prepend(e)},i.prototype._getNumberHtml=function(t){
return'<div class="scale__number"><div class="scale__ticks"></div><div class="scale__value">'+t+"</div></div>"},i.prototype._renderResetButton=function(){var t=this;this.$resetBtn=o('<button class="btn-icon-only btn-reset"><i class="icon icon-refresh"></i></button>').appendTo(this.$widget).on("click",function(){return o(t.element).slider("setValue",0,!1),o(t.element).val("").trigger("programmaticChange"+t.namespace),!1}).prop("disabled",t.props.readonly)},i.prototype._updateCurrentValueShown=function(){this.$showValue&&this.$showValue.find(".show-value__value").text(this.element.value)},i.prototype._setChangeListener=function(){var t=this;o(this.element).on("slideStop."+this.namespace+" programmaticChange"+this.namespace,function(){var e=""===this.value;o(this).trigger("change"),t.$resetBtn.prop("disabled",e||t.props.readonly),t.$slider.toggleClass("slider--empty",e),t._updateCurrentValueShown()})},i.prototype._setResizeListener=function(){var t=o(this.element).closest(".question");t.hasClass("or-appearance-horizontal")||t.on("pageflip.enketo",this._stretchHeight)},i.prototype._stretchHeight=function(){var t=o(this).closest(".question").css("min-height","auto"),e=t.outerHeight(),n=t.closest(".or"),i=n.offset().top+n.height()-(t.offset().top+e)-10;i&&t.css("min-height",e+i+"px")},i.prototype.disable=function(){var t=""!==this.element.value?Number(this.element.value):0;o(this.element).slider("disable").slider("setValue",t,!1)},i.prototype.enable=function(){o(this.element).slider("enable")},i.prototype.update=function(){var t=this,e=""!==this.element.value?Number(this.element.value):0,n=o(this.element),i=n.slider("getValue");e!==i&&o(this.element).slider("setValue",e,!1).trigger("programmaticChange"+t.namespace),this._renderLabels()},o.fn[s]=function(t,e){return this.each(function(){var n=o(this),r=o(this).data(s);t=t||{},r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:'.or-appearance-analog-scale input[type="number"]'}},{"../../js/Widget":14,"../../js/support":33,"bootstrap-slider-basic":8,jquery:72}],41:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="imageViewer";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){o(this.element).on("click",function(){var t=o(this),e=t.attr("href"),n=t.find("img"),i=n.attr("src");return t.attr("href",i),n.attr("src",e),t.toggleClass("open"),!1})},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data(s);r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:"a.or-big-image"}},{"../../js/Widget":14,jquery:72}],42:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="comment",a=t("enketo/translator").t;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){this.$linkedQuestion=this._getLinkedQuestion(this.element),this.$commentQuestion=o(this.element).closest(".question"),1===this.$linkedQuestion.length&&(this.$commentQuestion.addClass("hide").attr("role","comment"),this.$commentButton=o('<a class="btn-icon-only btn-comment" type="button" href="#"><i class="icon"> </i></a>'),this._setCommentButtonState(this.element.value),this.$linkedQuestion.find(".question-label").last().after(this.$commentButton),this._setCommentButtonHandler(),this._setValidationHandler(),this._setFocusHandler())},i.prototype._getLinkedQuestion=function(t){var e=o(t),n=this.options.helpers.input.getName(e),i=t.dataset["for"].trim(),r=this.options.helpers.pathToAbsolute(i,n),s=o(t).closest("form.or, .or-repeat");return this.options.helpers.input.getWrapNodes(s.find('[name="'+r+'"], [data-name="'+r+'"]')).eq(0)},i.prototype._commentHasError=function(){return this.$commentQuestion.hasClass("invalid-required")||this.$commentQuestion.hasClass("invalid-constraint")},i.prototype._setCommentButtonState=function(t,e){t="string"==typeof t?t.trim():t,this.$commentButton.toggleClass("empty",!t),this.$commentButton.toggleClass("invalid",!!e)},i.prototype._setCommentButtonHandler=function(){var t=this;this.$commentButton.click(function(){return t._isCommentModalShown(t.$linkedQuestion)?t._hideCommentModal(t.$linkedQuestion):t._showCommentModal(),!1})},i.prototype._setValidationHandler=function(){var t=this;o("form.or").on("validationcomplete.enketo",function(){var e=t._commentHasError(),n=t.element.value;t._setCommentButtonState(n,e)})},i.prototype._setFocusHandler=function(){var t=this;o(this.element).on("applyfocus",function(){t.$commentButton.is(":visible")?t.$commentButton.click():console.log("The linked question is not visible. Cannot apply focus to "+t.element.getAttribute("name"))})},i.prototype._isCommentModalShown=function(t){return 1===t.find(".or-comment-widget").length},i.prototype._showCommentModal=function(){var t,e,n,i,r=this,s=o(this.element).closest(".question").clone(!1),u=a("widget.comment.update")||"Update",c=o('<button class="btn btn-primary or-comment-widget__content__btn-update" type="button">'+u+"</button>"),l=o('<button class="btn-icon-only or-comment-widget__content__btn-close-x" type="button">&times;</button>');n=s.removeClass("hide").find("input, textarea").addClass("ignore").removeAttr("name data-for data-type-xml").removeData(),i=o('<div class="or-comment-widget__overlay"></div>'),e=o('<div class="or-comment-widget__content"></div>').append(s).append(l).append(c),t=o('<section class="widget or-comment-widget"></section>').append(i).append(e),this.$linkedQuestion.find(".or-comment-widget").remove().end().prepend(t).before(i.clone(!1)),n.focus(),t.get(0).scrollIntoView(!1),c.on("click",function(){var t,e=n.val();return o(r.element).val(e).trigger("change"),t=r._commentHasError(),r._setCommentButtonState(e,t),r._hideCommentModal(r.$linkedQuestion),r.options.helpers.input.validate(o(r.$linkedQuestion.get(0).querySelector("input, select, textarea"))),!1}),l.add(i).on("click",function(){return r._hideCommentModal(r.$linkedQuestion),!1})},i.prototype._hideCommentModal=function(t){t.find(".or-comment-widget").remove().end().prev(".or-comment-widget__overlay").remove()},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data(s);r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:'.or-appearance-comment input[type="text"][data-for], .or-appearance-comment textarea[data-for]',helpersRequired:["input","pathToAbsolute"]}},{"../../js/Widget":14,"enketo/translator":20,jquery:72}],43:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,o.call(this,t,e),this._init()}var r=t("jquery"),o=t("../../js/Widget"),s="compactpicker";i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){r(this.element).find(".option-label").each(function(){var t=r(this);t.siblings("img, video, audio").length>0&&t.css("display","none")})},r.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(s);o||"object"!=typeof t?o&&"string"==typeof t&&o[t](this):n.data(s,new i(this,t,e))})},e.exports={name:"compactpicker",selector:'.or-appearance-compact, .or-appearance-quickcompact, [class*="or-appearance-compact-"]'}},{"../../js/Widget":14,jquery:72}],44:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="datepickerMobile",a=t("../../js/support");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=o(this.element),e=this.element.value;if(a.inputTypes.month){var n=o('<input class="ignore widget datepicker-mobile" type="month"/>');t.addClass("hide"),n.val(e?e.substring(0,e.lastIndexOf("-")):"").insertAfter(t).on("change",function(){var e=this.value?this.value+"-01":"";t.val(e).trigger("change")})}},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data("datepickerExtended"),u=n.data(s);r||"object"!=typeof t||u||!a.touch||n.data(s,new i(this,t,e))})},e.exports={name:s,selector:'.or-appearance-month-year input[type="date"]'}},{"../../js/Widget":14,"../../js/support":33,jquery:72}],45:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="datepickerNative",a=t("../../js/support");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){this.element.type="text",this.element.classList.add("mask-date")},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data("datepickerExtended"),u=n.data(s);r||"object"!=typeof t||u||a.touch||n.data(s,new i(this,t,e))})},e.exports={name:s,selector:'input[type="date"]'}},{"../../js/Widget":14,"../../js/support":33,jquery:72}],46:[function(t,e,n){"use strict";function i(t,e){this.namespace=u,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("../../js/support"),s=t("jquery"),a=t("../../js/types");t("bootstrap-datepicker"),t("../../js/dropdown.jquery");var u="datepickerExtended";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=s(this.element).parent("label");this.settings=t.hasClass("or-appearance-year")?{format:"yyyy",startView:"decade",minViewMode:"years"}:t.hasClass("or-appearance-month-year")?{format:"yyyy-mm",startView:"year",minViewMode:"months"}:{format:"yyyy-mm-dd",startView:"month",minViewMode:"days"},this.$fakeDateI=this._createFakeDateInput(this.settings.format),this._setChangeHandler(this.$fakeDateI),this._setFocusHandler(this.$fakeDateI),this._setResetHandler(this.$fakeDateI),this.$fakeDateI.datepicker({format:this.settings.format,autoclose:!0,todayHighlight:!0,startView:this.settings.startView,minViewMode:this.settings.minViewMode,forceParse:!1})},i.prototype._createFakeDateInput=function(t){var e=s(this.element),n=s('<div class="widget date"><input class="ignore input-small" type="text" value="'+e.val()+'" placeholder="'+t+'" /><button class="btn-icon-only btn-reset" type="button"><i class="icon icon-refresh"> </i></button></div>'),i=n.find("input");return e.hide().after(n),i},i.prototype._setChangeHandler=function(t){var e=s(this.element),n=this.settings;t.on("change",function(){var i="",r=t.val(),o="";return r.length>0&&(r="yyyy-mm"===n.format?r+"-01":"yyyy"===n.format?r+"-01-01":r,i=a.date.convert(r)),e.val()!==i&&e.val(i).trigger("change").blur(),o="yyyy-mm"===n.format?i.substring(0,i.lastIndexOf("-")):"yyyy"===n.format?i.substring(0,i.indexOf("-")):i,t.val(o).datepicker("update"),!1})},i.prototype._setResetHandler=function(t){var e=this;t.next(".btn-reset").on("click",function(){s(e.element).val()&&t.val("").datepicker("update")})},i.prototype._setFocusHandler=function(t){var e=this;t.on("focus",function(){s(e.element).trigger("fakefocus")}),s(this.element).on("applyfocus",function(){t.focus()})},i.prototype.update=function(){this.$fakeDateI.val(this.element.value).datepicker("update")},s.fn[u]=function(t,e){return t=t||{},this.each(function(){var n=s(this),r=n.data(u),a=/GT-P31[0-9]{2}.+AppleWebKit\/534\.30/;r||"object"!=typeof t||o.touch&&o.inputTypes.date&&!a.test(navigator.userAgent)?r&&"string"==typeof t&&r[t](this):n.data(u,new i(this,t,e))})},e.exports={name:u,selector:'input[type="date"]:not([readonly])'}},{"../../js/Widget":14,"../../js/dropdown.jquery":17,"../../js/support":33,"../../js/types":35,"bootstrap-datepicker":7,jquery:72}],47:[function(t,e,n){"use strict";function i(t,e){this.namespace=u,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("../../js/support"),s=t("jquery"),a=t("../../js/types"),u="datetimepickerExtended";t("../../js/extend"),t("bootstrap-datepicker"),t("../time/timepicker"),t("../../js/dropdown.jquery"),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){function t(){if(e.$fakeDateI.val().length>0&&e.$fakeTimeI.val().length>3){var t=e.$fakeDateI.val().split("-"),i=e.$fakeTimeI.val().split(":");n.val(new Date(t[0],t[1]-1,t[2],i[0],i[1]).toISOLocalString()).trigger("change")}else n.val("").trigger("change")}var e=this,n=s(this.element),i=n.val().length>0?new Date(n.val()).toISOLocalString():"",r=i.split("T"),o=r[0],u=r[1]&&r[1].length>4?r[1].substring(0,5):"";this.$fakeDateI=this._createFakeDateInput(o),this.$fakeTimeI=this._createFakeTimeInput(u),n.hide().after('<div class="datetimepicker widget" />'),n.siblings(".datetimepicker").append(this.$fakeDateI.closest(".date")).append(this.$fakeTimeI.closest(".timepicker")),this.$fakeDateI.datepicker({format:"yyyy-mm-dd",autoclose:!0,todayHighlight:!0,forceParse:!1}),this.$fakeTimeI.timepicker({defaultTime:u.length>0&&"value",showMeridian:!1}).closest(".widget").find("input").addClass("ignore"),this._setFocusHandler(this.$fakeDateI.add(this.$fakeTimeI)),this.$fakeDateI.on("change changeDate",function(){return a.date.validate(this.value)||e.$fakeDateI.val("").datepicker("update"),t(),!1}),this.$fakeTimeI.on("change",function(){return t(),!1}),this.$fakeTimeI.next(".btn-reset").on("click",function(){var t=n.val()?"change":"";(t||e.$fakeDateI.val()||e.$fakeTimeI.val())&&(e.$fakeDateI.val("").trigger(t).datepicker("update"),e.$fakeTimeI.val("").trigger(t))})},i.prototype._createFakeDateInput=function(t){var e=s('<div class="date"><input class="ignore" type="text" value="'+t+'" placeholder="yyyy-mm-dd"/></div>'),n=e.find("input");return n},i.prototype._createFakeTimeInput=function(t){var e=s('<div class="timepicker"><input class="ignore timepicker-default" type="text" value="'+t+'" placeholder="hh:mm"/><button class="btn-icon-only btn-reset" type="button"><i class="icon icon-refresh"> </i></button></div>'),n=e.find("input");return n},i.prototype.update=function(){var t=s(this.element),e=t.val().length>0?new Date(t.val()).toISOLocalString():"",n=e.split("T"),i=n[0],r=n[1]&&n[1].length>4?n[1].substring(0,5):"";this.$fakeDateI.val(i),this.$fakeTimeI.val(r)},i.prototype._setFocusHandler=function(t){var e=this;t.on("focus",function(){s(e.element).trigger("fakefocus")}),s(this.element).on("applyfocus",function(){t.eq(0).focus()})},s.fn[u]=function(t,e){return t=t||{},this.each(function(){var n=s(this),r=n.data(u),a=/GT-P31[0-9]{2}.+AppleWebKit\/534\.30/;r||"object"!=typeof t||o.touch&&o.inputTypes.datetime&&!a.test(navigator.userAgent)?r&&"string"==typeof t&&r[t](this):n.data(u,new i(this,t,e))})},e.exports={name:u,selector:'input[type="datetime"]:not([readonly])'}},{"../../js/Widget":14,"../../js/dropdown.jquery":17,"../../js/extend":18,"../../js/support":33,"../../js/types":35,"../time/timepicker":64,"bootstrap-datepicker":7,jquery:72}],48:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery");t("bootstrap-slider-basic");var s="distresspicker";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=Number(this.element.value)||-1;this.props=this._getProps(),o(this.element).slider({reversed:!0,min:-1,max:10,orientation:"vertical",step:this.props.step,value:t,enabled:!this.props.readonly}),this.$widget=o(this.element).next(".widget"),this.$slider=this.$widget.find(".slider"),this._addBulb(),this._addScale(),this._setChangeListener()},i.prototype._getProps=function(){var t=this.element.attributes["data-type-xml"].value;return{readonly:this.element.readOnly,step:"decimal"===t?.1:1}},i.prototype._addBulb=function(){this.$slider.append('<div class="bulb"><div class="inner"></div></div>')},i.prototype._addScale=function(){for(var t=o('<div class="scale"></div>'),e=10;e>=-1;e--)t.append('<div class="number"><div class="value">'+e+"</div></div>");this.$slider.prepend(t)},i.prototype._setChangeListener=function(){o(this.element).on("slideStop."+this.namespace,function(){Number(this.value)===-1&&(this.value=""),o(this).trigger("change")})},i.prototype.disable=function(){var t=""!==this.element.value?Number(this.element.value):-1;o(this.element).slider("disable").slider("setValue",t,!1)},i.prototype.enable=function(){o(this.element).slider("enable")},i.prototype.update=function(){var t=""!==this.element.value?Number(this.element.value):-1,e=o(this.element),n=e.slider("getValue");t!==n&&o(this.element).slider("setValue",t,!1)},o.fn[s]=function(t,e){return this.each(function(){var n=o(this),r=o(this).data(s);t=t||{},r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:'.or-appearance-distress input[type="number"]'}},{"../../js/Widget":14,"bootstrap-slider-basic":8,jquery:72}],49:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="drawWidget",a=t("../../js/support"),u=t("enketo/file-manager"),c=t("signature_pad"),l=t("enketo/translator").t,h=t("enketo/dialog"),f=t("../../js/utils"),d=t("lie");c.prototype.fromObjectURL=function(t,e){var n=new Image;e=e||{};var i=e.ratio||window.devicePixelRatio||1,r=e.width||this._canvas.width/i,o=e.height||this._canvas.height/i,s=this;return this._reset(),new d(function(e){n.src=t,n.onload=function(){var i,a,u=n.width,c=n.height,l=r/u,h=o/c;if(l<1||h<1){var f=Math.min(l,h);i=(r-u*f)/2,a=(o-c*f)/2,s._ctx.drawImage(n,0,0,u,c,i,a,u*f,c*f)}else i=(r-u)/2,a=(o-c)/2,s._ctx.drawImage(n,i,a,u,c);e(t)},s._isEmpty=!1})},c.prototype.updateData=function(t){var e=this;this._fromData(t,function(t,n){e._drawCurve(t,n.start,n.end)},function(t){e._drawDot(t)}),this._data=t},i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t,e=this,n=this.element.dataset.loadedFileName;this.element.type="text",this.element.dataset.drawing=!0,this.props=this._getProps(this.element),this.$widget=this._getMarkup(),t=this.$widget[0].querySelector(".draw-widget__body__canvas"),o(this.element).after(this.$widget),this._handleResize(t),this._resizeCanvas(t),this.props.load&&this._handleFiles(n),this.initialize=u.init().then(function(){return e.pad=new c(t,{onEnd:e._updateValue.bind(e),penColor:e.props.colors[0]||"black"}),!n||(e.pad.off(),e.element.value=n,e._loadFileIntoPad(n).then(e._updateDownloadLink.bind(e)))}).then(function(){e.pad.on(),e.$widget.find(".draw-widget__btn-reset").on("click",e._reset.bind(e)).end().find(".draw-widget__colorpicker").on("click",".current",function(){o(this).parent().toggleClass("reveal")}).on("click","[data-color]:not(.current)",function(){o(this).siblings().removeClass("current").end().addClass("current").parent().removeClass("reveal"),e.pad.penColor=this.dataset.color}).end().find(".draw-widget__undo").on("click",function(){var t=e.pad.toData();e.pad.clear();var n=e.$widget[0].querySelector("input[type=file]"),i=n&&n.files[0]?n.files[0]:e.element.dataset.loadedFileName;e._loadFileIntoPad(i).then(function(){e.pad.updateData(t.slice(0,-1)),e._updateValue(),e.pad.penColor=e.$widget.find(".draw-widget__colorpicker .current")[0].dataset.color})}).end().find(".show-canvas-btn").on("click",function(){return e.$widget.addClass("full-screen"),e._resizeCanvas(t),e.props.readonly||e.pad.on(),!1}).end().find(".hide-canvas-btn").on("click",function(){return e.$widget.removeClass("full-screen"),e.pad.off(),e._resizeCanvas(t),!1}).click(),o(t).on("canvasreload."+e.namespace,function(){e.cache&&e.pad.fromDataURL(e.cache)}),e.props.readonly&&e.disable(e.element)})["catch"](function(t){e._showFeedback(t.message)}),o(this.element).on("applyfocus",function(){t.focus()}).closest('[role="page"]').on("pageflip.enketo",function(){e._resizeCanvas(t)})},i.prototype._getProps=function(t){var e=o(t).closest(".question");return{readonly:t.readOnly,type:e.hasClass("or-appearance-draw")?"drawing":e.hasClass("or-appearance-signature")?"signature":"annotation",filename:this.type+".png",load:e.hasClass("or-appearance-annotate"),colors:e.hasClass("or-appearance-signature")?[]:["black","lightblue","blue","red","orange","cyan","yellow","lightgreen","green","pink","purple","lightgray","darkgray"],touch:a.touch,accept:t.getAttribute("accept"),capture:t.getAttribute("capture")}},i.prototype._handleFiles=function(t){this._updatePlaceholder(),this.$widget.closest("form.or").on("updateMaxSize",this._updatePlaceholder.bind(this));var e=this,n=this.$widget.find("input[type=file]"),i=this.$widget.find(".fake-file-input");this._showFileName(t),n.on("click."+this.namespace,function(t){if(e.props.readonly||"propagate"!==t.namespace)return e.$fakeInput.focus(),t.stopImmediatePropagation(),!1}).on("change."+this.namespace,function(){var t=this.files[0];t?u.isTooLarge(t)?e._showFeedback(l("filepicker.toolargeerror",{maxSize:u.getMaxSizeReadable()})):(e.pad.clear(),e._loadFileIntoPad(this.files[0]).then(function(){e._updateValue.call(e),e._showFileName(t.name)})):e._showFileName(null)}),i.on("click."+this.namespace,function(t){return e.props.readonly||n[0].value||i[0].value?(o(this).focus(),t.stopImmediatePropagation(),!1):(t.preventDefault(),void n.trigger("click.propagate"))}).on("change."+this.namespace,function(){return!1})},i.prototype._showFileName=function(t){this.$widget.find(".fake-file-input").val(t).prop("readonly",!!t)},i.prototype._updatePlaceholder=function(){this.$widget.find(".fake-file-input").attr("placeholder",l("filepicker.placeholder",{maxSize:u.getMaxSizeReadable()||"?MB"}))},i.prototype._getMarkup=function(){var t=this.props.load?'<input type="file" class="ignore draw-widget__load"'+(null!==this.props.capture?' capture="'+this.props.capture+'"':"")+' accept="'+this.props.accept+'"/><div class="widget file-picker"><input class="ignore fake-file-input"/><div class="file-feedback"></div></div>':"",e=this.props.touch?'<button type="button" class="show-canvas-btn btn btn-default">Draw/Sign</button><button type="button" class="hide-canvas-btn btn btn-default"><span class="icon icon-arrow-left"> </span></button>':"",n=o('<div class="widget draw-widget"><div class="draw-widget__body">'+e+t+'<canvas class="draw-widget__body__canvas noSwipe" tabindex="1"></canvas><div class="draw-widget__colorpicker"></div>'+("signature"===this.props.type?"":'<button class="btn-icon-only draw-widget__undo" type=button><i class="icon icon-undo"> </i></button>')+'</div><div class="draw-widget__footer"><button type="button" class="btn-icon-only draw-widget__btn-reset" ><i class="icon icon-refresh"> </i></button><a class="btn-icon-only btn-download" download href=""><i class="icon icon-download"> </i></a><div class="draw-widget__feedback"></div></div></div>'),i=n.find(".draw-widget__colorpicker");return this.props.colors.forEach(function(t,e){var n=0===e?" current":"";i.append('<div class="'+n+'"data-color="'+t+'" style="background: '+t+';" />')}),n},i.prototype._updateValue=function(){var t=new Date,e="-"+t.getHours()+"_"+t.getMinutes()+"_"+t.getSeconds();this.cache=this.pad.toDataURL(),this.element.dataset.filenamePostfix=e,o(this.element).val(this.props.filename).trigger("change"),this._updateDownloadLink(this.cache)},i.prototype._reset=function(){var t=this;if(this.element.value){var e=l("signature"===this.props.type?"drawwidget.signature":"drawing"===this.props.type?"drawwidget.drawing":"drawwidget.annotation");h.confirm(l("filepicker.resetWarning",{item:e})).then(function(){t.pad.clear(),t.cache=null,delete t.element.dataset.loadedFileName,t.element.dataset.filenamePostfix="",o(t.element).val("").trigger("change"),t.$widget.find("input[type=file]").val("").trigger("change"),t._updateDownloadLink("")})}},i.prototype._loadFileIntoPad=function(t){var e=this;return t?u.getFileUrl(t).then(e.pad.fromObjectURL.bind(e.pad))["catch"](function(){e._showFeedback("File could not be loaded (leave unchanged if already submitted and you want to preserve it).","error")}):d.resolve("")},i.prototype._showFeedback=function(t){t=t||"",this.$widget.find(".draw-widget__feedback").text(t)},i.prototype._updateDownloadLink=function(t){t&&"blob:"!==t.substring(0,5)&&(t=URL.createObjectURL(f.dataUriToBlobSync(t))),this.$widget.find(".btn-download").attr({href:t||"",download:t?f.getFilename({name:this.element.value},this.element.dataset.filenamePostfix):""})},i.prototype._handleResize=function(t){var e=this;o(window).on("resize",function(){e._resizeCanvas(t)})},i.prototype._resizeCanvas=function(t){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),o(t).trigger("canvasreload."+this.namespace)},i.prototype.disable=function(t){var e=this;this.initialize.then(function(){e.pad.off(),o(t).next(".widget").find(".draw-widget__btn-reset").prop("disabled",!0)})},i.prototype.enable=function(t){var e=this;this.initialize.then(function(){e.pad.on(),t.readOnly||o(t).next(".widget").find(".draw-widget__btn-reset").prop("disabled",!1),e._resizeCanvas(o(t).closest(".question")[0].querySelector(".draw-widget__body__canvas"))})},i.prototype.update=function(t){""===t.value&&this._reset()},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data(s);r||"object"!=typeof t||n.data(s,new i(this,t,e)),r&&"string"==typeof t&&r[t](this)})},e.exports={name:s,selector:'.or-appearance-draw input[data-type-xml="binary"][accept^="image"], .or-appearance-signature input[data-type-xml="binary"][accept^="image"], .or-appearance-annotate input[data-type-xml="binary"][accept^="image"]'}},{"../../js/Widget":14,"../../js/support":33,"../../js/utils":36,"enketo/dialog":19,"enketo/file-manager":21,"enketo/translator":20,jquery:72,lie:10,signature_pad:83}],50:[function(t,e,n){"use strict";function i(t,e,n){n&&(n.stopPropagation(),n.preventDefault()),this.namespace=u,o.call(this,t,e),this._init()}var r=t("jquery"),o=t("../../js/Widget"),s=t("enketo/file-manager"),a=t("../../js/utils"),u="filepicker",c=t("enketo/translator").t,l=t("../../js/translated-error"),h=t("enketo/dialog");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=r(this.element),e=t.attr("data-loaded-file-name"),n=this;this.props=this._getProps(),t.prop("disabled",!0).addClass("hide").parent().addClass("with-media clearfix"),this.$widget=r('<div class="widget file-picker"><input class="ignore fake-file-input"/><button class="btn-icon-only btn-reset" type="button"><i class="icon icon-refresh"> </i></button><a class="btn-icon-only btn-download" download href=""><i class="icon icon-download"> </i></a><div class="file-feedback"></div><div class="file-preview"></div></div>').insertAfter(t),this.$feedback=this.$widget.find(".file-feedback"),this.$preview=this.$widget.find(".file-preview"),this.$fakeInput=this.$widget.find(".fake-file-input"),this.$downloadLink=this.$widget.find(".btn-download"),this.$widget.find(".btn-reset").on("click",function(){(t.val()||n.$fakeInput.val())&&h.confirm(c("filepicker.resetWarning",{item:c("filepicker.file")})).then(function(){t.val("").trigger("change")})}).end(),n._focusListener(),this._showFileName(e),s.isWaitingForPermissions()&&this._showFeedback(c("filepicker.waitingForPermissions"),"warning"),this._updatePlaceholder(),t.closest("form.or").on("updateMaxSize",this._updatePlaceholder.bind(this)),s.init().then(function(){n._showFeedback(),n._changeListener(),t.prop("disabled",!1),e&&s.getFileUrl(e).then(function(t){n._showPreview(t,n.props.mediaType),n._updateDownloadLink(t,e)})["catch"](function(){n._showFeedback(c("filepicker.notFound",{existing:e}),"error")})})["catch"](function(t){n._showFeedback(t,"error")})},i.prototype._getProps=function(){return{mediaType:this.element.getAttribute("accept"),readonly:this.element.readOnly}},i.prototype._updatePlaceholder=function(){this.$fakeInput.attr("placeholder",c("filepicker.placeholder",{maxSize:s.getMaxSizeReadable()||"?MB"}))},i.prototype._changeListener=function(){var t=this;r(this.element).on("click",function(e){if(t.props.readonly||"propagate"!==e.namespace)return t.$fakeInput.focus(),e.stopImmediatePropagation(),!1}).on("change.propagate."+this.namespace,function(e){var n,i,o,u=r(this),c=u.attr("data-loaded-file-name"),l=new Date;return"propagate"===e.namespace?(u.trigger("change.file"),!1):(e.stopImmediatePropagation(),n=this.files[0],o="-"+l.getHours()+"_"+l.getMinutes()+"_"+l.getSeconds(),this.dataset.filenamePostfix=o,i=a.getFilename(n,o),void s.getFileUrl(n,i).then(function(e){t._showPreview(e,t.props.mediaType),t._showFeedback(),t._showFileName(i),c&&c!==i&&u.removeAttr("data-loaded-file-name"),t._updateDownloadLink(e,i),u.trigger("change.propagate")})["catch"](function(e){u.val("").trigger("change.propagate"),t._showFileName(""),t._showPreview(null),t._showFeedback(e,"error"),t._updateDownloadLink("","")}))}),this.$fakeInput.on("click",function(e){return t.props.readonly||t.element.value||t.$fakeInput[0].value?(r(this).focus(),e.stopImmediatePropagation(),!1):(e.preventDefault(),void r(t.element).trigger("click.propagate"))}).on("change",function(){return!1})},i.prototype._focusListener=function(){var t=this;this.$fakeInput.on("focus",function(){r(t.element).trigger("fakefocus")}),r(this.element).on("applyfocus",function(){t.$fakeInput.focus()})},i.prototype._showFileName=function(t){this.$fakeInput.val(t).prop("readonly",!!t)},i.prototype._showFeedback=function(t,e){var n=t instanceof l?c(t.translationKey,t.translationOptions):t instanceof Error?t.message:t||"";e=e||"",this.$feedback.text(n).attr("class","file-feedback "+e)},i.prototype._showPreview=function(t,e){var n;switch(this.$widget.find(".file-preview").empty(),e){case"image/*":n=r("<img />");break;case"audio/*":n=r('<audio controls="controls"/>');break;case"video/*":n=r('<video controls="controls"/>');break;default:n=r("")}t&&this.$preview.append(n.attr("src",t))},i.prototype._updateDownloadLink=function(t,e){this.$downloadLink.attr({href:t||"",download:e||""})},r.fn[u]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(u);o||"object"!=typeof t?o&&"string"==typeof t&&o[t](this):n.data(u,new i(this,t,e))})},e.exports={name:u,selector:'.question:not(.or-appearance-draw):not(.or-appearance-signature):not(.or-appearance-annotate) input[type="file"]'}},{"../../js/Widget":14,"../../js/translated-error":34,"../../js/utils":36,"enketo/dialog":19,"enketo/file-manager":21,"enketo/translator":20,jquery:72}],51:[function(t,e,n){"use strict";function i(t,e){this.namespace=d,s.call(this,t,e),this._init()}var r,o=t("jquery"),s=t("../../js/Widget"),a=t("enketo/config"),u=t("leaflet"),c=t("lie"),l=t("enketo/translator").t,h=t("../../js/support"),f=t("enketo/dialog"),d="geopicker",p=15,m=a&&a.maps&&a.maps.length>0?a.maps:[{name:"streets",maxzoom:24,tiles:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"],attribution:' <a href="http://openstreetmap.org">OpenStreetMap</a> | <a href="www.openstreetmap.org/copyright">Terms</a>'}],v="https://maps.googleapis.com/maps/api/geocode/json?address={address}&sensor=true&key={api_key}",g=a.googleApiKey||a.google_api_key,y=u.divIcon({iconSize:24,className:"enketo-geopoint-marker"}),_=u.divIcon({iconSize:16,className:"enketo-geopoint-circle-marker"}),b=u.divIcon({iconSize:16,className:"enketo-geopoint-circle-marker-active"});i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=o(this.element).val().trim(),e=this;this.$form=o(this.element).closest("form.or"),this.$question=o(this.element).closest(".question"),this.mapId=Math.round(1e7*Math.random()),this.props=this._getProps(),this._addDomElements(),this.currentIndex=0,this.points=[],t&&o(this.element).val().trim().split(";").forEach(function(t,n){e.points[n]=t.trim().split(" "),e.points[n].forEach(function(t,e,n){n[e]=Number(t)})}),this.$widget.find('[name="lat"], [name="long"], [name="alt"], [name="acc"]').on("change change.bymap change.bysearch",function(t){var n=e.$lat.val()?Number(e.$lat.val()):"",i=e.$lng.val()?Number(e.$lng.val()):"",r=e.$alt.val()?Number(e.$alt.val()):"",o=e.$acc.val()?Number(e.$acc.val()):"",s={lat:n,lng:i};t.stopImmediatePropagation(),
"bymap"!==t.namespace&&"bysearch"!==t.namespace&&e.polyline&&!e.containsEmptyPoints(e.points,e.currentIndex)&&e.updatedPolylineWouldIntersect(s,e.currentIndex)?(e._showIntersectError(),e._updateInputs(e.points[e.currentIndex],"nochange")):(e._editPoint([n,i,r,o]),"bysearch"!==t.namespace&&e.$search&&e.$search.val(""))}),this.$kmlInput.on("change",function(t){var n=e.$points.find(".addpoint"),i=o(this).prev(".paste-progress").removeClass("hide"),r=t.target.value,s=e._convertKmlCoordinatesToLeafletCoordinates(r);t.target.value="",setTimeout(function(){s.forEach(function(t,i){e._updateInputs(t),i<s.length-1&&n.click()}),i.remove(),e._switchInputType("points")},10)}),this.$widget.find(".toggle-input-type-btn").on("click",function(){var t=e.$inputGroup.hasClass("kml-input-mode")?"points":"kml";return e._switchInputType(t),!1}),o(this.element).on("change",function(){e.$kmlInput.prop("disabled",!!this.value)}).on("applyfocus",function(){e.$widget[0].querySelector("input").focus()}),this.$points.on("click",".point",function(){return e._setCurrent(e.$points.find(".point").index(o(this))),e._switchInputType("points"),!1}),this.$points.find(".addpoint").on("click",function(){return e._addPoint(),!1}),this.$widget.find(".close-chain-btn").on("click",function(){return e._closePolygon(),!1}),this.$widget.find(".btn-remove").on("click",function(){e.points.length<2?e._updateInputs([]):f.confirm(l("geopicker.removePoint")).then(function(){e._removePoint()})}),this.$map.find(".show-map-btn").on("click",function(){return e.$widget.find(".search-bar").removeClass("hide-search"),e.$widget.addClass("full-screen"),e._updateMap(),!1}),this.$form.on("pageflip.enketo.map"+this.mapId,function(t){e.map&&o.contains(t.target,e.element)&&(e.map.invalidateSize(),e.$form.off("pageflip.enketo.map"+e.mapId))}),this.props.wide&&this.$widget.addClass("wide"),this.$widget.toggleClass("hide-input",this.$question.hasClass("or-appearance-hide-input")).find(".toggle-input-visibility-btn").on("click",function(){e.$widget.toggleClass("hide-input"),o(this).toggleClass("open",e.$widget.hasClass("hide-input")),e.map&&e.map.invalidateSize(!1)}).toggleClass("open",e.$widget.hasClass("hide-input")),this.$widget.find(".hide-map-btn").on("click",function(){return e.$widget.find(".search-bar").addClass("hide-search"),e.$widget.removeClass("full-screen").find(".map-canvas").removeClass("leaflet-container").find(".leaflet-google-layer").remove(),e.map&&(e.map.remove(),e.map=null,e.polygon=null,e.polyline=null),!1}),this.$widget.on("focus","input",function(){o(e.element).trigger("fakefocus")}),this.props.search&&this._enableSearch(),this.props.detect&&this._enableDetection(),this.props.readonly&&this.disable(this.element),t?this.points.forEach(function(){e._addPointBtn()}):this._addPoint(),t?(this._updateMap(),this._setCurrent(this.currentIndex)):(this._updateMap([0,0],1),this.props.detect&&navigator.geolocation.getCurrentPosition(function(t){e._updateMap([t.coords.latitude,t.coords.longitude],p)}))},i.prototype._switchInputType=function(t){"kml"===t?this.$inputGroup.addClass("kml-input-mode"):"points"===t&&this.$inputGroup.removeClass("kml-input-mode")},i.prototype._getProps=function(){var t=[],e=h.touch!==!0||h.touch===!0&&o(this.element).closest(".or-appearance-maps").length>0;return e&&(t=o(this.element).closest(".question").attr("class").split(" ").filter(function(t){return"or-appearance-maps"!==t&&/or-appearance-/.test(t)}),t.forEach(function(e,n){t[n]=e.substring(14)})),{detect:!!navigator.geolocation,map:e,search:e,appearances:t,type:this.element.attributes["data-type-xml"].value,touch:h.touch,wide:this.$question.width()/this.$question.closest("form.or").width()>.8,readonly:this.element.readOnly}},i.prototype._addPointBtn=function(){this.$points.find(".addpoint").before('<a href="#" class="point"> </a>')},i.prototype._addDomElements=function(){var t='<div class="map-canvas-wrapper"><div class=map-canvas id="map'+this.mapId+'"></div></div>',e='<div class="points"><button type="button" class="addpoint">+</button></div>',n=l("geopicker.kmlpaste"),i=l("geopicker.kmlcoords"),r=l("geopicker.points"),s='<a href="#" class="toggle-input-type-btn"><span class="kml-input">KML</span><span class="points-input">'+r+'</span></a><label class="geo kml">'+i+'<progress class="paste-progress hide"></progress><textarea class="ignore" name="kml" placeholder="'+n+'"></textarea><span class="disabled-msg">remove all points to enable</span></label>',a=l("geopicker.closepolygon"),u='<button type="button" class="close-chain-btn btn btn-default btn-xs">'+a+"</button>",c='<button type="button" class="show-map-btn btn btn-default">Map</button>',h=l("geopicker.latitude"),f=l("geopicker.longitude"),d=l("geopicker.altitude"),p=l("geopicker.accuracy"),m=l("geopicker.searchPlaceholder");if(this.$widget=o('<div class="geopicker widget"><div class="search-bar hide-search no-map no-detect"><button type="button" class="hide-map-btn btn btn-default"><span class="icon icon-arrow-left"> </span></button><button name="geodetect" type="button" class="btn btn-default" title="detect current location" data-placement="top"><span class="icon icon-crosshairs"> </span></button><div class="input-group"><input class="geo ignore" name="search" type="text" placeholder="'+m+'" disabled="disabled"/><button type="button" class="btn btn-default search-btn"><i class="icon icon-search"> </i></button></div></div><div class="geo-inputs"><label class="geo lat">'+h+'<input class="ignore" name="lat" type="number" step="0.000001" min="-90" max="90"/></label><label class="geo long">'+f+'<input class="ignore" name="long" type="number" step="0.000001" min="-180" max="180"/></label><label class="geo alt">'+d+'<input class="ignore" name="alt" type="number" step="0.1" /></label><label class="geo acc">'+p+'<input class="ignore" name="acc" type="number" step="0.1" /></label><button type="button" class="btn-icon-only btn-remove"><span class="icon icon-trash"> </span></button></div></div>'),this.props.detect&&(this.$widget.find(".search-bar").removeClass("no-detect"),this.$detect=this.$widget.find('button[name="geodetect"]')),this.$search=this.$widget.find('[name="search"]'),this.$inputGroup=this.$widget.find(".geo-inputs"),this.props.map?(this.$widget.find(".search-bar").removeClass("no-map").after(t),this.$map=this.$widget.find(".map-canvas"),this.$map.parent().append('<button type="button" class="toggle-input-visibility-btn"> </button>')):this.$map=o(),this.props.touch&&this.props.map&&this.$map.append(c),this.props.touch||this.$widget.find(".search-bar").removeClass("hide-search"),"geopoint"!==this.props.type){this.$points=o(e),this.$widget.prepend(this.$points),"geoshape"===this.props.type&&this.$inputGroup.append(u);var v=o(s);this.$kmlInput=v.find('[name="kml"]'),this.$inputGroup.prepend(v)}else this.$points=o(),this.$kmlInput=o();this.$lat=this.$widget.find('[name="lat"]'),this.$lng=this.$widget.find('[name="long"]'),this.$alt=this.$widget.find('[name="alt"]'),this.$acc=this.$widget.find('[name="acc"]'),o(this.element).hide().after(this.$widget).parent().addClass("clearfix")},i.prototype._updateValue=function(){var t=o(this.element).val(),e="",n=this;return this._markAsValid(),this.points.forEach(function(t,i,r){var o,s="number"==typeof t[0]?t[0]:"number"==typeof t.lat?t.lat:null,a="number"==typeof t[1]?t[1]:"number"==typeof t.lng?t.lng:null,u="number"==typeof t[2]?t[2]:0,c="number"==typeof t[3]?t[3]:0;o=s&&a?s+" "+a+" "+u+" "+c:"",n._isValidGeopoint(o)||""===o&&i===r.length-1||n._markAsInvalid(i),""!==o||i!==r.length-1?(e+=o,i!==r.length-1&&(e+=";")):e=e.substring(0,e.lastIndexOf(";"))}),t!==e&&(o(this.element).val(e).trigger("change"),!0)},i.prototype._isValidGeopoint=function(t){var e;return!!t&&(e=t.toString().split(" "),""!==e[0]&&e[0]>=-90&&e[0]<=90&&""!==e[1]&&e[1]>=-180&&e[1]<=180&&("undefined"==typeof e[2]||!isNaN(e[2]))&&("undefined"==typeof e[3]||!isNaN(e[3])&&e[3]>=0))},i.prototype._isValidLatLngList=function(t){var e=this;return t.every(function(t,n,i){return e._isValidLatLng(t)||""===t.join()&&n===i.length-1})},i.prototype._isValidLatLng=function(t){var e,n;return e="number"==typeof t[0]?t[0]:"number"==typeof t.lat?t.lat:null,n="number"==typeof t[1]?t[1]:"number"==typeof t.lng?t.lng:null,null!==e&&null!==n&&e>=-90&&e<=90&&n>=-180&&n<=180},i.prototype._markAsInvalid=function(t){this.$points.find(".point").eq(t).addClass("has-error")},i.prototype._markAsValid=function(){this.$points.find(".point").removeClass("has-error")},i.prototype._setCurrent=function(t){this.currentIndex=t,this.$points.find(".point").removeClass("active").eq(t).addClass("active"),this._updateInputs(this.points[t],""),!this.map||this.props.touch&&!this._inFullScreenMode()||this._updateMarkers()},i.prototype._enableDetection=function(){var t=this,e={enableHighAccuracy:!0,maximumAge:0};this.$detect.click(function(n){return n.preventDefault(),navigator.geolocation.getCurrentPosition(function(e){var n={lat:Math.round(1e6*e.coords.latitude)/1e6,lng:Math.round(1e6*e.coords.longitude)/1e6};t.polyline&&t.updatedPolylineWouldIntersect(n,t.currentIndex)?t._showIntersectError():(t._updateInputs([n.lat,n.lng,e.coords.altitude,e.coords.accuracy]),t.currentIndex===t.points.length-1&&"geopoint"!==t.props.type&&t._addPoint())},function(){console.error("error occurred trying to obtain position")},e),!1})},i.prototype._enableSearch=function(){var t=this;v=g?v.replace("{api_key}",g):v.replace("&key={api_key}",""),this.$search.prop("disabled",!1).on("change",function(e){var n=o(this).val();e.stopImmediatePropagation(),n&&(n=n.split(/\s+/).join("+"),o.get(v.replace("{address}",n),function(e){var i;e.results&&e.results.length>0&&e.results[0].geometry&&e.results[0].geometry.location?(i=e.results[0].geometry.location,t._updateMap([i.lat,i.lng],p),t.$search.closest(".input-group").removeClass("has-error")):(t.$search.closest(".input-group").addClass("has-error"),console.log('Location "'+n+'" not found'))},"json").fail(function(){t.$search.closest(".input-group").addClass("has-error"),console.log("Error. Geocoding service may not be available or app is offline")}).always(function(){}))})},i.prototype._dynamicMapAvailable=function(){return!!this.map},i.prototype._inFullScreenMode=function(){return this.$widget.hasClass("full-screen")},i.prototype._updateMap=function(t,e){var n=this;this.props.map&&(e||(e=this.map?this.map.getZoom()||p:p),t&&(this.lastLatLng=t,this.lastZoom=e),this.props.touch&&!this._inFullScreenMode()||(this.map?n._updateDynamicMapView(t,e):this._addDynamicMap().then(function(){n._updateDynamicMapView(t,e)})))},i.prototype._addDynamicMap=function(){var t=this;return this._getLayers().then(function(e){var n={layers:t._getDefaultLayer(e)};t.map=u.map("map"+t.mapId,n).on("click",function(e){var n,i;return!t.props.readonly&&(n=e.latlng,i=t.$lat.val()&&t.$lng.val()?t.points.length:t.currentIndex,n.lat=Math.round(1e6*n.lat)/1e6,n.lng=Math.round(1e6*n.lng)/1e6,void("geopoint"!==t.props.type&&!t.containsEmptyPoints(t.points,i)&&t.updatedPolylineWouldIntersect(n,i)?t._showIntersectError():t.$lat.val()&&t.$lng.val()&&"geopoint"!==t.props.type?t.$lat.val()&&t.$lng.val()&&(t._addPoint(),t._updateInputs(n,"change.bymap")):t._updateInputs(n,"change.bymap")))}),t.map.attributionControl.setPrefix(""),e.length>1&&u.control.layers(t._getBaseLayers(e),null).addTo(t.map),t.$widget.find(".leaflet-control-layers-toggle").append('<span class="icon icon-globe"></span>'),t.map.on("baselayerchange",function(){t.$widget.find(".leaflet-control-container input").addClass("ignore no-unselect").next("span").addClass("option-label")})})},i.prototype._updateDynamicMapView=function(t,e){t?this.map.setView(t,e||p):(this._updatePolyline(),this._updateMarkers(),1===this.points.length&&""===this.points[0].toString()&&(this.lastLatLng?this.map.setView(this.lastLatLng,this.lastZoom||p):this.map.setView(u.latLng(0,0),e||p)))},i.prototype._showIntersectError=function(){f.alert("Borders cannot intersect!")},i.prototype._getLayers=function(){var t=this,e=[];return m.forEach(function(n,i){"string"==typeof n.tiles&&/^GOOGLE_(SATELLITE|ROADMAP|HYBRID|TERRAIN)/.test(n.tiles)?e.push(t._getGoogleTileLayer(n,i)):n.tiles?e.push(t._getLeafletTileLayer(n,i)):console.error("Configuration error for map tiles. Not a valid tile layer: ",n)}),c.all(e)},i.prototype._getLeafletTileLayer=function(t,e){var n,i=this._getTileOptions(t,e);return t.tileIndex=void 0===t.tileIndex?Math.round(100*Math.random())%t.tiles.length:t.tileIndex,n=t.tiles[t.tileIndex],c.resolve(u.tileLayer(n,i))},i.prototype._getGoogleTileLayer=function(t,e){var n=this._getTileOptions(t,e),i=t.tiles.substring(7);return this._loadGoogleMapsScript().then(function(){return new u.Google(i,n)})},i.prototype._getTileOptions=function(t,e){var n=t.name||"map-"+(e+1);return{id:t.id||n,maxZoom:t.maxzoom||18,minZoom:t.minzoom||0,name:n,attribution:t.attribution||""}},i.prototype._loadGoogleMapsScript=function(){return r||(r=new c(function(t){var e,n;window.gmapsLoaded=function(){delete window.gmapsLoaded,t()},e=g?"&key="+g:"",n="https://maps.google.com/maps/api/js?v=3.exp"+e+"&libraries=places&callback=gmapsLoaded",o.getScript(n)})),r},i.prototype._getDefaultLayer=function(t){var e,n=this;return t.reverse().some(function(t){return e=t,n.props.appearances.some(function(e){return e===t.options.name})}),e},i.prototype._getBaseLayers=function(t){var e={};return t.forEach(function(t){e[t.options.name]=t}),e},i.prototype._updateMarkers=function(){var t=[],e=[],n=this;this.markerLayer&&this.markerLayer.clearLayers(),this.points.length<2&&""===this.points[0].join()||(this.points.forEach(function(i,r){var o="geopoint"===n.props.type?y:r===n.currentIndex?b:_;n._isValidLatLng(i)?(t.push(i),e.push(u.marker(i,{icon:o,clickable:!n.props.readonly,draggable:!n.props.readonly,alt:r,opacity:.9}).on("click",function(t){0===t.target.options.alt&&"geoshape"===n.props.type?n._closePolygon():n._setCurrent(t.target.options.alt)}).on("dragend",function(t){var e=t.target.getLatLng(),i=t.target.options.alt;e.lat=Math.round(1e6*e.lat)/1e6,e.lng=Math.round(1e6*e.lng)/1e6,n.polyline&&n.updatedPolylineWouldIntersect(e,i)?(n._showIntersectError(),n._updateMarkers()):(n._setCurrent(i),n._updateInputs(e,"change.bymap"),n._updateMap())}))):console.debug("this latLng was not considered valid",i)}),e.length>0&&(this.markerLayer=u.layerGroup(e).addTo(this.map),1!==this.points.length&&this._isValidLatLngList(this.points)||this.map.setView(t[0],this.lastZoom||p)))},i.prototype._updatePolyline=function(){var t,e=this;if("geopoint"!==this.props.type){if(this.points.length<2||!this._isValidLatLngList(this.points))return this.map&&(this.polyline&&this.map.removeLayer(this.polyline),this.polygon&&this.map.removeLayer(this.polygon)),this.polyline=null,void(this.polygon=null);"geoshape"===this.props.type&&this._updatePolygon(),t=""!==this.points[this.points.length-1].join("")?this.points:this.points.slice(0,this.points.length-1),this.polyline?this.polyline.setLatLngs(t):(this.polyline=u.polyline(t,{color:"red"}),this.map.addLayer(this.polyline)),setTimeout(function(){e.map.fitBounds(e.polyline.getBounds())},0)}},i.prototype._updatePolygon=function(){var t;"geopoint"!==this.props.type&&"geotrace"!==this.props.type&&(t=""!==this.points[this.points.length-1].join("")?this.points:this.points.slice(0,this.points.length-1),this.polygon?this.polygon.setLatLngs(t):(this.polygon=u.polygon(t,{color:"red",stroke:!1}),this.map.addLayer(this.polygon)),this._updateArea(t))},i.prototype._updateArea=function(t){var e,n;t.length>2?(e=u.GeometryUtil.geodesicArea(t),n=u.GeometryUtil.readableArea(e),u.popup({className:"enketo-area-popup"}).setLatLng(this.polygon.getBounds().getCenter()).setContent(n).openOn(this.map)):this.map.closePopup()},i.prototype._addPoint=function(){this._addPointBtn(),this.points.push([]),this._setCurrent(this.points.length-1),this._updateValue()},i.prototype._editPoint=function(t){var e;return this.points[this.currentIndex]=t,e=this._updateValue(),e&&this._updateMap(),e},i.prototype._removePoint=function(){var t=this.currentIndex;this.points.splice(this.currentIndex,1),this._updateValue(),this.$points.find(".point").eq(this.currentIndex).remove(),"undefined"==typeof this.points[this.currentIndex]&&(t=this.currentIndex-1),this._setCurrent(t),this._updateMap()},i.prototype._closePolygon=function(){var t=this.points[this.points.length-1];if(!(this.points.length<3||3===this.points.length&&!this._isValidLatLng(this.points[2])||JSON.stringify(this.points[0])===JSON.stringify(t)))return this._isValidLatLng(t)?(console.log("current last point is valid, so will create a new one to use to close"),this._addPoint()):(console.log("current last point is not a valid point, so will use this as closing point"),this.currentIndex=this.points.length-1),this.polyline&&!this.containsEmptyPoints(this.points,this.points.length)&&this.updatedPolylineWouldIntersect(this.points[0],this.currentIndex)?this._showIntersectError():void this._updateInputs(this.points[0])},i.prototype._updateInputs=function(t,e){var n=t[0]||t.lat||"",i=t[1]||t.lng||"",r=t[2]||t.alt||"",o=t[3]||t.acc||"";e="undefined"!=typeof e?e:"change",this.$lat.val(n||""),this.$lng.val(i||""),this.$alt.val(r||""),this.$acc.val(o||"").trigger(e)},i.prototype._convertKmlCoordinatesToLeafletCoordinates=function(t){var e=[],n=/<\s?coordinates>(([^<]|\n)*)<\/\s?coordinates\s?>/,i=n.test(t);return t=i?t.match(n)[1]:t,t.trim().split(/\s+/).forEach(function(t){var n=[];t.split(",").forEach(function(t,e){var i=Number(t);0===e?n[1]=i:1===e?n[0]=i:2===e&&(n[2]=i)}),e.push(n)}),e},i.prototype.updatedPolylineWouldIntersect=function(t,e){var n,i,r,s=[];return!(this.points<3)&&(o.extend(!0,s,this.points),s[e]=[t[0]||t.lat,t[1]||t.lng],n=""!==s[s.length-1].join("")?s:s.slice(0,s.length-1),n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1)),i=u.polyline(n,{color:"white"}),this.map.addLayer(i),r=i.intersects(),this.map.removeLayer(i),r)},i.prototype.containsEmptyPoints=function(t,e){return t.some(function(t,n){return!(n===e||t[0]&&t[1])})},i.prototype.disable=function(t){o(t).next(".widget").addClass("readonly").find("input, select, textarea").prop("disabled",!0).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled",!0)},i.prototype.enable=function(t){o(t).next(".widget").removeClass("readonly").find("input, select, textarea").prop("disabled",!1).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled",!1),this.map&&this.map.invalidateSize()},i.prototype.update=function(t){this.destroy(t),o(t).data(d,new i(t,this.options,this.event))},o.fn[d]=function(t,e){return this.each(function(){try{var n=o(this),r=o(this).data(d);t=t||{},r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(d,new i(this,t,e))}catch(s){console.log("Failed to initialise geopicker for "+this+": "+s)}})},u.GeometryUtil=u.extend(u.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=6378100,r=t.length,o=0,s=u.LatLng.DEG_TO_RAD;if(r>2){for(var a=0;a<r;a++)e={lat:t[a][0],lng:t[a][1]},n={lat:t[(a+1)%r][0],lng:t[(a+1)%r][1]},o+=(n.lng-e.lng)*s*(2+Math.sin(e.lat*s)+Math.sin(n.lat*s));o=o*i*i/2}return Math.abs(o)},readableArea:function(t){var e;return e=t>=1e4?(1e-4*t).toFixed(2)+" ha":t.toFixed(0)+" m&sup2;"}}),u.Polyline.include({intersects:function(){var t,e,n,i=this._originalPoints,r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},_tooFewPointsForIntersection:function(t){var e=this._originalPoints,n=e?e.length:0;return n+=t||0,!this._originalPoints||n<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,s=this._originalPoints;i=i||0;for(var a=n;a>i;a--)if(r=s[a-1],o=s[a],u.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1}}),u.Util.extend(u.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),u.Google=u.Class.extend({includes:u.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,mapOptions:{backgroundColor:"#dddddd"}},initialize:function(t,e){u.Util.setOptions(this,e),this._ready=void 0!==google.maps.Map,this._ready||u.Google.asyncWait.push(this),this._type=t||"SATELLITE"},onAdd:function(t,e){this._map=t,this._insertAtTheBottom=e,this._initContainer(),this._initMapObject(),t.on("viewreset",this._resetCallback,this),this._limitedUpdate=u.Util.limitExecByInterval(this._update,150,this),t.on("move",this._update,this),t.on("zoomanim",this._handleZoomAnim,this),t._controlCorners.bottomright.style.marginBottom="20px",this._reset(),this._update()},onRemove:function(t){t._container.removeChild(this._container),t.off("viewreset",this._resetCallback,this),t.off("move",this._update,this),t.off("zoomanim",this._handleZoomAnim,this),t._controlCorners.bottomright.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&u.DomUtil.setOpacity(this._container,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},_initContainer:function(){var t=this._map._container,e=t.firstChild;this._container||(this._container=u.DomUtil.create("div","leaflet-google-layer leaflet-top leaflet-left"),this._container.id="_GMapContainer_"+u.Util.stamp(this),this._container.style.zIndex="auto"),t.insertBefore(this._container,e),this.setOpacity(this.options.opacity),this.setElementSize(this._container,this._map.getSize())},_initMapObject:function(){if(this._ready){this._google_center=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._container,{center:this._google_center,zoom:0,tilt:0,mapTypeId:google.maps.MapTypeId[this._type],disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.mapOptions.styles,backgroundColor:this.options.mapOptions.backgroundColor}),e=this;this._reposition=google.maps.event.addListenerOnce(t,"center_changed",function(){e.onReposition()}),this._google=t,google.maps.event.addListenerOnce(t,"idle",function(){e._checkZoomLevels()}),this.fire("MapObjectInitialized",{mapObject:t})}},_checkZoomLevels:function(){this._google.getZoom()!==this._map.getZoom()&&this._map.setZoom(this._google.getZoom())},_resetCallback:function(t){this._reset(t.hard)},_reset:function(){this._initContainer()},_update:function(){if(this._google){this._resize();var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._google.setCenter(e),this._google.setZoom(Math.round(this._map.getZoom())),this._checkZoomLevels()}},_resize:function(){var t=this._map.getSize();this._container.style.width===t.x&&this._container.style.height===t.y||(this.setElementSize(this._container,t),this.onReposition())},_handleZoomAnim:function(t){var e=t.center,n=new google.maps.LatLng(e.lat,e.lng);this._google.setCenter(n),this._google.setZoom(Math.round(t.zoom))},onReposition:function(){this._google&&google.maps.event.trigger(this._google,"resize")}}),u.Google.asyncWait=[],u.Google.asyncInitialize=function(){var t;for(t=0;t<u.Google.asyncWait.length;t++){var e=u.Google.asyncWait[t];e._ready=!0,e._container&&(e._initMapObject(),e._update())}u.Google.asyncWait=[]},e.exports={name:d,selector:'input[data-type-xml="geopoint"], input[data-type-xml="geotrace"], input[data-type-xml="geoshape"]'}},{"../../js/Widget":14,"../../js/support":33,"enketo/config":9,"enketo/dialog":19,"enketo/translator":20,jquery:72,leaflet:73,lie:10}],52:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,o.call(this,t,e),this._init()}var r=t("jquery"),o=t("../../js/Widget"),s="horizontalChoices";i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){r(this.element).find(".option-wrapper").each(function(){var t=r(this),e=t.find("label");e.length%3===2&&t.append('<label class="filler"></label>')})},r.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(s);o||"object"!=typeof t?o&&"string"==typeof t&&o[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:".or-appearance-horizontal"}},{"../../js/Widget":14,jquery:72}],53:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this.options=e,this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="imageMap",a=t("enketo/translator").t;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=this,e=this.element.querySelector("img");return this.$inputs=o(this.element).find("input"),this.props=this._getProps(),e?void(e.getAttribute("src")?this._addMarkup(e).then(this._addFunctionality.bind(this)):o(e).on("load",function(){t._addMarkup(e).then(t._addFunctionality.bind(t))}).on("error",this._showSvgNotFoundError.bind(this))):this._showSvgNotFoundError()},i.prototype._addFunctionality=function(t){this.$svg=t.find("svg"),this.$tooltip=t.find(".image-map__ui__tooltip"),this.props.readonly&&this.disable(),this._setSvgClickHandler(),this._setChangeHandler(),this._setHoverHandler(),this._updateImage()},i.prototype._getProps=function(){return{readonly:this.$inputs[0].readOnly}},i.prototype._addMarkup=function(t){var e=this,n=t.getAttribute("src");return o.get(n).then(function(t){var n,i,r,s;if(e._isSvgDoc(t))return n=e._removeUnmatchedIds(o(t.querySelector("svg"))),i=o('<div class="widget image-map"/>').append('<div class="image-map__ui"><span class="image-map__ui__tooltip"></span></div>').append(n),o(e.element).find("img").remove(),o(e.element).find(".option-wrapper").before(i),r=n[0].getBBox().width||n.attr("width"),s=n[0].getBBox().height||n.attr("height"),n.attr("viewBox",[0,0,parseInt(r,10),parseInt(s,10)].join(" ")),i;throw"Image is not an SVG doc"})["catch"](this._showSvgNotFoundError.bind(e))},i.prototype._showSvgNotFoundError=function(){o(this.element).find(".option-wrapper").before('<div class="widget image-map"><div class="image-map__error">'+a("imagemap.svgNotFound")+"</div></div>")},i.prototype._removeUnmatchedIds=function(t){var e=this;return t.find("path[id], g[id]").each(function(){e._getInput(this.id)||this.removeAttribute("id")}),t},i.prototype._getInput=function(t){return this.element.querySelector('input[value="'+t+'"]')},i.prototype._setSvgClickHandler=function(){var t=this;this.$svg.not("[or-readonly]").on("click","path[id], g[id]",function(e){var n=e.target.id||o(e.target).closest("g[id]")[0].id,i=t._getInput(n);i&&o(i).prop("checked",!i.checked).trigger("change")})},i.prototype._setChangeHandler=function(){this.$inputs.on("change inputupdate.enketo",this._updateImage.bind(this))},i.prototype._setHoverHandler=function(){var t=this;this.$svg.on("mouseenter","path[id], g[id]",function(e){var n=e.target.id||o(e.target).closest("g[id]")[0].id,i=o(t._getInput(n)).siblings(".option-label.active").text();t.$tooltip.text(i)}).on("mouseleave","path[id], g[id]",function(){t.$tooltip.text("")})},i.prototype._isSvgDoc=function(t){return"object"==typeof t&&t.querySelector("svg")},i.prototype._updateImage=function(){var t=this,e=this.options.helpers.input.getVal(this.$inputs.eq(0));this.$svg.find("path[or-selected], g[or-selected]").removeAttr("or-selected"),"string"==typeof e&&(e=[e]),e.forEach(function(e){e&&t.$svg.find("path#"+e+",g#"+e).attr("or-selected","")})},i.prototype.disable=function(){this.$svg.attr("or-readonly","")},i.prototype.enable=function(){this.props.readonly||this.$svg.removeAttr("or-readonly")},o.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=o(this),r=n.data(s);r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(this,t,e))})},e.exports={name:s,selector:".simple-select.or-appearance-image-map",helpersRequired:["input"]}},{"../../js/Widget":14,"enketo/translator":20,jquery:72}],54:[function(t,e,n){"use strict";var i="notewidget";e.exports={name:i}},{}],55:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery");t("../../js/plugins");var s="radiopicker";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){this._setDelegatedHandlers()},i.prototype._setDelegatedHandlers=function(){var t,e,n=o(this.element);n.on("click",'input[type="radio"]:checked',function(){o(this).parent("label").siblings().removeAttr("data-checked").end().attr("data-checked","true")}),n.on("click",'input[type="checkbox"][readonly],input[type="radio"][readonly]',function(t){return t.stopImmediatePropagation(),!1}),n.on("click",'input[type="checkbox"]',function(){e=o(this),t=e.parent("label"),e.is(":checked")?t.attr("data-checked","true"):t.removeAttr("data-checked")}),n.find('input[type="radio"]:checked, input[type="checkbox"]:checked').parent("label").attr("data-checked","true"),n.on("click",'[data-checked]>input[type="radio"]:not(.no-unselect)',function(){o(this).prop("checked",!1).trigger("change").parent().removeAttr("data-checked")})},o.fn[s]=function(t,e){var n=o(this),r=n.data(s);return t=t||{},r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(n[0],t,e)),this},e.exports={name:s,selector:"form"}},{"../../js/Widget":14,"../../js/plugins":28,jquery:72}],56:[function(t,e,n){"use strict";function i(t,e,n){this.namespace=s,o.call(this,t,e),n&&(n.stopPropagation(),n.preventDefault()),this._init()}var r=t("jquery"),o=t("../../js/Widget"),s="autocomplete",a=!("list"in document.createElement("input")&&"options"in document.createElement("datalist")&&"undefined"!=typeof window.HTMLDataListElement);t("./jquery.relevant-dropdown"),i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=r(this.element),e=t.attr("list");this.props=this._getProps(),this.$options=t.closest(".question").find("datalist#"+e+" > option"),this.$options.each(function(t,e){var n=e.getAttribute("value");e.classList.contains("itemset-template")||void 0===n||null===n||(e.dataset.value=n,e.setAttribute("value",e.textContent),e.textContent="")}),this.$fakeInput=r('<input type="text" class="ignore widget autocomplete" list="'+e+'" />'),this.props.readonly&&this.$fakeInput.attr("readonly","readonly"),this.props.disabled&&this.$fakeInput.attr("disabled","disabled"),t.hide().after(this.$fakeInput),a&&(console.debug("Polyfill required"),this.$fakeInput.relevantDropdown()),this._setFakeInputListener(),this._setFocusListener(),this._showCurrentLabel()},i.prototype._getProps=function(){return{readonly:this.element.readOnly,disabled:this.element.disabled}},i.prototype._showCurrentLabel=function(){var t=this.element.value,e=this._findLabel(t);this.$fakeInput.val(e),t&&!e&&this.$fakeInput.trigger("input")},i.prototype._setFakeInputListener=function(){var t=this;this.$fakeInput.on("input."+this.namespace,function(e){var n=e.target,i=n.value,o=t._findValue(i)||"";t.element.value!==o&&r(t.element).val(o).trigger("change"),r(n).toggleClass("notfound",i&&!o)})},i.prototype._findValue=function(t){var e="";return t?(this.$options.each(function(n,i){if(i.value===t)return e=i.getAttribute("data-value"),!1}),e):""},i.prototype._findLabel=function(t){var e="";return t?(this.$options.each(function(n,i){if(i.dataset.value===t)return e=i.value,!1}),e):""},i.prototype._setFocusListener=function(){var t=this;this.$fakeInput.on("focus",function(){return r(t.element).trigger("fakefocus"),!0}),r(this.element).on("applyfocus",function(){r(t.$fakeInput).focus()})},i.prototype.disable=function(){this.$fakeInput.find("li").addClass("disabled")},i.prototype.enable=function(){this.$fakeInput.find("li").removeClass("disabled")},i.prototype.update=function(){r(this.element).siblings(".widget").remove(),this._init()},r.fn[s]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(s);o||"object"!=typeof t?o&&"string"==typeof t&&o[t](this):n.data(s,o=new i(this,t,e));
})},e.exports={name:s,list:!0,selector:"input[list]"}},{"../../js/Widget":14,"./jquery.relevant-dropdown":57,jquery:72}],57:[function(t,e,n){function i(t,e,n){this.namespace=o,this.element=t,this.options=r.extend({fadeOutSpeed:"normal",change:null},e),n&&(n.stopPropagation(),n.preventDefault()),this._init()}var r=t("jquery"),o="relevantDropdown";r.expr[":"].RD_contains=r.expr.createPseudo(function(t){return function(e){return r(e).text().toUpperCase().indexOf(t.toUpperCase())>=0}}),i.prototype._init=function(){var t=r(this.element);this.listId=t.attr("list"),this.$fakeDatalist=r("<ul />",{"class":"datalist widget",id:this.listId}).appendTo(t.parent()),this._updateFakeDatalist(),this._setEventListeners()},i.prototype._updateFakeDatalist=function(){var t=r("#"+this.listId),e=document.createDocumentFragment();this.$fakeDatalist.empty(),t.find("option").each(function(){tempItem=r("<li />",{text:r(this).val()})[0],e.appendChild(tempItem)}),this.$fakeDatalist.append(e),this.$fakeDatalistItems=this.$fakeDatalist.find("li")},i.prototype._setEventListeners=function(){var t,e=this,n=r(this.element),i=0;n.on("focus",function(){e.$fakeDatalist.scrollTop(0),i=0}).on("blur",function(){setTimeout(function(){e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed),e.$fakeDatalistItems.removeClass("active")},500)}).on("keyup",function(i){t=n.position(),e.$fakeDatalist.show().css({top:t.top+r(this).outerHeight(),left:t.left,width:n.outerWidth()}),e.$fakeDatalistItems.hide(),e.$fakeDatalist.find('li:RD_contains("'+n.val()+'")').show()}),this.$fakeDatalist.on("mouseenter","li",function(){r(this).addClass("active").siblings().removeClass("active")}).on("mouseleave","li",function(){r(this).removeClass("active")}),r(window).resize(function(){t=n.position(),e.$fakeDatalist.css({top:t.top+r(this).outerHeight(),left:t.left,width:n.outerWidth()})}),n.on("keydown",function(t){var r=e.$fakeDatalist.find("li.active"),o=e.$fakeDatalist.outerHeight(),s=e.$fakeDatalistItems.outerHeight();if(38==t.keyCode&&r.length&&(prevAll=r.prevAll("li:visible"),prevAll.length>0&&(r.removeClass("active"),prevAll.eq(0).addClass("active")),prevAll.length&&prevAll.position().top<0&&i>0&&e.$fakeDatalist.scrollTop(i-=s)),40==t.keyCode)if(r.length){var a=r.nextAll("li:visible");a.length>0&&(r.removeClass("active"),a.eq(0).addClass("active")),a.length&&a.position().top+s>=o&&e.$fakeDatalist.stop().animate({scrollTop:i+=s},200)}else e.$fakeDatalistItems.removeClass("active"),e.$fakeDatalist.find("li:visible:first").addClass("active");13!=t.keyCode&&9!=t.keyCode||(r.length&&n.val(r.text()).trigger("input"),e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed),e.$fakeDatalistItems.removeClass("active")),13!=t.keyCode&&38!=t.keyCode&&40!=t.keyCode&&(e.$fakeDatalistItems.removeClass("active"),e.$fakeDatalist.find("li:visible:first").addClass("active"),e.$fakeDatalist.scrollTop(0),i=0)}),this.$fakeDatalist.on("click","li",function(){var t=r("li.active");t.length&&n.val(r(this).text()).trigger("input"),e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed),e.$fakeDatalistItems.removeClass("active")})},i.prototype.update=function(){this._updateFakeDatalist()},r.fn[o]=function(t,e){return t=t||{},this.each(function(){var n=r(this),s=n.data(o);s||"object"!=typeof t?s&&"string"==typeof t&&s[t](this):n.data(o,s=new i(this,t,e))})}},{jquery:72}],58:[function(t,e,n){"use strict";function i(t,e,n){this.namespace=u,o.call(this,t,e),n&&(n.stopPropagation(),n.preventDefault()),this.$picker=null,this.noneSelectedText=a("selectpicker.noneselected"),this.multiple="undefined"!=typeof r(t).attr("multiple")&&r(t).attr("multiple")!==!1,this._init()}var r=t("jquery"),o=t("../../js/Widget"),s=t("../../js/support"),a=t("enketo/translator").t,u="desktopSelectpicker";t("../../js/dropdown.jquery"),i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=this._getTemplate(),e=r(this.element);this.readonly=!!e.attr("readonly"),e.css("display","none"),t=this._createLi(t),this.$picker=t.insertAfter(e),this.$picker.find("> a").addClass(this.selectClass),this._clickListener(),this._focusListener()},i.prototype._getTemplate=function(){var t='<div class="btn-group bootstrap-select widget clearfix"><button type="button" class="btn btn-default dropdown-toggle clearfix" data-toggle="dropdown"><span class="selected">__SELECTED_OPTIONS</span><span class="caret"></span></button><ul class="dropdown-menu" role="menu">__ADD_LI</ul></div>';return t},i.prototype._createLi=function(t){var e,n,i=[],o="",s=this.multiple?'type="checkbox"':'type="radio" name="'+1e5*Math.random()+'"',a=this.readonly?' readonly="readonly"':"",u=this.readonly?' disabled="disabled"':"",c=this.readonly?' class="disabled"':"";if(r(this.element).find("option").each(function(){i.push({label:r(this).text(),selected:r(this).is(":selected"),value:r(this).attr("value")})}),i.length>0){t=t.replace("__SELECTED_OPTIONS",this._createSelectedStr());for(var l=0;l<i.length;l++)i[l].value&&(e=i[l].selected?' checked="checked"':"",n=i[l].selected?'class="active"':"",o+="<li "+c+n+'><a class="option-wrapper" tabindex="-1" href="#"><label><input class="ignore" '+s+e+a+u+' value="'+i[l].value+'" /><span class="option-label">'+i[l].label+"</span></label></a></li>")}return t=t.replace("__ADD_LI",o),r(t)},i.prototype._createSelectedStr=function(){var t=[],e=r(this.element);return e.find("option:selected").each(function(){r(this).attr("value").length>0&&t.push(r(this).text())}),0===t.length?this.noneSelectedText:1===t.length?t[0]:a("selectpicker.numberselected",{number:t.length})},i.prototype._clickListener=function(){var t=this;this.$picker.on("click","li:not(.disabled)",function(e){var n=r(this),i=n.find("input"),o=r(t.element),s=o.find('option[value="'+i.val()+'"]'),a=s.is(":selected");"input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),t.multiple?e.stopPropagation():(t.$picker.find("li").removeClass("active"),s.siblings("option").prop("selected",!1),t.$picker.find("input").prop("checked",!1)),a?(n.removeClass("active"),i.prop("checked",!1),s.prop("selected",!1)):(n.addClass("active"),i.prop("checked",!0),s.prop("selected",!0)),t.$picker.find(".selected").html(t._createSelectedStr()),o.trigger("change")}).on("keydown","li:not(.disabled)",function(t){if(/(13|32)/.test(t.keyCode.toString(10))){/(32)/.test(t.keyCode.toString(10))||t.preventDefault();var e=r(":focus");e.click(),e.focus(),t.preventDefault()}}).on("click","li.disabled",function(t){return t.stopPropagation(),!1})},i.prototype._focusListener=function(){var t=this;r(this.element).on("applyfocus",function(){t.$picker.find(".dropdown-toggle").focus()}),this.$picker.on("shown.bs.dropdown",function(){return r(t.element).trigger("fakefocus"),!0})},i.prototype.disable=function(){this.$picker.find("li").addClass("disabled")},i.prototype.enable=function(){this.readonly||this.$picker.find("li").removeClass("disabled")},i.prototype.update=function(){this.$picker.remove(),this._init()},r.fn[u]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(u);o||"object"!=typeof t||s.touch?o&&"string"==typeof t&&o[t](this):n.data(u,o=new i(this,t,e))})},e.exports={name:u,list:!0,selector:"select:not(#form-languages)"}},{"../../js/Widget":14,"../../js/dropdown.jquery":17,"../../js/support":33,"enketo/translator":20,jquery:72}],59:[function(t,e,n){"use strict";e.exports={name:"likertitem"}},{}],60:[function(t,e,n){"use strict";function i(t,e){this.namespace=a,o.call(this,t,e),this._init()}var r=t("jquery"),o=t("../../js/Widget"),s=t("../../js/support"),a="mobileSelectpicker";i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=this;r(this.element).on("change."+a,function(){return t._showSelectedValues(),!0}),this._showSelectedValues()},i.prototype._showSelectedValues=function(){var t,e=[],n='<span class="widget mobileselect"></span>',i=r(this.element),o=i.next(".widget").length>0?i.next(".widget"):r(n).insertAfter(i),s=r.isArray(i.val())?i.val():[i.val()];for(t=0;t<s.length;t++)e.push(r(this).find('option[value="'+s[t]+'"]').text());o.text(s.join(", "))},i.prototype.update=function(){this._showSelectedValues()},r.fn[a]=function(t,e){return t=t||{},this.each(function(){var n=r(this),o=n.data(a);!o&&"object"==typeof t&&s.touch&&n.data(a,new i(this,t,e)),o&&"string"==typeof t&&o[t](this)})},e.exports={name:a,selector:"select[multiple]"}},{"../../js/Widget":14,"../../js/support":33,jquery:72}],61:[function(t,e,n){"use strict";e.exports={name:"tablewidget"}},{}],62:[function(t,e,n){"use strict";function i(t,e){this.namespace=s,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("jquery"),s="textareaWidget";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){this._setDelegatedHandlers()},i.prototype._setDelegatedHandlers=function(){var t=o(this.element),e=t[0].querySelector("textarea"),n=e?e.clientHeight:20;t.on("input","textarea",function(){this.scrollHeight>this.clientHeight&&this.scrollHeight>n&&(this.style["min-height"]=this.scrollHeight+"px")})},o.fn[s]=function(t,e){var n=o(this),r=n.data(s);return t=t||{},r||"object"!=typeof t?r&&"string"==typeof t&&r[t](this):n.data(s,new i(n[0],t,e)),this},e.exports={name:s,selector:"form"}},{"../../js/Widget":14,jquery:72}],63:[function(t,e,n){"use strict";function i(t,e){this.namespace=a,r.call(this,t,e),this._init()}var r=t("../../js/Widget"),o=t("../../js/support"),s=t("jquery");t("./timepicker"),t("../../js/dropdown.jquery");var a="timepickerExtended";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._init=function(){var t=s(this.element),e=s(this.element).val(),n=s('<div class="widget timepicker"><input class="ignore timepicker-default" type="text" value="'+e+'" placeholder="hh:mm" /><button class="btn-icon-only btn-reset" type="button"><i class="icon icon-refresh"> </i></button></div>'),i=n.find(".btn-reset"),r=n.find("input");t.hide().after(n),r.timepicker({defaultTime:e.length>0&&e,showMeridian:!1}).val(e).closest(".widget").find("input").addClass("ignore"),r.on("change",function(){return t.val(this.value).trigger("change"),!1}),i.on("click",function(){var e=t.val()?"change":"";(e||r.val())&&r.val("").trigger(e)}),r.on("focus",function(){t.trigger("fakefocus")}),s(this.element).on("applyfocus",function(){r.focus()})},s.fn[a]=function(t,e){return t=t||{},this.each(function(){var n=s(this),r=n.data(a);r||"object"!=typeof t||o.touch&&o.inputTypes.time?r&&"string"==typeof t&&r[t](this):n.data(a,new i(this,t,e))})},e.exports={name:a,selector:'input[type="time"]:not([readonly])'}},{"../../js/Widget":14,"../../js/dropdown.jquery":17,"../../js/support":33,"./timepicker":64,jquery:72}],64:[function(t,e,n){!function(t,e,n){"use strict";var i=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.orientation=n.orientation,this.secondStep=n.secondStep,this.snapToStep=n.snapToStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this.icons=n.icons,this.maxHours=n.maxHours,this.explicitMode=n.explicitMode,this.handleDocumentClick=function(t){var e=t.data.scope;e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()},this._init()};i.prototype={constructor:i,_init:function(){var e=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("timepicker")?(this.$element.parent(".input-group.timepicker").find(".input-group-addon").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.template!==!1?this.$widget=t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(""===this.hour&&(this.hour=this.getCurrentHour(),this.incrementHour()),this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(t){var e;""===this.minute&&(this.minute=this.getCurrentMinute(),this.incrementMinute()),e=t?this.minute-t:this.minute-this.minuteStep,e<0?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;t<0?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.which){case 9:if(t.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}t.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,n,i,r,o;switch(this.showInputs?(e='<input type="text" class="timepicker-hour" maxlength="2"/>',n='<input type="text" class="timepicker-minute" maxlength="2"/>',i='<input type="text" class="timepicker-second" maxlength="2"/>',r='<input type="text" class="timepicker-meridian" maxlength="2"/>'):(e='<span class="timepicker-hour"></span>',n='<span class="timepicker-minute"></span>',i='<span class="timepicker-second"></span>',r='<span class="timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"dropdown":t='<div class="timepicker-widget dropdown-menu">'+o+"</div>"}return t},getTime:function(){return""===this.hour?"":(1===this.hour.toString().length?"0"+this.hour:this.hour)+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.$widget.removeClass("open"),t(n).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},getCurrentHour:function(){var t=(new Date).getHours();return this.showMeridian?t%12:t},getCurrentMinute:function(){return(new Date).getMinutes()},incrementHour:function(){if(""===this.hour&&(this.hour=this.getCurrentHour(),this.decrementHour()),this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;""===this.minute&&(this.minute=this.getCurrentMinute(),this.decrementMinute()),e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=null;switch("mousewheel"===e.type?i=e.originalEvent.wheelDelta*-1:"DOMMouseScroll"===e.type&&(i=40*e.originalEvent.detail),i&&(e.preventDefault(),t(this).scrollTop(i+t(this).scrollTop())),this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(t,e){return t%e===0?t:Math.round(t%e/e)?(t+(e-t%e))%60:t-t%e},place:function(){if(!this.isInline){var n=this.$widget.outerWidth(),i=this.$widget.outerHeight(),r=10,o=t(e).width(),s=t(e).height(),a=t(e).scrollTop(),u=parseInt(this.$element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"),10)+10,c=this.component?this.component.parent().offset():this.$element.offset(),l=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),f=c.left,d=c.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(f-=n-h)):(this.$widget.addClass("timepicker-orient-left"),c.left<0?f-=c.left-r:c.left+n>o&&(f=o-n-r));var p,m,v=this.orientation.y;"auto"===v&&(p=-a+c.top-i,m=a+s-(c.top+l+i),v=Math.max(p,m)===m?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+v),"top"===v?d+=l:d-=i+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:d,left:f,zIndex:u})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),o="AM";0!==r&&(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep,60===r&&(i+=1,r=0)),0!==i&&(i=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep,60===i&&(n+=1,i=0)),this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),o="PM"):o="AM"),this.hour=n,this.minute=i,this.second=r,this.meridian=o,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(!t)return void this.clear();var n,i,r,o,s,a;if("object"==typeof t&&t.getMonth)r=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),this.showMeridian&&(a="AM",r>12&&(a="PM",r%=12),12===r&&(a="PM"));else{if(n=(/a/i.test(t)?1:0)+(/p/i.test(t)?2:0),n>2)return void this.clear();if(i=t.replace(/[^0-9:]/g,"").split(":"),r=i[0]?i[0].toString():i.toString(),this.explicitMode&&r.length>2&&r.length%2!==0)return void this.clear();o=i[1]?i[1].toString():"",s=i[2]?i[2].toString():"",r.length>4&&(s=r.slice(-2),r=r.slice(0,-2)),r.length>2&&(o=r.slice(-2),r=r.slice(0,-2)),o.length>2&&(s=o.slice(-2),o=o.slice(0,-2)),r=parseInt(r,10),o=parseInt(o,10),s=parseInt(s,10),isNaN(r)&&(r=0),isNaN(o)&&(o=0),isNaN(s)&&(s=0),s>59&&(s=59),o>59&&(o=59),r>=this.maxHours&&(r=this.maxHours-1),this.showMeridian?(r>12&&(n=2,r-=12),n||(n=1),0===r&&(r=12),a=1===n?"AM":"PM"):r<12&&2===n?r+=12:r>=this.maxHours?r=this.maxHours-1:(r<0||12===r&&1===n)&&(r=0)}this.hour=r,this.snapToStep?(this.minute=this.changeToNearestStep(o,this.minuteStep),this.second=this.changeToNearestStep(s,this.secondStep)):(this.minute=o,this.second=s),this.meridian=a,this.update(e)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.setTime(this.$element.val()),this.updateWidget(),this.$widget.appendTo(this.appendWidgetTo),t(n).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&this.defaultTime&&this.setDefaultTime(this.defaultTime),this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,n=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.timepicker-hour").val(t),this.$widget.find("input.timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.timepicker-meridian").val(this.meridian)):(this.$widget.find("span.timepicker-hour").text(t),this.$widget.find("span.timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=this.$widget.find("input.timepicker-hour").val()+":"+this.$widget.find("input.timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target),i=n.closest("a").data("action");i&&this[i](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var n=t(e.target),i=n.attr("class").replace("timepicker-","");switch(e.which){case 9:if(e.shiftKey){if("hour"===i)return this.hideWidget()}else if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.which||77===t.which||80===t.which||46===t.which||8===t.which||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),o=r.data("timepicker"),s="object"==typeof e&&e;o||r.data("timepicker",o=new i(this,t.extend({},t.fn.timepicker.defaults,s,t(this).data()))),"string"==typeof e&&o[e].apply(o,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},t.fn.timepicker.Constructor=i,t(n).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(e){var n=t(this);n.data("timepicker")||(e.preventDefault(),n.timepicker())})}(t("jquery"),window,document)},{jquery:72}],65:[function(t,e,n){Date.prototype.toISOLocalString=function(){return"Invalid Date"===this.toString()?this.toString():new Date(this.getTime()-60*this.getTimezoneOffset()*1e3).toISOString().replace("Z",this.getTimezoneOffsetAsTime())},Date.prototype.getTimezoneOffsetAsTime=function(){var t,e,n,i,r=function(t){return t<10?"0"+t:t};return"Invalid Date"===this.toString()?this.toString():(t=this.getTimezoneOffset(),i=t<0?"+":"-",e=r(Math.abs(Math.floor(t/60))),n=r(Math.abs(Math.floor(t%60))),i+e+":"+n)};var i=function(){var t,e,n,r,o,s,a,u,c,l,h,f,d,p,m,g,y,_=[],b="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",k="http://www.w3.org/1999/xhtml",E=function(t){return t.ownerDocument},C=function(t){var e=[],n=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)n=t.item(i),!1!==H(n.nodeType,e)&&r.push(n);return r};switch(t.nodeType){case 1:e=n(t.childNodes,supportedChildNodeTypes=[1,3,4,7,8]);break;case 9:e=n(t.childNodes,supportedChildNodeTypes=[1,7,8]);break;case 2:case 3:case 4:case 7:case 8:case 13:break;default:throw new Error("Internal Error: nodeChildren - unsupported node type: "+t.nodeType)}return e},$=function(t){var e,n,i=[];for(e=C(t),n=0;n<e.length;n++)i.push(e[n]),i.push.apply(i,$(e[n]));return i},S=function(t){var e;switch(t.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:return t.parentNode;case 2:return t.ownerElement?t.ownerElement:e=U(t.ownerDocument,!0,function(e,n){if(n===t)return!0});case 13:return t.ownerElement;default:throw new Error("Internal Error: nodeParent - node type not supported: "+t.type)}},T=function(t){for(var e,n=[];e=S(t);)n.push(e),t=e;return n},D=function(t){return j(t,"nextSibling")},A=function(t){return j(t,"previousSibling")},j=function(t,e){for(var n,i=[];n=t[e];){switch(n.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:i.push(n)}t=n}return i},P=function(t){var e,n,i,r,o=[];for(e=T(t),e.unshift(t),n=0;n<e.length;n++)for(i=D(e[n]),r=0;r<i.length;r++)o.push(i[r]),o.push.apply(o,$(i[r]));return o},O=function(t){var e,n,i,r,o=[];for(e=T(t),e.unshift(t),n=0;n<e.length;n++)for(i=A(e[n]),r=0;r<i.length;r++)o.push.apply(o,$(i[r]).reverse()),o.push(i[r]);return o},E=function(t){switch(t.nodeType){case 9:return t;default:return t.ownerDocument}},N=function(t){var e,n=[];if(1===t.nodeType)for(e=0;e<t.attributes.length;e++)t.attributes[e].specified&&n.push(t.attributes[e]);return n.length>1&&n[0].compareDocumentPosition&&n.sort(function(t,e){var n=t.compareDocumentPosition(e);return 2==(2&n)?1:4==(4&n)?-1:0}),n},M=function(t){var e,n=N(t),i=[];for(e=0;e<n.length;e++)!1===R(n[e])&&i.push(n[e]);return i},L=function(t,e){var n,i,r,o,s=e||[];if(1===t.nodeType){if(t.ownerDocument.documentElement===t&&"object"==typeof t.ownerDocument.namespaces)for(i=t.ownerDocument.namespaces.length-1;i>=0;i--)o=t.ownerDocument.namespaces.item(i),I.call(this,s,o.name,o.urn,t);for(n=N(t),i=n.length-1;i>=0;i--)!1!==(r=R(n[i]))&&(1!==r.length?I.call(this,s,r[1],n[i].nodeValue,t):I.call(this,s,"",n[i].nodeValue,t));if(L.call(this,t.parentNode,s),void 0===e&&(I.call(this,s,"xml",b,t),s[0]&&""===s[0].prefix&&""===s[0].namespaceURI&&s.shift()),
void 0===e)for(i=0;i<s.length;i++)s[i].ownerElement!==t&&(s[i]=X(s[i].prefix,s[i].nodeValue,t))}return s},I=function(t,e,n,i){var r,o;for(this.opts["case-sensitive"]||(e=e.toLowerCase()),r=0;r<t.length;r++)if(t[r].prefix===e)return!1;return o=X(e,n,i),""===e&&null!==n?t.unshift(o):t.push(o),!0},R=function(t){var e=t.nodeName.split(":");return"xmlns"===e[0]&&e},F=function(t,e){var n,i,r,o,s,a;if(1===t.nodeType)for(r=e?[e]:M(t),o=L.call(this,t),n=0;n<r.length;n++){for(a=r[n].nodeName.split(":"),1===a.length&&(a[1]=a[0],a[0]=""),s=null,i=0;i<o.length;i++)if(o[i].prefix===a[0]){s=o[i].namespaceURI;break}if(null===s&&(s=""),this.opts["unique-ids"][s]===a[1])return r[n]}return null},U=function(t,e,n){var i,r,o,s,a=[];for(o=t.getElementsByTagName("*"),i=0;i<o.length;i++)if(s=o.item(i),1==s.nodeType)for(r=0;r<s.attributes.length;r++)if(s.attributes[r].specified&&n(s,s.attributes[r])===!0){if(e)return s;a.push(s);break}return e?null:a},q=function(t){var e,n,i,r;switch(t.nodeType){case 1:for("undefined"==typeof t.scopeName||document.addEventListener?(e=t.nodeName.split(":"),r=1==e.length?{prefix:"",name:e[0]}:{prefix:e[0],name:e[1]}):r={prefix:"HTML"==t.scopeName?"":t.scopeName,name:t.nodeName},this.opts["case-sensitive"]||(r.prefix=r.prefix.toLowerCase(),r.name=r.name.toLowerCase()),n=L.call(this,t),i=0;i<n.length;i++)if(n[i].prefix===r.prefix)return r.ns=n[i].namespaceURI,r;if(""===r.prefix)return r.ns=null,r;throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+r.prefix+'" on element: '+t.nodeName);case 2:if(e=t.nodeName.split(":"),1==e.length)return{prefix:"",ns:null,name:e[0]};for(r={prefix:e[0],name:e[1]},this.opts["case-sensitive"]||(r.prefix=r.prefix.toLowerCase(),r.name=r.name.toLowerCase()),n=L.call(this,S(t)),i=0;i<n.length;i++)if(n[i].prefix===r.prefix)return r.ns=n[i].namespaceURI,r;throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+r.prefix+'" on attribute: '+t.nodeName);case 13:return{prefix:null,ns:null,name:this.opts["case-sensitive"]?t.prefix.toLowerCase():t.prefix};case 7:return{prefix:null,ns:null,name:this.opts["case-sensitive"]?t.target.toLowerCase():t.target};default:return!1}},V=function(t){var e,n,i="";switch(t.nodeType){case 9:case 1:for(n=u(new h(t,1,1,{},{},{}),{type:"step",args:["descendant",{type:"nodeType",args:["text",[]]}]}),n.sortDocumentOrder(),e=0;e<n.value.length;e++)i+=n.value[e].data;return i;case 2:return t.nodeValue;case 13:return t.namespaceURI;case 7:case 8:case 3:case 4:return t.data;default:throw new Error("Internal Error: nodeStringValue does not support node type: "+t.nodeType)}},B=function(t,e,n){var i=new Error(n);return i.name=e,i.code=t,i},H=function(t,e){for(var n=e.length;n--;)if(e[n]===t)return n;return!1},z=function(t,e,n,i){var r,o,s,a,u;if(t instanceof g)if(e instanceof g){for(a=e.stringValues(),s=t.stringValues(),r=0;r<s.length;r++)for(o=0;o<a.length;o++)if(u=z(s[r],a[o],n,i),u.toBoolean())return u}else if(e instanceof m){for(s=t.stringValues(),r=0;r<s.length;r++)if(u=z(new m(s[r].toNumber()),e,n,i),u.toBoolean())return u}else if(e instanceof DateType||e instanceof p&&e.isDateString()){for(e instanceof p&&(e=new DateType(e)),s=t.stringValues(),r=0;r<s.length;r++)if(u=z(new DateType(s[r].toDate()),e,n,i),u.toBoolean())return u}else{if(!(e instanceof p))return z(new d(t.toBoolean()),e,n,i);for(s=t.stringValues(),r=0;r<s.length;r++)if(u=z(s[r],e,n,i),u.toBoolean())return u}else if(e instanceof g)if(t instanceof m){for(a=e.stringValues(),r=0;r<a.length;r++)if(u=z(t,new m(a[r].toNumber()),n,i),u.toBoolean())return u}else if(t instanceof DateType||t instanceof p&&t.isDateString()){for(t instanceof p&&(t=new DateType(t)),a=e.stringValues(),r=0;r<a.length;r++)if(u=z(t,new DateType(a[r].toDate()),n,i),u.toBoolean())return u}else{if(!(t instanceof p))return z(t,new d(e.toBoolean()),n,i);for(a=e.stringValues(),r=0;r<a.length;r++)if(u=z(t,a[r],n,i),u.toBoolean())return u}else switch(n){case"=":case"!=":return new d(t instanceof d||e instanceof d?i(t.toBoolean(),e.toBoolean()):t instanceof m||e instanceof m?i(t.toNumber(),e.toNumber()):i(t.toString(),e.toString()));default:return new d(i(t.toNumber(),e.toNumber()))}return new d((!1))},W=function(t){switch(t.nodeType){case 2:case 3:case 4:case 7:case 8:return S(t);case 1:case 9:return t;case 13:default:throw new Error("Internal Error: getComparableNode - Node type not supported: "+t.nodeType)}},Y=function(t,e){var n,i,r;if(13==t.nodeType&&13==e.nodeType&&t.ownerElement==e.ownerElement){if(t===e)return 0;for(i=L.call(y,t.ownerElement),r=0;r<i.length;r++){if(i[r]===t){n=4;break}if(i[r]===e){n=2;break}}}else 13==t.nodeType&&(t=t.ownerElement),13==e.nodeType&&(e=e.ownerElement),n=G(t,e);return n},G=function(t,e){var n,i,r,o,s,a=function(t,e,n,i,r,o,s,a,u){return 0===r||(r&o)===o?a+o:(r&s)===s?u:r};if(t.compareDocumentPosition)return t.compareDocumentPosition(e);if(t===e)return 0;if(n=W(t),i=W(e),9===n.nodeType)if(9===i.nodeType){if(n!==i)return 1;r=0}else{if(n!==i.ownerDocument)return 1;r=20}else if(9===i.nodeType){if(i!==n.ownerDocument)return 1;r=10}else{if(n.ownerDocument!==i.ownerDocument)return 1;if(!n.contains||"undefined"==typeof n.sourceIndex||!i.contains||"undefined"==typeof i.sourceIndex)throw new Error('Cannot compare elements. Neither "compareDocumentPosition" nor "contains" available.');r=(n!=i&&n.contains(i)&&16)+(n!=i&&i.contains(n)&&8)+(n.sourceIndex>=0&&i.sourceIndex>=0?(n.sourceIndex<i.sourceIndex&&4)+(n.sourceIndex>i.sourceIndex&&2):1)+0}if(t===n&&e===i)return r;if(t===n)return a(t,n,e,i,r,16,8,4,2);if(e===i)return a(e,i,t,n,r,8,16,2,4);if(16===(16&r))return 4;if(8===(8&r))return 2;if(0===r){for(o=0;o<n.attributes.length;o++)if(s=n.attributes[o],s.specified){if(s===e)return 2;if(s===t)return 4}throw new Error("Internal Error: compareDocumentPosition failed to sort attributes.")}return r},Z=function(t){if(!t)throw B(9,"NOT_SUPPORTED_ERR","Context node was not supplied.");if(9!=t.nodeType&&1!=t.nodeType&&2!=t.nodeType&&3!=t.nodeType&&4!=t.nodeType&&8!=t.nodeType&&7!=t.nodeType&&13!=t.nodeType)throw B(9,"NOT_SUPPORTED_ERR","The supplied node type is not supported. (nodeType: "+t.nodeType+")");if(2==t.nodeType&&!t.specified)throw B(9,"NOT_SUPPORTED_ERR","The supplied node is a non-specified attribute node. Only specified attribute nodes are supported.")},X=function(t,e,n){var i,r;for(i=0;i<_.length;i++)if(r=_[i],r.prefix===t&&r.nodeValue===e&&r.ownerElement===n)return r;return r=new s(t,e,n),_.push(r),r};return f=function(t,e,n){this.value=t,this.type=e,this.supports=n},f.prototype={value:null,type:null,supports:[],toBoolean:function(){throw new Error('Unable to convert "'+this.type+'" to "boolean".')},toString:function(){throw new Error('Unable to convert "'+this.type+'" to "string".')},toNumber:function(){throw new Error('Unable to convert "'+this.type+'" to "number".')},toNodeSet:function(){throw new Error('Unable to convert "'+this.type+'" to "node-set".')},toDate:function(){throw new Error('Unable to convert "'+this.type+'" to "date".')},canConvertTo:function(t){return!1!==H(t,this.supports)}},d=function(t){f.call(this,t,"boolean",["boolean","string","number","date"])},d.prototype=new f,d.constructor=d,d.prototype.toBoolean=function(){return this.value},d.prototype.toString=function(){return this.value===!0?"true":"false"},d.prototype.toNumber=function(){return this.value?1:0},d.prototype.toDate=function(){return null},g=function(t,e){f.call(this,t,"node-set",["boolean","string","number","node-set","date"]),this.docOrder=e||"unsorted"},g.prototype=new f,g.constructor=g,g.prototype.toBoolean=function(){return this.value.length>0},g.prototype.toString=function(){return this.value.length<1?"":(this.sortDocumentOrder(),V(this.value[0]))},g.prototype.toNumber=function(){return new p(this.toString()).toNumber()},g.prototype.toNodeSet=function(){return this.value},g.prototype.toDate=function(){return new p(this.toString()).toDate()},g.prototype.sortDocumentOrder=function(){switch(this.docOrder){case"document-order":break;case"reverse-document-order":this.value.reverse();break;default:this.value.sort(function(t,e){var n=Y(t,e);if(4==(4&n))return-1;if(2==(2&n))return 1;throw new Error("NodeSetType.sortDocumentOrder - unexpected compare result: "+n)})}this.docOrder="document-order"},g.prototype.sortReverseDocumentOrder=function(){switch(this.docOrder){case"document-order":this.value.reverse();break;case"reverse-document-order":break;default:this.sortDocumentOrder(),this.value.reverse()}this.docOrder="reverse-document-order"},g.prototype.append=function(t){var e,n=0,i=0;if(!t instanceof g)throw new Error("NodeSetType can be passed into NodeSetType.append method");for(this.sortDocumentOrder(),t.sortDocumentOrder();n<this.value.length&&i<t.value.length;)if(e=Y(this.value[n],t.value[i]),0==e)i++;else if(4==(4&e))n++;else{if(2!=(2&e))throw new Error("Internal Error: NodeSetType.append - unable to sort nodes. (result: "+e+")");this.value.splice(n,0,t.value[i]),n++,i++}for(;i<t.value.length;i++)this.value.push(t.value[i]);this.docOrder="document-order"},g.prototype.stringValues=function(){var t,e,n=[];for(t=0;t<this.value.length;t++)e=new p(V(this.value[t])),e.isDateString()&&(e=new DateType(e.value)),n.push(e);return n},p=function(t){f.call(this,t,"string",["boolean","string","number","date"])},p.prototype=new f,p.constructor=p,p.prototype.toBoolean=function(){return this.value.length>0},p.prototype.toString=function(){return this.value},p.prototype.toNumber=function(){var t;return this.isDateString(this.value)?new DateType(this.value).toNumber():(t=this.value.match(/^[ \t\r\n]*(-?[0-9]+(?:[.][0-9]*)?)[ \t\r\n]*$/),null!==t?parseFloat(t[1]):(t=this.value.match(/^[ \t\r\n]*(-?[.][0-9]+)[ \t\r\n]*$/),null!==t?parseFloat(t[1]):Number.NaN))},p.prototype.toDate=function(){return new Date(this.value)},p.prototype.isDateString=function(){return!!isNaN(this.value)&&(!isNaN(Date.parse(this.value))&&!!/('|")?[0-9]{4}(-|\/)[0-9]{2}(-|\/)[0-9]{2}('|")?/.test(this.value))},m=function(t){f.call(this,t,"number",["boolean","string","number","date"])},m.prototype=new f,m.constructor=m,m.prototype.toBoolean=function(){return 0!==this.value&&!isNaN(this.value)},m.prototype.toString=function(){return this.value.toString()},m.prototype.toNumber=function(){return this.value},m.prototype.toDate=function(){return new Date(864e5*this.value)},DateType=function(t){f.call(this,t,"date",["date","string","number","boolean"])},DateType.prototype=new f,DateType.constructor=DateType,DateType.prototype.toDate=function(){return new Date(this.value)},DateType.prototype.toString=function(){return new Date(this.value).toISOLocalString()},DateType.prototype.toNumber=function(){return new Date(this.value).getTime()/864e5},DateType.prototype.toBoolean=function(){return!isNaN(new Date(this.value).getTime())},t=function(e,n){var i;switch(this.code=e,this.code){case t.INVALID_EXPRESSION_ERR:this.name="INVALID_EXPRESSION_ERR";break;case t.TYPE_ERR:this.name="TYPE_ERR";break;default:throw i=new Error("Unsupported XPathException code: "+this.code),i.name="XPathExceptionInternalError",i}this.message=n||""},t.prototype.toString=function(){return'XPathException: "'+this.message+'", code: "'+this.code+'", name: "'+this.name+'"'},t.INVALID_EXPRESSION_ERR=51,t.TYPE_ERR=52,e=function(t){var e,n,i;for(e in t){i=!1;for(n in this.opts)if(e===n){this.opts[e]=t[e],i=!0;break}if(!i)throw new Error("Unsupported option: "+e)}this.opts["unique-ids"][b]="id",this.opts["unique-ids"][k]="id"},e.prototype={opts:{"unique-ids":{},"case-sensitive":!1},createExpression:function(e,r){var o,s,a,u,c={};try{o=i._parser.parse(e)}catch(l){throw s="The expression is not a legal expression.",s+=l instanceof i._parser.SyntaxError?" (line: "+l.line+", character: "+l.column+")":" ("+l.message+")",new t(t.INVALID_EXPRESSION_ERR,s)}if(o.nsPrefixes.length>0){if("object"!=typeof r||"undefined"==typeof r.lookupNamespaceURI)throw new t(t.INVALID_EXPRESSION_ERR,"No namespace resolver provided or lookupNamespaceURI function not supported.");for(a=0;a<o.nsPrefixes.length;a++)if(u=o.nsPrefixes[a],c[u]=r.lookupNamespaceURI(u),null===c[u])throw B(14,"NAMESPACE_ERR",'Undefined namespace prefix "'+u+'" in the context of the given resolver.')}return new n(o,c,this.opts)},createNSResolver:function(t){return new r(t)},evaluate:function(t,e,n,i,r){var t=this.createExpression(t,n);return t.evaluate(e,i,r)}},n=function(t,e,n){this.parsedExpression=t,this.namespaceMapping=e,this.opts=n||{}},n.prototype={parsedExpression:null,namespaceMapping:null,opts:{},evaluate:function(t,e,n){var i;return y=this,Z(t),i=new h(t,1,1,{},l,this.namespaceMapping,this.opts),o.factory(i,e,u(i,this.parsedExpression.tree))}},h=function(t,e,n,i,r,o,s){this.node=t,this.pos=e,this.size=n,this.vars=i,this.fns=r,this.nsMap=o,this.opts=s||{}},h.prototype={node:null,pos:null,size:null,vars:null,fns:null,nsMap:null,opts:null,clone:function(t,e,n){return new h(t||this.node,"undefined"!=typeof e?e:this.pos,"undefined"!=typeof n?n:this.size,this.vars,this.fns,this.nsMap,this.opts)}},r=function(t){Z(t),this.node=t},r.prototype={node:null,lookupNamespaceURI:function(t){var e,n,i,r=this.node;switch(t){case"xml":return b;case"xmlns":return x;default:switch(this.node.nodeType){case 9:r=r.documentElement;break;case 1:break;default:r=S(r)}if(null!=r&&1==r.nodeType){if(""==t){if(n=r.getAttribute("xmlns"),null!==n)return n}else{if(r.ownerDocument.documentElement===r&&"object"==typeof r.ownerDocument.namespaces)for(e=0;e<r.ownerDocument.namespaces.length;e++)if(n=r.ownerDocument.namespaces.item(e),n.name==t)return n.urn;for(e=0;e<r.attributes.length;e++)if(r.attributes[e].specified&&"xmlns:"+t==r.attributes[e].nodeName)return r.attributes[e].nodeValue}if(r.ownerDocument.documentElement!==r&&r.parentNode)return i=this.node,this.node=r.parentNode,n=this.lookupNamespaceURI(t),this.node=i,n}return null}}},c={"/":function(t,e){var n,i,r,o,s;if(null===t)i=new g([E(this.node)],"document-order");else if(i=u(this,t),!i instanceof g)throw new Error("Left side of path separator (/) must be of node-set type. (type: "+i.type+")");if(null===e)o=i;else for(o=new g([],"document-order"),n=0;n<i.value.length;n++){if(s=this.clone(i.value[n]),r=u(s,e),!r instanceof g)throw new Error("Right side of path separator (/) must be of node-set type. (type: "+r.type+")");o.append(r)}return o},step:function(t,e){var n,i,r,o,s,a,c;switch(t){case"child":n=new g(C(this.node),"document-order");break;case"descendant":n=new g($(this.node),"document-order");break;case"parent":r=S(this.node),n=new g(r?[r]:[],"document-order");break;case"ancestor":n=new g(T(this.node),"reverse-document-order");break;case"following-sibling":n=new g(D(this.node),"document-order");break;case"preceding-sibling":n=new g(A(this.node),"reverse-document-order");break;case"following":n=new g(P(this.node),"document-order");break;case"preceding":n=new g(O(this.node),"reverse-document-order");break;case"attribute":n=new g(M(this.node),"document-order");break;case"namespace":n=new g(L.call(this,this.node),"document-order");break;case"self":n=new g([this.node],"document-order");break;case"descendant-or-self":o=$(this.node),o.unshift(this.node),n=new g(o,"document-order");break;case"ancestor-or-self":o=T(this.node),o.unshift(this.node),n=new g(o,"reverse-document-order");break;default:throw new Error("Axis type not supported: "+t)}switch(e.type){case"nodeType":if("node"==e.args[0])break;for(i=n.value.length-1;i>=0;i--)switch(e.args[0]){case"text":3!=n.value[i].nodeType&&4!=n.value[i].nodeType&&n.value.splice(i,1);break;case"comment":8!=n.value[i].nodeType&&n.value.splice(i,1);break;case"processing-instruction":(7!=n.value[i].nodeType||e.args[1].length>0&&u(this,e.args[1][0])!=n.value[i].nodeName)&&n.value.splice(i,1)}break;case"name":switch(s=u(this,e),t){case"attribute":a=2;break;case"namespace":a=13;break;default:a=1}for(i=n.value.length-1;i>=0;i--)n.value[i].nodeType==a?null===s.ns&&null===s.name||(c=q.call(this,n.value[i]),c!==!1&&c.ns===s.ns?null!==s.name&&c.name.toLowerCase()!=s.name.toLowerCase()&&n.value.splice(i,1):n.value.splice(i,1)):n.value.splice(i,1);break;default:throw new Error("NodeTest type not supported in step: "+e.type)}return n},predicate:function(t,e,n){var i,r,o,s,a,c;if(i=u(this,e),!i instanceof g)throw new Error('Expected "node-set", got: '+i.type);switch(t){case"ancestor":case"ancestor-or-self":case"preceding":case"preceding-sibling":i.sortReverseDocumentOrder();break;default:i.sortDocumentOrder()}for(s=0;s<n.length;s++)for(r=0,a=1,c=i.value.length;r<i.value.length;a++){if(o=u(this.clone(i.value[r],a,c),n[s]),o instanceof m){if(o.value!=a){i.value.splice(r,1);continue}}else if(!o.toBoolean()){i.value.splice(r,1);continue}r++}return i},"function":function(t,e){var n,i,r,o,s=[],a=function(t){return(null!==t.ns?"{"+t.ns+"}":"{}")+t.name},c=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=void 0===t[e].t?"object":t[e].t,t[e].r!==!1?t[e].rep===!0&&(n+="+"):n+=t[e].rep===!0?"*":"?",i.push(n);return"("+i.join(", ")+")"},l=0,h=[];if(n=u(this,t),null===n.ns&&(n.ns=""),!this.fns[n.ns]||!this.fns[n.ns][n.name])throw new Error('Function "'+a(n)+'" does not exist.');for(i=this.fns[n.ns][n.name],i.args||(i.args=[]),r=0,l=0;r<i.args.length;l++,r++){if(void 0===e[l]){if(i.args[r].r!==!1)throw new Error('Function "'+a(n)+'" expects '+c(i.args)+".")}else h.push(void 0===i.args[r].t?"object":i.args[r].t);if(i.args[r].rep===!0){for(;l<e.length;l++)h.push(void 0===i.args[r].t?"object":i.args[r].t);break}}if(h.length<e.length)throw new Error('Function "'+a(n)+'" expects '+c(i.args)+".");for(r=0;r<e.length;r++){if(o=u(this,e[r]),"object"!==h[r]&&!o.canConvertTo(h[r]))throw new Error('Function "'+a(n)+'" expects '+c(i.args)+'.Cannot convert "'+o.type+'" to "'+h[r]+'".');s.push(o)}if(result=i.fn.apply(this,s),!result instanceof f)throw new Error('Function "'+a(n)+'" did not return a value that inherits from BaseType.');if("object"!==i.ret&&!result.canConvertTo(i.ret))throw new Error('Function "'+a(n)+'" return "'+result.type+'" type that cannot be converted to "'+i.ret+'".');return result},"|":function(t,e){if(t=u(this,t),e=u(this,e),"undefined"==typeof t||"undefined"==typeof e||!t instanceof g||!e instanceof g)throw new Error('Unable to perform union on non-"node-set" types.');return t.append(e),t},or:function(t,e){return new d(u(this,t).toBoolean()?!0:u(this,e).toBoolean())},and:function(t,e){return new d(u(this,t).toBoolean()?u(this,e).toBoolean():!1)},"=":function(t,e){return z.call(this,u(this,t),u(this,e),"=",function(t,e){return t==e})},"!=":function(t,e){return z.call(this,u(this,t),u(this,e),"!=",function(t,e){return t!=e})},"<=":function(t,e){return z.call(this,u(this,t),u(this,e),"<=",function(t,e){return t<=e})},"<":function(t,e){return z.call(this,u(this,t),u(this,e),"<",function(t,e){return t<e})},">=":function(t,e){return z.call(this,u(this,t),u(this,e),">=",function(t,e){return t>=e})},">":function(t,e){return z.call(this,u(this,t),u(this,e),">",function(t,e){return t>e})},"+":function(t,e){return new m(u(this,t).toNumber()+u(this,e).toNumber())},"-":function(t,e){return new m(u(this,t).toNumber()-u(this,e).toNumber())},div:function(t,e){return new m(u(this,t).toNumber()/u(this,e).toNumber())},mod:function(t,e){return new m(u(this,t).toNumber()%u(this,e).toNumber())},"*":function(t,e){return new m(u(this,t).toNumber()*u(this,e).toNumber())},string:function(t){return new p(t)},number:function(t){return new m(t)},$:function(t){throw new Error("TODO: Not implemented.16")},name:function(t,e){var n=null;if(null!==t&&(n=this.nsMap[t],!n))throw new Error('Namespace prefix "'+t+'" is not mapped to a namespace.');return{ns:n,name:e}}},l={"":{last:{fn:function(){return new m(this.size)},ret:"number"},count:{fn:function(t){return new m(t.toNodeSet().length)},args:[{t:"node-set"}],ret:"number"},id:{fn:function(t){var e,n,i,r=this,o=[],s=[],a=function(t){var e,n=t.split(/[\u0020\u0009\u000D\u000A]+/);for(e=n.length-1;e>=0;e--)0==n[e].length&&n.splice(e,1);return n};if(t instanceof g)for(e=0;e<t.value.length;e++)o.push.apply(o,a(V(t.value[e])));else t=t.toString(),o=a(t);for(e=o.length-1;e>=0;e--)for(n=e-1;n>=0;n--)if(o[e]==o[n]&&e!=n){o.splice(e,1);break}for(e=0;e<o.length;e++)i=E(this.node).getElementById(o[e]),i&&F.call(this,i)?s.push(i):U(E(this.node),!0,function(t,n){var i=F.call(r,t,n);if(i&&i.nodeValue==o[e])return s.push(t),!0});return new g(s)},args:[{}],ret:"node-set"},"local-name":{fn:function(t){var e,n="";return 0==arguments.length&&(t=new g([this.node])),t.toNodeSet().length>0&&(t.sortDocumentOrder(),e=q.call(this,t.value[0]),e!==!1&&(n=e.name)),new p(n)},args:[{t:"node-set",r:!1}],ret:"string"},"namespace-uri":{fn:function(t){var e,n="";return 0==arguments.length&&(t=new g([this.node])),t.toNodeSet().length>0&&(t.sortDocumentOrder(),e=q.call(this,t.value[0]),e!==!1&&null!==e.ns&&(n=e.ns)),new p(n)},args:[{t:"node-set",r:!1}],ret:"string"},name:{fn:function(t){var e,n="";return 0==arguments.length&&(t=new g([this.node])),t.toNodeSet().length>0&&(t.sortDocumentOrder(),e=q.call(this,t.value[0]),e!==!1&&(n=e.prefix&&e.prefix.length>0?e.prefix+":"+e.name:e.name)),new p(n)},args:[{t:"node-set",r:!1}],ret:"string"},string:{fn:function(t){return 0==arguments.length&&(t=new g([this.node],"document-order")),new p(t.toString())},args:[{t:"object",r:!1}],ret:"string"},"starts-with":{fn:function(t,e){return new d(t.toString().substr(0,(e=e.toString()).length)==e)},args:[{t:"string"},{t:"string"}],ret:"string"},contains:{fn:function(t,e){return new d(t.toString().indexOf(e=e.toString())!=-1)},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-before":{fn:function(t,e){return t=t.toString(),e=t.indexOf(e.toString()),new p(e==-1?"":t.substr(0,e))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-after":{fn:function(t,e){var n;return t=t.toString(),e=e.toString(),n=t.indexOf(e),new p(n==-1?"":t.substr(n+e.length))},args:[{t:"string"},{t:"string"}],ret:"string"},substring:{fn:function(t,e,n){return t=t.toString(),e=Math.round(e.toNumber())-1,new p(isNaN(e)?"":2==arguments.length?t.substring(e<0?0:e):t.substring(e<0?0:e,e+Math.round(n.toNumber())))},args:[{t:"string"},{t:"number"},{t:"number",r:!1}],ret:"string"},"string-length":{fn:function(t){return t=0==arguments.length?V(this.node):t.toString(),new m(t.length)},args:[{t:"string",r:!1}],ret:"number"},"normalize-space":{fn:function(t){return t=0==arguments.length?V(this.node):t.toString(),new p(t.replace(/^[\u0020\u0009\u000D\u000A]+/,"").replace(/[\u0020\u0009\u000D\u000A]+$/,"").replace(/[\u0020\u0009\u000D\u000A]+/g," "))},args:[{t:"string",r:!1}],ret:"string"},translate:{fn:function(t,e,n){var i,r,o,s="";for(t=t.toString(),e=e.toString(),n=n.toString(),i=0;i<t.length;i++)((r=e.indexOf(o=t.charAt(i)))==-1||(o=n.charAt(r)))&&(s+=o);return new p(s)},args:[{t:"string"},{t:"string"},{t:"string"}],ret:"string"},"boolean":{fn:function(t){return new d(t.toBoolean())},args:[{r:!0}],ret:"boolean"},not:{fn:function(t){return new d((!t.toBoolean()))},args:[{t:"boolean"}],ret:"boolean"},"true":{fn:function(){return new d((!0))},ret:"boolean"},"false":{fn:function(){return new d((!1))},ret:"boolean"},lang:{fn:function(t){for(var e,n,i,r,o,s,a,u=this.node,c=t.toString().toLowerCase().split("-");9!=u.nodeType;u=S(u))for(e=M(u),o=0;o<e.length;o++)if(n=e[o].nodeName.split(":"),1===n.length&&(n[1]=n[0],n[0]=""),"lang"==n[1]){if(i=e[o].nodeValue.toLowerCase().split("-"),i.length<c.length)continue;for(a=!0,s=0;s<c.length;s++)if(c[s]!=i[s]){a=!1;break}if(a)for(r=L.call(this,u),s=0;s<r.length;s++)if(r[s].prefix==n[0]&&r[s].nodeValue==b)return new d((!0))}return new d((!1))},args:[{t:"string"}],ret:"boolean"},number:{fn:function(t){return 0==arguments.length&&(t=new g([this.node],"document-order")),new m(t.toNumber())},args:[{t:"object",r:!1}],ret:"number"},sum:{fn:function(t){var e,n=0;for(t=t.toNodeSet(),e=0;e<t.length;e++)n+=new p(V(t[e])).toNumber();return new m(n)},args:[{t:"node-set"}],ret:"number"},floor:{fn:function(t){return new m(Math.floor(t))},args:[{t:"number"}],ret:"number"},ceiling:{fn:function(t){return new m(Math.ceil(t))},args:[{t:"number"}],ret:"number"},"count-non-empty":{fn:function(t){var e,n=0;for(t=t.toNodeSet(),e=0;e<t.length;e++)new p(V(t[e])).toString().length>0&&n++;return new m(n)},args:[{t:"node-set"}],ret:"number"},position:{fn:function(t){if(t){var e,n,i;if(t=t.toNodeSet(),1===t.length){for(e=t[0],i=1,n=e.tagName;e.previousElementSibling&&e.previousElementSibling.tagName===n;)e=e.previousElementSibling,i++;return new m(i)}throw new Error("nodeset provided to position() contained multiple nodes")}return new m(this.pos)},args:[{t:"node-set",r:!1}],ret:"number"},concat:{fn:function(t){var e,n,i="";for(e=0;e<arguments.length;e++)n=arguments[e]instanceof g?arguments[e].stringValues().join(""):arguments[e].toString(),i+=n;return new p(i)},args:[{t:"object",r:!1,rep:!0}],ret:"string"},round:{fn:function(t,e){return e=Math.round(e)||0,new m(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},args:[{t:"number"},{t:"number",r:!1}],ret:"number"},selected:{fn:function(t,e){var n;return e=e.toString().trim(),n=t.toString(),new d((" "+n+" ").indexOf(" "+e+" ")!=-1)},args:[{t:"object"},{t:"string"}],ret:"boolean"},"selected-at":{fn:function(t,e){var n,i,r;return e=Math.round(e.toNumber()),n=t.toString(),i=n.split(" "),r=e>=0&&e<i.length?i[e]:"",new p(r)},args:[{t:"object"},{t:"number"}],ret:"string"},"count-selected":{fn:function(t){var e=[];return t=t.toNodeSet(),t.length>0?(e=V(t[0]).trim().split(" "),new m(1==e.length&&""===e[0]?0:e.length)):new m(0)},args:[{t:"node-set"}],ret:"number"},checklist:{fn:function(t,e,n){var i,r,o=0;for(t=t.toNumber(),e=e.toNumber(),i=2;i<arguments.length;i++)if(arguments[i]instanceof g)for(r=0;r<arguments[i].stringValues().length;r++)arguments[i].stringValues()[r].toBoolean()===!0&&o++;else arguments[i].toBoolean()===!0&&o++;return new d((t<0||o>=t)&&(e<0||o<=e))},args:[{t:"number"},{t:"number"},{t:"object"},{t:"object",r:!1,rep:!0}],ret:"boolean"},"weighted-checklist":{fn:function(t,e,n,i){var r,o=[],s=[],a=0;for(t=t.toNumber(),e=e.toNumber(),r=2;r<arguments.length;r+=2)v=arguments[r],w=arguments[r+1],v&&w&&(v instanceof g?o=o.concat(v.stringValues()):o.push(v),w instanceof g?s=s.concat(w.stringValues()):s.push(w));for(r=0;r<o.length;r++)o[r].toBoolean()===!0&&(a+=s[r].toNumber());return new d((t<0||a>=t)&&(e<0||a<=e))},args:[{t:"number"},{t:"number"},{t:"object"},{t:"object"},{t:"object",r:!1,rep:!0}],ret:"boolean"},"boolean-from-string":{fn:function(t){return new d("true"===t.toString().toLowerCase()||"1"===String(t))},args:[{t:"string"}],ret:"boolean"},"if":{fn:function(t,e,n){return t.toBoolean()?e:n},args:[{t:"object"},{t:"object"},{t:"object"}],ret:"object"},date:{fn:function(t){return new DateType(t.toDate())},args:[{t:"object"}],ret:"string"},"date-time":{fn:function(t){return new DateType(t.toDate())},args:[{t:"object"}],ret:"string"},"decimal-date-time":{fn:function(t){return new DateType(t.toDate())},args:[{t:"object"}],ret:"string"},today:{fn:function(){var t=new Date;return new DateType(new Date(t.getFullYear(),t.getMonth(),t.getDate()))},ret:"string"},now:{fn:function(){return new DateType(new Date)},ret:"string"},regex:{fn:function(t,e){var n,i;return n=t.toString(),i=new RegExp(e),new d(i.test(n))},args:[{t:"object"},{t:"string"}],ret:"boolean"},uuid:{fn:function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)});return new p(t)},ret:"string"},"int":{fn:function(t){return new m(t.toNumber()>=0?Math.floor(t.toNumber()):-Math.floor(Math.abs(t.toNumber())))},args:[{t:"string"}],ret:"number"},substr:{fn:function(t,e,n){return t=t.toString(),length=t.length,e=Math.round(e.toNumber()),n=n?Math.round(n.toNumber()):length,new p(isNaN(e)?"":t.substring(e<0?length+e:e,n<0?length+n:n))},args:[{t:"string"},{t:"number"},{t:"number",r:!1}],ret:"string"},random:{fn:function(){return new m(Math.random().toFixed(15))},ret:"number"},min:{fn:function(t,e){var n,i,r,o,s;for(n=0;n<arguments.length;n++)if(arguments[n]instanceof g){for(s=arguments[n].toNodeSet(),i=0;i<s.length;i++)o=new p(V(s[i])),o&&(r=r?Math.min(r,o.toNumber()):o.toNumber());0===s.length&&(r=NaN)}else o=new p(arguments[n].toString()),o&&(r=r?Math.min(r,o.toNumber()):o.toNumber());return new m(r)},args:[{t:"object"},{t:"object",r:!1,rep:!0}],ret:"number"},max:{fn:function(t,e){var n,i,r,o,s;for(n=0;n<arguments.length;n++)if(arguments[n]instanceof g){for(s=arguments[n].toNodeSet(),i=0;i<s.length;i++)o=new p(V(s[i])),o&&(r=r?Math.max(r,o.toNumber()):o.toNumber());0===s.length&&(r=NaN)}else o=new p(arguments[n].toString()),o&&(r=r?Math.max(r,o.toNumber()):o.toNumber());return new m(r)},args:[{t:"object"},{t:"object",r:!1,rep:!0}],ret:"number"},join:{fn:function(t,e){var n,i=[];for(n=1;n<arguments.length;n++)arguments[n]instanceof g?i=i.concat(arguments[n].stringValues()):i.push(arguments[n].toString());for(value=i[0]||"",n=1;n<i.length;n++)value+=t.toString()+i[n];return new p(value)},args:[{t:"string"},{t:"object",r:!1,rep:!0}],ret:"string"},coalesce:{fn:function(t,e){return t.toString().length>0?t:e},args:[{t:"object"},{t:"object"}],ret:"string"},"format-date":{fn:function(t,e){var n,t=new DateType(t),i=t.toDate(),r=e.toString(),o=function(t,e){var i=t.toString(),r=e-i.length;for(n=0;n<r;n++)i="0"+i;return i},s=window?window.enketoFormLocale:void 0;if(!t.toBoolean())return new p(i.toString());props={Y:i.getFullYear(),y:i.getFullYear().toString().substring(2,4),m:o(i.getMonth()+1,2),n:i.getMonth()+1,b:i.toLocaleDateString(s,{month:"short"}),d:o(i.getDate(),2),e:i.getDate(),H:o(i.getHours(),2),h:i.getHours(),M:o(i.getMinutes(),2),S:o(i.getSeconds(),2),3:o(i.getMilliseconds(),3),a:i.toLocaleDateString(s,{weekday:"short"})};for(prop in props)r=r.replace("%"+prop,props[prop]);return new p(r)},args:[{t:"date"},{t:"string"}],ret:"string"},pow:{fn:function(t,e){return new m(Math.pow(t,e))},args:[{t:"number"},{t:"number"}],ret:"number"},sin:{fn:function(t){return new m(Math.sin(t))},args:[{t:"number"}],ret:"number"},cos:{fn:function(t){return new m(Math.cos(t))},args:[{t:"number"}],ret:"number"},tan:{fn:function(t){return new m(Math.tan(t))},args:[{t:"number"}],ret:"number"},acos:{fn:function(t){return new m(Math.acos(t))},args:[{t:"number"}],ret:"number"},asin:{fn:function(t){return new m(Math.asin(t))},args:[{t:"number"}],ret:"number"},atan:{fn:function(t){return new m(Math.atan(t))},args:[{t:"number"}],ret:"number"},atan2:{fn:function(t,e){return new m(Math.atan2(t,e))},args:[{t:"number"},{t:"number"}],ret:"number"},log10:{fn:function(t){return new m("undefined"!=typeof Math.log10?Math.log10(t):Math.log(t)/Math.LN10)},args:[{t:"number"}],ret:"number"},log:{fn:function(t){return new m(Math.log(t))},args:[{t:"number"}],ret:"number"},pi:{fn:function(){return new m(Math.PI)},args:[],ret:"number"},exp:{fn:function(t){return new m(Math.exp(t))},args:[{t:"number"}],ret:"number"},exp10:{fn:function(t){return new m(Math.pow(10,t))},args:[{t:"number"}],ret:"number"},sqrt:{fn:function(t){return new m(Math.sqrt(t))},args:[{t:"number"}],ret:"number"},version:{fn:function(){var t="#document"===this.node.nodeName?this.node.documentElement:this.node.ownerDocument.documentElement,e=t.attributes.version;return new p(e?e.textContent:"")},args:[],ret:"string"},once:{fn:function(t){var e=V(this.node),n=t.toString();return n="NaN"===n?"":n,new p(""!==e?e:n)},args:[{t:"string"}],ret:"string"},area:{fn:function(t){var e,n,i=[],r=[];if(t instanceof g&&t.value.length>1?t.value.forEach(function(t){i.push(V(t))}):t instanceof g?i=V(t.value[0]).split(";"):t instanceof p&&(i=t.value.split(";")),r=i.map(function(t){return t.trim().split(" ")}),n=r.every(function(t){return""!==t[0]&&t[0]>=-90&&t[0]<=90&&""!==t[1]&&t[1]>=-180&&t[1]<=180&&("undefined"==typeof t[2]||!isNaN(t[2]))&&("undefined"==typeof t[3]||!isNaN(t[3])&&t[3]>=0)})){var o,s,a=6378100,u=r.length,c=Math.PI/180;if(e=0,u>2){for(var l=0;l<u;l++)o={lat:r[l][0],lng:r[l][1]},s={
lat:r[(l+1)%u][0],lng:r[(l+1)%u][1]},e+=(s.lng-o.lng)*c*(2+Math.sin(o.lat*c)+Math.sin(s.lat*c));e=e*a*a/2}e=Math.abs(Math.round(100*e))/100}else e=Number.NaN;return new m(e)},args:[{t:"string"}],ret:"number"},"ends-with":{fn:function(t,e){return new d(t.toString().substr(t.toString().length-e.toString().length)===e.toString())},args:[{t:"string"},{t:"string"}],ret:"string"},abs:{fn:function(t){return new m(Math.abs(t))},args:[{t:"number"}],ret:"number"}}},l[""]["format-date-time"]=l[""]["format-date"],u=function(t,e){if("function"!=typeof c[e.type])throw new Error("Internal Error: Expression type does not exist: "+e.type);return c[e.type].apply(t,e.args)},o=function(e,n,i){switch(n){case o.NUMBER_TYPE:this.resultType=o.NUMBER_TYPE,this.numberValue=i.toNumber();break;case o.STRING_TYPE:this.resultType=o.STRING_TYPE,this.stringValue=i.toString();break;case o.BOOLEAN_TYPE:this.resultType=o.BOOLEAN_TYPE,this.booleanValue=i.toBoolean();break;case o.UNORDERED_NODE_ITERATOR_TYPE:case o.ORDERED_NODE_ITERATOR_TYPE:case o.UNORDERED_NODE_SNAPSHOT_TYPE:case o.ORDERED_NODE_SNAPSHOT_TYPE:case o.ANY_UNORDERED_NODE_TYPE:case o.FIRST_ORDERED_NODE_TYPE:if(!i instanceof g)throw new Error('Expected result of type "node-set", got: "'+i.type+'"');switch(this.resultType=n,n){case o.UNORDERED_NODE_ITERATOR_TYPE:case o.UNORDERED_NODE_SNAPSHOT_TYPE:this._value=i.toNodeSet(),this.snapshotLength=this._value.length;break;case o.ORDERED_NODE_ITERATOR_TYPE:case o.ORDERED_NODE_SNAPSHOT_TYPE:i.sortDocumentOrder(),this._value=i.toNodeSet(),this.snapshotLength=this._value.length;break;case o.ANY_UNORDERED_NODE_TYPE:i=i.toNodeSet(),this.singleNodeValue=i.length?i[0]:null;break;case o.FIRST_ORDERED_NODE_TYPE:i.sortDocumentOrder(),i=i.toNodeSet(),this.singleNodeValue=i.length?i[0]:null;break;default:throw new t(t.TYPE_ERR,"XPath result type not supported. (type: "+n+")")}break;default:throw new t(t.TYPE_ERR,"XPath result type not supported. (type: "+n+")")}},o.factory=function(e,n,i){var r;if(n!==o.ANY_TYPE)return new o(e,n,i);if(i instanceof g)r=new o(e,o.UNORDERED_NODE_ITERATOR_TYPE,i);else if(i instanceof m)r=new o(e,o.NUMBER_TYPE,i);else if(i instanceof d)r=new o(e,o.BOOLEAN_TYPE,i);else{if(!(i instanceof p))throw new t(t.TYPE_ERR,"Internal Error: Unsupported value type: "+typeof i);r=new o(e,o.STRING_TYPE,i)}return r},o.prototype={resultType:null,numberValue:null,stringValue:null,booleanValue:null,singleNodeValue:null,invalidIteratorState:null,snapshotLength:null,_iteratorIndex:0,iterateNext:function(){if(this.resultType!=o.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=o.ORDERED_NODE_ITERATOR_TYPE)throw new t(t.TYPE_ERR,"iterateNext() method may only be used with results of type UNORDERED_NODE_ITERATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE");return this._iteratorIndex<this._value.length?this._value[this._iteratorIndex++]:null},snapshotItem:function(e){if(this.resultType!=o.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=o.ORDERED_NODE_SNAPSHOT_TYPE)throw new t(t.TYPE_ERR,"snapshotItem() method may only be used with results of type UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE");return this._value[e]}},o.ANY_TYPE=0,o.NUMBER_TYPE=1,o.STRING_TYPE=2,o.BOOLEAN_TYPE=3,o.UNORDERED_NODE_ITERATOR_TYPE=4,o.ORDERED_NODE_ITERATOR_TYPE=5,o.UNORDERED_NODE_SNAPSHOT_TYPE=6,o.ORDERED_NODE_SNAPSHOT_TYPE=7,o.ANY_UNORDERED_NODE_TYPE=8,o.FIRST_ORDERED_NODE_TYPE=9,s=function(t,e,n){if(1!=n.nodeType)throw new Error("Internal Error: XPathNamespace owner element must be an Element node.");this.ownerElement=n,this.ownerDocument=n.ownerDocument,this.nodeName="#namespace",this.prefix=t,this.localName=t,this.nodeType=s.XPATH_NAMESPACE_NODE,this.namespaceURI=e,this.nodeValue=e},s.XPATH_NAMESPACE_NODE=13,a={XPathException:t,XPathEvaluator:e,XPathNSResolver:r,XPathExpression:n,XPathResult:o,XPathNamespace:s,getCurrentDomLevel3XPathBindings:function(){return{window:{XPathException:window.XPathException,XPathExpression:window.XPathExpression,XPathNSResolver:window.XPathNSResolver,XPathResult:window.XPathResult,XPathNamespace:window.XPathNamespace},document:{createExpression:document.createExpression,createNSResolver:document.createNSResolver,evaluate:document.evaluate}}},createDomLevel3XPathBindings:function(i){var a=new e(i);return{window:{XPathException:t,XPathExpression:n,XPathNSResolver:r,XPathResult:o,XPathNamespace:s},document:{createExpression:function(){return a.createExpression.apply(a,arguments)},createNSResolver:function(){return a.createNSResolver.apply(a,arguments)},evaluate:function(){return a.evaluate.apply(a,arguments)}}}},bindDomLevel3XPath:function(t,e){var n,i=e||a.createDomLevel3XPathBindings(),r=a.getCurrentDomLevel3XPathBindings(),t=t||document;for(n in i.window)window[n]=i.window[n];for(n in i.document)t[n]=i.document[n];return r}}}();i._parser=function(){"use strict";function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function n(t){function n(e){var n,i,r=li[e];if(r)return r;for(n=e-1;!li[n];)n--;for(r=li[n],r={line:r.line,column:r.column,seenCR:r.seenCR};n<e;)i=t.charAt(n),"\n"===i?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return li[e]=r,r}function i(t,e){var i=n(t),r=n(e);return{start:{offset:t,line:i.line,column:i.column},end:{offset:e,line:r.line,column:r.column}}}function r(t){ui<hi||(ui>hi&&(hi=ui,fi=[]),fi.push(t))}function o(t,n,i,r){function o(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function s(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}var i,r,o,s=new Array(t.length);for(o=0;o<t.length;o++)s[o]=t[o].description;return i=t.length>1?s.slice(0,-1).join(", ")+" or "+s[t.length-1]:s[0],r=e?'"'+n(e)+'"':"end of input","Expected "+i+" but "+r+" found."}return null!==n&&o(n),new e(null!==t?t:s(n,i),n,i,r)}function s(){var t,e,n,i;return t=ui,e=U(),e!==X?(n=y(),n!==X?(i=U(),i!==X?(ci=t,e=K(n),t=e):(ui=t,t=X)):(ui=t,t=X)):(ui=t,t=X),t}function a(){var t;return t=c(),t===X&&(t=u()),t}function u(){var e,n,i,o,s;return e=m(),e===X&&(e=ui,47===t.charCodeAt(ui)?(n=tt,ui++):(n=X,0===di&&r(et)),n!==X?(i=ui,o=U(),o!==X?(s=c(),s!==X?(o=[o,s],i=o):(ui=i,i=X)):(ui=i,i=X),i===X&&(i=null),i!==X?(ci=e,n=nt(i),e=n):(ui=e,e=X)):(ui=e,e=X)),e}function c(){var e,n,i,o,s,a,u,c;if(e=ui,n=l(),n!==X){for(i=[],o=ui,s=U(),s!==X?(t.substr(ui,2)===it?(a=it,ui+=2):(a=X,0===di&&r(rt)),a===X&&(47===t.charCodeAt(ui)?(a=tt,ui++):(a=X,0===di&&r(et))),a!==X?(u=U(),u!==X?(c=l(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(t.substr(ui,2)===it?(a=it,ui+=2):(a=X,0===di&&r(rt)),a===X&&(47===t.charCodeAt(ui)?(a=tt,ui++):(a=X,0===di&&r(et))),a!==X?(u=U(),u!==X?(c=l(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=ot(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function l(){var t,e,n,i,r,o,s,a;if(t=ui,e=h(),e!==X)if(n=U(),n!==X)if(i=d(),i!==X){for(r=[],o=ui,s=U(),s!==X?(a=p(),a!==X?(s=[s,a],o=s):(ui=o,o=X)):(ui=o,o=X);o!==X;)r.push(o),o=ui,s=U(),s!==X?(a=p(),a!==X?(s=[s,a],o=s):(ui=o,o=X)):(ui=o,o=X);r!==X?(ci=t,e=st(e,i,r),t=e):(ui=t,t=X)}else ui=t,t=X;else ui=t,t=X;else ui=t,t=X;return t===X&&(t=v()),t}function h(){var e,n,i,o;return e=ui,n=f(),n!==X?(i=U(),i!==X?(t.substr(ui,2)===at?(o=at,ui+=2):(o=X,0===di&&r(ut)),o!==X?(ci=e,n=ct(n),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,n=g(),n!==X&&(ci=e,n=lt(n)),e=n),e}function f(){var e;return t.substr(ui,16)===ht?(e=ht,ui+=16):(e=X,0===di&&r(ft)),e===X&&(t.substr(ui,8)===dt?(e=dt,ui+=8):(e=X,0===di&&r(pt)),e===X&&(t.substr(ui,9)===mt?(e=mt,ui+=9):(e=X,0===di&&r(vt)),e===X&&(t.substr(ui,5)===gt?(e=gt,ui+=5):(e=X,0===di&&r(yt)),e===X&&(t.substr(ui,18)===_t?(e=_t,ui+=18):(e=X,0===di&&r(bt)),e===X&&(t.substr(ui,10)===wt?(e=wt,ui+=10):(e=X,0===di&&r(xt)),e===X&&(t.substr(ui,17)===kt?(e=kt,ui+=17):(e=X,0===di&&r(Et)),e===X&&(t.substr(ui,9)===Ct?(e=Ct,ui+=9):(e=X,0===di&&r($t)),e===X&&(t.substr(ui,9)===St?(e=St,ui+=9):(e=X,0===di&&r(Tt)),e===X&&(t.substr(ui,6)===Dt?(e=Dt,ui+=6):(e=X,0===di&&r(At)),e===X&&(t.substr(ui,17)===jt?(e=jt,ui+=17):(e=X,0===di&&r(Pt)),e===X&&(t.substr(ui,9)===Ot?(e=Ot,ui+=9):(e=X,0===di&&r(Nt)),e===X&&(t.substr(ui,4)===Mt?(e=Mt,ui+=4):(e=X,0===di&&r(Lt)))))))))))))),e}function d(){var e,n,i,o,s,a,u,c;return e=ui,n=R(),n!==X?(i=U(),i!==X?(40===t.charCodeAt(ui)?(o=It,ui++):(o=X,0===di&&r(Rt)),o!==X?(s=U(),s!==X?(41===t.charCodeAt(ui)?(a=Ft,ui++):(a=X,0===di&&r(Ut)),a!==X?(ci=e,n=qt(n),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,t.substr(ui,22)===Vt?(n=Vt,ui+=22):(n=X,0===di&&r(Bt)),n!==X?(i=U(),i!==X?(40===t.charCodeAt(ui)?(o=It,ui++):(o=X,0===di&&r(Rt)),o!==X?(s=U(),s!==X?(a=j(),a!==X?(u=U(),u!==X?(41===t.charCodeAt(ui)?(c=Ft,ui++):(c=X,0===di&&r(Ut)),c!==X?(ci=e,n=Ht(n,a),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,n=I(),n!==X&&(ci=e,n=zt(n)),e=n)),e}function p(){var e,n,i,o,s,a;return e=ui,91===t.charCodeAt(ui)?(n=Wt,ui++):(n=X,0===di&&r(Yt)),n!==X?(i=U(),i!==X?(o=y(),o!==X?(s=U(),s!==X?(93===t.charCodeAt(ui)?(a=Gt,ui++):(a=X,0===di&&r(Zt)),a!==X?(ci=e,n=Xt(o),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e}function m(){var e,n,i,o;return e=ui,t.substr(ui,2)===it?(n=it,ui+=2):(n=X,0===di&&r(rt)),n!==X?(i=U(),i!==X?(o=c(),o!==X?(ci=e,n=Jt(o),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e}function v(){var e,n;return e=ui,t.substr(ui,2)===Qt?(n=Qt,ui+=2):(n=X,0===di&&r(Kt)),n===X&&(46===t.charCodeAt(ui)?(n=te,ui++):(n=X,0===di&&r(ee))),n!==X&&(ci=e,n=ne(n)),e=n}function g(){var e,n;return e=ui,64===t.charCodeAt(ui)?(n=ie,ui++):(n=X,0===di&&r(re)),n===X&&(n=null),n!==X&&(ci=e,n=oe(n)),e=n}function y(){var t,e;return t=ui,e=E(),e!==X&&(ci=t,e=Xt(e)),t=e}function _(){var e,n,i,o,s,a;return e=ui,n=L(),n!==X&&(ci=e,n=se(n)),e=n,e===X&&(e=ui,40===t.charCodeAt(ui)?(n=It,ui++):(n=X,0===di&&r(Rt)),n!==X?(i=U(),i!==X?(o=y(),o!==X?(s=U(),s!==X?(41===t.charCodeAt(ui)?(a=Ft,ui++):(a=X,0===di&&r(Ut)),a!==X?(ci=e,n=Xt(o),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,n=j(),n!==X&&(ci=e,n=ae(n)),e=n,e===X&&(e=ui,n=P(),n!==X&&(ci=e,n=ue(n)),e=n,e===X&&(e=b())))),e}function b(){var e,n,i,o,s,a,u,c,l,h,f,d,p;if(e=ui,n=M(),n!==X)if(i=U(),i!==X)if(40===t.charCodeAt(ui)?(o=It,ui++):(o=X,0===di&&r(Rt)),o!==X){if(s=ui,a=U(),a!==X)if(u=y(),u!==X){for(c=[],l=ui,h=U(),h!==X?(44===t.charCodeAt(ui)?(f=ce,ui++):(f=X,0===di&&r(le)),f!==X?(d=U(),d!==X?(p=y(),p!==X?(h=[h,f,d,p],l=h):(ui=l,l=X)):(ui=l,l=X)):(ui=l,l=X)):(ui=l,l=X);l!==X;)c.push(l),l=ui,h=U(),h!==X?(44===t.charCodeAt(ui)?(f=ce,ui++):(f=X,0===di&&r(le)),f!==X?(d=U(),d!==X?(p=y(),p!==X?(h=[h,f,d,p],l=h):(ui=l,l=X)):(ui=l,l=X)):(ui=l,l=X)):(ui=l,l=X);c!==X?(a=[a,u,c],s=a):(ui=s,s=X)}else ui=s,s=X;else ui=s,s=X;s===X&&(s=null),s!==X?(a=U(),a!==X?(41===t.charCodeAt(ui)?(u=Ft,ui++):(u=X,0===di&&r(Ut)),u!==X?(ci=e,n=he(n,s),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)}else ui=e,e=X;else ui=e,e=X;else ui=e,e=X;return e}function w(){var e,n,i,o,s,a,u,c;if(e=ui,n=x(),n!==X){for(i=[],o=ui,s=U(),s!==X?(124===t.charCodeAt(ui)?(a=fe,ui++):(a=X,0===di&&r(de)),a!==X?(u=U(),u!==X?(c=x(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(124===t.charCodeAt(ui)?(a=fe,ui++):(a=X,0===di&&r(de)),a!==X?(u=U(),u!==X?(c=x(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function x(){var e,n,i,o,s,u,l;return e=ui,n=k(),n!==X?(i=ui,o=U(),o!==X?(t.substr(ui,2)===it?(s=it,ui+=2):(s=X,0===di&&r(rt)),s===X&&(47===t.charCodeAt(ui)?(s=tt,ui++):(s=X,0===di&&r(et))),s!==X?(u=U(),u!==X?(l=c(),l!==X?(o=[o,s,u,l],i=o):(ui=i,i=X)):(ui=i,i=X)):(ui=i,i=X)):(ui=i,i=X),i===X&&(i=null),i!==X?(ci=e,n=me(n,i),e=n):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,n=a(),n!==X&&(ci=e,n=ve(n)),e=n),e}function k(){var t,e,n,i,r,o;if(t=ui,e=_(),e!==X){for(n=[],i=ui,r=U(),r!==X?(o=p(),o!==X?(r=[r,o],i=r):(ui=i,i=X)):(ui=i,i=X);i!==X;)n.push(i),i=ui,r=U(),r!==X?(o=p(),o!==X?(r=[r,o],i=r):(ui=i,i=X)):(ui=i,i=X);n!==X?(ci=t,e=ge(e,n),t=e):(ui=t,t=X)}else ui=t,t=X;return t}function E(){var e,n,i,o,s,a,u,c;if(e=ui,n=C(),n!==X){for(i=[],o=ui,s=U(),s!==X?(t.substr(ui,2)===ye?(a=ye,ui+=2):(a=X,0===di&&r(_e)),a!==X?(u=U(),u!==X?(c=C(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(t.substr(ui,2)===ye?(a=ye,ui+=2):(a=X,0===di&&r(_e)),a!==X?(u=U(),u!==X?(c=C(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function C(){var e,n,i,o,s,a,u,c;if(e=ui,n=$(),n!==X){for(i=[],o=ui,s=U(),s!==X?(t.substr(ui,3)===be?(a=be,ui+=3):(a=X,0===di&&r(we)),a!==X?(u=U(),u!==X?(c=$(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(t.substr(ui,3)===be?(a=be,ui+=3):(a=X,0===di&&r(we)),a!==X?(u=U(),u!==X?(c=$(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function $(){var e,n,i,o,s,a,u,c;if(e=ui,n=S(),n!==X){for(i=[],o=ui,s=U(),s!==X?(61===t.charCodeAt(ui)?(a=xe,ui++):(a=X,0===di&&r(ke)),a===X&&(t.substr(ui,2)===Ee?(a=Ee,ui+=2):(a=X,0===di&&r(Ce))),a!==X?(u=U(),u!==X?(c=S(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(61===t.charCodeAt(ui)?(a=xe,ui++):(a=X,0===di&&r(ke)),a===X&&(t.substr(ui,2)===Ee?(a=Ee,ui+=2):(a=X,0===di&&r(Ce))),a!==X?(u=U(),u!==X?(c=S(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function S(){var e,n,i,o,s,a,u,c;if(e=ui,n=T(),n!==X){for(i=[],o=ui,s=U(),s!==X?(t.substr(ui,2)===$e?(a=$e,ui+=2):(a=X,0===di&&r(Se)),a===X&&(60===t.charCodeAt(ui)?(a=Te,ui++):(a=X,0===di&&r(De)),a===X&&(t.substr(ui,2)===Ae?(a=Ae,ui+=2):(a=X,0===di&&r(je)),a===X&&(62===t.charCodeAt(ui)?(a=Pe,ui++):(a=X,0===di&&r(Oe))))),a!==X?(u=U(),u!==X?(c=T(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(t.substr(ui,2)===$e?(a=$e,ui+=2):(a=X,0===di&&r(Se)),a===X&&(60===t.charCodeAt(ui)?(a=Te,ui++):(a=X,0===di&&r(De)),a===X&&(t.substr(ui,2)===Ae?(a=Ae,ui+=2):(a=X,0===di&&r(je)),a===X&&(62===t.charCodeAt(ui)?(a=Pe,ui++):(a=X,0===di&&r(Oe))))),a!==X?(u=U(),u!==X?(c=T(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function T(){var e,n,i,o,s,a,u,c;if(e=ui,n=D(),n!==X){for(i=[],o=ui,s=U(),s!==X?(43===t.charCodeAt(ui)?(a=Ne,ui++):(a=X,0===di&&r(Me)),a===X&&(45===t.charCodeAt(ui)?(a=Le,ui++):(a=X,0===di&&r(Ie))),a!==X?(u=U(),u!==X?(c=D(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(43===t.charCodeAt(ui)?(a=Ne,ui++):(a=X,0===di&&r(Me)),a===X&&(45===t.charCodeAt(ui)?(a=Le,ui++):(a=X,0===di&&r(Ie))),a!==X?(u=U(),u!==X?(c=D(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function D(){var e,n,i,o,s,a,u,c;if(e=ui,n=A(),n!==X){for(i=[],o=ui,s=U(),s!==X?(a=N(),a===X&&(t.substr(ui,3)===Re?(a=Re,ui+=3):(a=X,0===di&&r(Fe)),a===X&&(t.substr(ui,3)===Ue?(a=Ue,ui+=3):(a=X,0===di&&r(qe)))),a!==X?(u=U(),u!==X?(c=A(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);o!==X;)i.push(o),o=ui,s=U(),s!==X?(a=N(),a===X&&(t.substr(ui,3)===Re?(a=Re,ui+=3):(a=X,0===di&&r(Fe)),a===X&&(t.substr(ui,3)===Ue?(a=Ue,ui+=3):(a=X,0===di&&r(qe)))),a!==X?(u=U(),u!==X?(c=A(),c!==X?(s=[s,a,u,c],o=s):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X)):(ui=o,o=X);i!==X?(ci=e,n=pe(n,i),e=n):(ui=e,e=X)}else ui=e,e=X;return e}function A(){var e,n,i,o;return e=ui,n=w(),n!==X&&(ci=e,n=Xt(n)),e=n,e===X&&(e=ui,45===t.charCodeAt(ui)?(n=Le,ui++):(n=X,0===di&&r(Ie)),n!==X?(i=U(),i!==X?(o=A(),o!==X?(ci=e,n=Ve(o),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X)),e}function j(){var e,n,i,o;if(e=ui,34===t.charCodeAt(ui)?(n=Be,ui++):(n=X,0===di&&r(He)),n!==X){for(i=[],ze.test(t.charAt(ui))?(o=t.charAt(ui),ui++):(o=X,0===di&&r(We));o!==X;)i.push(o),ze.test(t.charAt(ui))?(o=t.charAt(ui),ui++):(o=X,0===di&&r(We));i!==X?(34===t.charCodeAt(ui)?(o=Be,ui++):(o=X,0===di&&r(He)),o!==X?(ci=e,n=Ye(i),e=n):(ui=e,e=X)):(ui=e,e=X)}else ui=e,e=X;if(e===X)if(e=ui,39===t.charCodeAt(ui)?(n=Ge,ui++):(n=X,0===di&&r(Ze)),n!==X){for(i=[],Xe.test(t.charAt(ui))?(o=t.charAt(ui),ui++):(o=X,0===di&&r(Je));o!==X;)i.push(o),Xe.test(t.charAt(ui))?(o=t.charAt(ui),ui++):(o=X,0===di&&r(Je));i!==X?(39===t.charCodeAt(ui)?(o=Ge,ui++):(o=X,0===di&&r(Ze)),o!==X?(ci=e,n=Ye(i),e=n):(ui=e,e=X)):(ui=e,e=X)}else ui=e,e=X;return e}function P(){var e,n,i,o,s;return e=ui,n=O(),n!==X?(i=ui,46===t.charCodeAt(ui)?(o=te,ui++):(o=X,0===di&&r(ee)),o!==X?(s=O(),s===X&&(s=null),s!==X?(o=[o,s],i=o):(ui=i,i=X)):(ui=i,i=X),i===X&&(i=null),i!==X?(ci=e,n=Qe(n,i),e=n):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,46===t.charCodeAt(ui)?(n=te,ui++):(n=X,0===di&&r(ee)),n!==X?(i=O(),i!==X?(ci=e,n=Ke(i),e=n):(ui=e,e=X)):(ui=e,e=X)),e}function O(){var e,n,i;if(e=ui,n=[],tn.test(t.charAt(ui))?(i=t.charAt(ui),ui++):(i=X,0===di&&r(en)),i!==X)for(;i!==X;)n.push(i),tn.test(t.charAt(ui))?(i=t.charAt(ui),ui++):(i=X,0===di&&r(en));else n=X;return n!==X&&(ci=e,n=nn(n)),e=n}function N(){var e;return 42===t.charCodeAt(ui)?(e=rn,ui++):(e=X,0===di&&r(on)),e}function M(){var t,e,n;return t=ui,e=q(),e!==X?(ci=ui,n=sn(e),n=n?void 0:X,n!==X?(ci=t,e=an(e),t=e):(ui=t,t=X)):(ui=t,t=X),t}function L(){var e,n,i;return e=ui,36===t.charCodeAt(ui)?(n=un,ui++):(n=X,0===di&&r(cn)),n!==X?(i=q(),i!==X?(ci=e,n=ln(i),e=n):(ui=e,e=X)):(ui=e,e=X),e}function I(){var e,n,i,o;return e=ui,42===t.charCodeAt(ui)?(n=rn,ui++):(n=X,0===di&&r(on)),n!==X&&(ci=e,n=hn()),e=n,e===X&&(e=ui,n=H(),n!==X?(58===t.charCodeAt(ui)?(i=fn,ui++):(i=X,0===di&&r(dn)),i!==X?(42===t.charCodeAt(ui)?(o=rn,ui++):(o=X,0===di&&r(on)),o!==X?(ci=e,n=pn(n),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e===X&&(e=ui,n=q(),n!==X&&(ci=e,n=mn(n)),e=n)),e}function R(){var e;return t.substr(ui,7)===vn?(e=vn,ui+=7):(e=X,0===di&&r(gn)),e===X&&(t.substr(ui,4)===yn?(e=yn,ui+=4):(e=X,0===di&&r(_n)),e===X&&(t.substr(ui,22)===Vt?(e=Vt,ui+=22):(e=X,0===di&&r(Bt)),e===X&&(t.substr(ui,4)===bn?(e=bn,ui+=4):(e=X,0===di&&r(wn))))),e}function F(){var e,n;if(e=[],xn.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=X,0===di&&r(kn)),n!==X)for(;n!==X;)e.push(n),xn.test(t.charAt(ui))?(n=t.charAt(ui),ui++):(n=X,0===di&&r(kn));else e=X;return e}function U(){var t;return t=F(),t===X&&(t=null),t}function q(){var t,e;return t=ui,e=V(),e===X&&(e=B()),e!==X&&(ci=t,e=En(e)),t=e}function V(){var e,n,i,o;return e=ui,n=H(),n!==X?(58===t.charCodeAt(ui)?(i=fn,ui++):(i=X,0===di&&r(dn)),i!==X?(o=H(),o!==X?(ci=e,n=Cn(n,o),e=n):(ui=e,e=X)):(ui=e,e=X)):(ui=e,e=X),e}function B(){var t,e;return t=ui,e=H(),e!==X&&(ci=t,e=$n(e)),t=e}function H(){var t;return t=Y()}function z(){var e;return Sn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Tn)),e===X&&(95===t.charCodeAt(ui)?(e=Dn,ui++):(e=X,0===di&&r(An)),e===X&&(jn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Pn)),e===X&&(On.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Nn)),e===X&&(Mn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Ln)),e===X&&(In.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Rn)),e===X&&(Fn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Un)),e===X&&(qn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Vn)),e===X&&(Bn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Hn)),e===X&&(zn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Wn)),e===X&&(Yn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Gn)),e===X&&(Zn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Xn)),e===X&&(Jn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(Qn)),e===X&&(Kn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(ti))))))))))))))),e}function W(){var e;return e=z(),e===X&&(45===t.charCodeAt(ui)?(e=Le,ui++):(e=X,0===di&&r(Ie)),e===X&&(46===t.charCodeAt(ui)?(e=te,ui++):(e=X,0===di&&r(ee)),e===X&&(tn.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(en)),e===X&&(ei.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(ni)),e===X&&(ii.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(ri)),e===X&&(oi.test(t.charAt(ui))?(e=t.charAt(ui),ui++):(e=X,0===di&&r(si)))))))),e}function Y(){var t,e,n,i;if(t=ui,e=z(),e!==X){for(n=[],i=W();i!==X;)n.push(i),i=W();n!==X?(ci=t,e=ai(e,n),t=e):(ui=t,t=X)}else ui=t,t=X;return t}var G,Z=arguments.length>1?arguments[1]:{},X={},J={XPath:s},Q=s,K=function(t){return{tree:t,nsPrefixes:gi}},tt="/",et={type:"literal",value:"/",description:'"/"'},nt=function(t){return{type:"/",args:[null,t?t[1]:null]}},it="//",rt={type:"literal",value:"//",description:'"//"'},ot=function(t,e){var n;for(n=0;n<e.length;n++)t=bi(e[n][1],t,e[n][3]);return t},st=function(t,e,n){return vi({type:"step",args:[t,e]},t,n,1)},at="::",ut={type:"literal",value:"::",description:'"::"'},ct=function(t){return t},lt=function(t){return t.length?t:"child"},ht="ancestor-or-self",ft={type:"literal",value:"ancestor-or-self",description:'"ancestor-or-self"'},dt="ancestor",pt={type:"literal",value:"ancestor",description:'"ancestor"'},mt="attribute",vt={type:"literal",value:"attribute",description:'"attribute"'},gt="child",yt={type:"literal",value:"child",description:'"child"'},_t="descendant-or-self",bt={type:"literal",value:"descendant-or-self",description:'"descendant-or-self"'},wt="descendant",xt={type:"literal",value:"descendant",description:'"descendant"'},kt="following-sibling",Et={type:"literal",value:"following-sibling",description:'"following-sibling"'},Ct="following",$t={type:"literal",value:"following",description:'"following"'},St="namespace",Tt={type:"literal",value:"namespace",description:'"namespace"'},Dt="parent",At={type:"literal",value:"parent",description:'"parent"'},jt="preceding-sibling",Pt={type:"literal",value:"preceding-sibling",description:'"preceding-sibling"'},Ot="preceding",Nt={type:"literal",value:"preceding",description:'"preceding"'},Mt="self",Lt={type:"literal",value:"self",description:'"self"'},It="(",Rt={type:"literal",value:"(",description:'"("'},Ft=")",Ut={type:"literal",value:")",description:'")"'},qt=function(t){return{type:"nodeType",args:[t,[]]}},Vt="processing-instruction",Bt={type:"literal",value:"processing-instruction",description:'"processing-instruction"'},Ht=function(t,e){return{type:"nodeType",args:[t,[e]]}},zt=function(t){return t},Wt="[",Yt={type:"literal",value:"[",description:'"["'},Gt="]",Zt={type:"literal",value:"]",description:'"]"'},Xt=function(t){return t},Jt=function(t){return bi("//",null,t)},Qt="..",Kt={type:"literal",value:"..",description:'".."'},te=".",ee={type:"literal",value:".",description:'"."'},ne=function(t){var e={type:"step",args:["self",{type:"nodeType",args:["node",[]]}]};return".."==t&&(e.args[0]="parent"),e},ie="@",re={type:"literal",value:"@",description:'"@"'},oe=function(t){return t?"attribute":""},se=function(t){return t},ae=function(t){return t},ue=function(t){return t},ce=",",le={type:"literal",value:",",description:'","'},he=function(t,e){var n,i=[];if(e)for(i.push(e[1]),n=0;n<e[2].length;n++)i.push(e[2][n][3]);return{type:"function",args:[t,i]}},fe="|",de={type:"literal",value:"|",description:'"|"'},pe=function(t,e){return mi(t,e,1,3)},me=function(t,e){return e?bi(e[1],t,e[3]):t},ve=function(t){return t},ge=function(t,e){return vi(t,"child",e,1)},ye="or",_e={type:"literal",value:"or",description:'"or"'},be="and",we={type:"literal",value:"and",description:'"and"'},xe="=",ke={type:"literal",value:"=",description:'"="'},Ee="!=",Ce={type:"literal",value:"!=",description:'"!="'},$e="<=",Se={type:"literal",value:"<=",description:'"<="'},Te="<",De={type:"literal",value:"<",description:'"<"'},Ae=">=",je={type:"literal",value:">=",description:'">="'},Pe=">",Oe={type:"literal",value:">",description:'">"'},Ne="+",Me={type:"literal",value:"+",description:'"+"'},Le="-",Ie={type:"literal",value:"-",description:'"-"'},Re="div",Fe={type:"literal",value:"div",description:'"div"'},Ue="mod",qe={type:"literal",value:"mod",description:'"mod"'},Ve=function(t){return{type:"*",args:[{type:"number",args:[-1]},t]}},Be='"',He={type:"literal",value:'"',description:'"\\""'},ze=/^[^"]/,We={type:"class",value:'[^"]',description:'[^"]'},Ye=function(t){return{type:"string",args:[t.join("")]}},Ge="'",Ze={type:"literal",value:"'",description:'"\'"'},Xe=/^[^']/,Je={type:"class",value:"[^']",description:"[^']"},Qe=function(t,e){return{type:"number",args:[e?parseFloat(t+"."+e[1]):parseInt(t)]}},Ke=function(t){return{type:"number",args:[parseFloat("."+t)]}},tn=/^[0-9]/,en={type:"class",value:"[0-9]",description:"[0-9]"},nn=function(t){return t.join("")},rn="*",on={type:"literal",value:"*",description:'"*"'},sn=function(t){var e;if(null===pi.args[0])for(e=0;e<_i.length;e++)if(pi.args[1]==_i[e])return!1;return!0},an=function(t){return""===t.args[0]?t={type:t.type,args:[null,t.args[1]]}:yi(t.args[0]),t},un="$",cn={type:"literal",value:"$",description:'"$"'},ln=function(t){return yi(t.args[0]),{type:"$",args:[t]}},hn=function(){return{type:"name",args:[null,null]}},fn=":",dn={type:"literal",value:":",description:'":"'},pn=function(t){return yi(t),{type:"name",args:[t,null]}},mn=function(t){return yi(t.args[0]),t},vn="comment",gn={type:"literal",value:"comment",description:'"comment"'},yn="text",_n={type:"literal",value:"text",description:'"text"'},bn="node",wn={type:"literal",value:"node",description:'"node"'},xn=/^[ \t\r\n]/,kn={type:"class",value:"[\\u0020\\u0009\\u000D\\u000A]",description:"[\\u0020\\u0009\\u000D\\u000A]"},En=function(t){return pi=t,t},Cn=function(t,e){return{type:"name",args:[t,e]}},$n=function(t){return{type:"name",args:[null,t]}},Sn=/^[A-Z]/,Tn={type:"class",value:"[A-Z]",description:"[A-Z]"},Dn="_",An={type:"literal",value:"_",description:'"_"'},jn=/^[a-z]/,Pn={type:"class",value:"[a-z]",description:"[a-z]"},On=/^[\xC0-\xD6]/,Nn={type:"class",value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},Mn=/^[\xD8-\xF6]/,Ln={type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},In=/^[\xF8-\u02FF]/,Rn={type:"class",value:"[\\u00F8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},Fn=/^[\u0370-\u037D]/,Un={type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},qn=/^[\u037F-\u1FFF]/,Vn={type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},Bn=/^[\u200C-\u200D]/,Hn={type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},zn=/^[\u2070-\u218F]/,Wn={type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},Yn=/^[\u2C00-\u2FEF]/,Gn={type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},Zn=/^[\u3001-\uD7FF]/,Xn={type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},Jn=/^[\uF900-\uFDCF]/,Qn={type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},Kn=/^[\uFDF0-\uFFFD]/,ti={type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},ei=/^[\xB7]/,ni={type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},ii=/^[\u0300-\u036F]/,ri={type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},oi=/^[\u203F-\u2040]/,si={type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},ai=function(t,e){return t+e.join("")},ui=0,ci=0,li=[{line:1,column:1,seenCR:!1}],hi=0,fi=[],di=0;if("startRule"in Z){if(!(Z.startRule in J))throw new Error("Can't start parsing from rule \""+Z.startRule+'".');Q=J[Z.startRule]}var pi,mi=function(t,e,n,i){var r,o,s={type:"",args:[]};for(s.args.push(t),r=0;r<e.length;r++){switch(typeof n){case"string":s.type=n;break;case"object":for(s.type=e[r][n[0]],o=1;o<n.length;o++)s.type=s.type[n[o]];break;default:s.type=e[r][n]}s.args.push("undefined"==typeof i?e[r]:e[r][i]),s={type:"",args:[s]}}return s.args[0]},vi=function(t,e,n,i){var r,o=[];if(n.length<1)return t;for(r=0;r<n.length;r++)o.push(n[r][i]);return{type:"predicate",args:[e,t,o]}},gi=[],yi=function(t){var e,n=!1;if(null!==t){for(e=0;e<gi.length;e++)if(gi[e]===t){n=!0;break}n||gi.push(t)}},_i=["comment","text","processing-instruction","node"],bi=function(t,e,n){return"/"==t?{type:"/",args:[e,n]}:{type:"/",args:[{type:"/",args:[e,{type:"step",args:["descendant-or-self",{type:"nodeType",args:["node",[]]}]}]},n]}};if(G=Q(),G!==X&&ui===t.length)return G;throw G!==X&&ui<t.length&&r({type:"end",description:"end of input"}),o(null,fi,hi<t.length?t.charAt(hi):null,hi<t.length?i(hi,hi+1):i(hi,hi))}return t(e,Error),{SyntaxError:e,parse:n}}(),function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof e&&e.exports?e.exports=n():t.returnExports=n()}(this,function(){return i})},{}],66:[function(t,e,n){Date.prototype.toISOLocalString=function(){return"Invalid Date"===this.toString()?this.toString():new Date(this.getTime()-60*this.getTimezoneOffset()*1e3).toISOString().replace("Z",this.getTimezoneOffsetAsTime())},Date.prototype.getTimezoneOffsetAsTime=function(){var t,e,n,i,r=function(t){return t<10?"0"+t:t};return"Invalid Date"===this.toString()?this.toString():(t=this.getTimezoneOffset(),i=t<0?"+":"-",e=r(Math.abs(Math.floor(t/60))),n=r(Math.abs(Math.floor(t%60))),i+e+":"+n)}},{}],67:[function(t,e,n){function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=b(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function r(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function o(t,e,n){if(e)t.call(n);else for(var i=t.length,r=m(t,i),o=0;o<i;++o)r[o].call(n)}function s(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,o=m(t,r),s=0;s<r;++s)o[s].call(n,i)}function a(t,e,n,i,r){if(e)t.call(n,i,r);else for(var o=t.length,s=m(t,o),a=0;a<o;++a)s[a].call(n,i,r)}function u(t,e,n,i,r,o){if(e)t.call(n,i,r,o);else for(var s=t.length,a=m(t,s),u=0;u<s;++u)a[u].call(n,i,r,o)}function c(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,o=m(t,r),s=0;s<r;++s)o[s].apply(n,i)}function l(t,e,n,i){var o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]):(s=t._events=b(null),t._eventsCount=0),a){if("function"==typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),!a.warned&&(o=r(t),o&&o>0&&a.length>o)){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else a=s[e]=n,++t._eventsCount;return t}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];
this.listener.apply(this.target,t)}}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=x.call(h,i);return r.listener=n,i.wrapFn=r,r}function d(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function p(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function v(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function g(t){var e=function(){};return e.prototype=t,new e}function y(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n}function _(t){var e=this;return function(){return e.apply(t,arguments)}}var b=Object.create||g,w=Object.keys||y,x=Function.prototype.bind||_;e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var k,E=10;try{var C={};Object.defineProperty&&Object.defineProperty(C,"x",{value:0}),k=0===C.x}catch($){k=!1}k?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(t){if("number"!=typeof t||t<0||t!==t)throw new TypeError('"defaultMaxListeners" must be a positive number');E=t}}):i.defaultMaxListeners=E,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return r(this)},i.prototype.emit=function(t){var e,n,i,r,l,h,f="error"===t;if(h=this._events)f=f&&null==h.error;else if(!f)return!1;if(f){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var d=new Error('Unhandled "error" event. ('+e+")");throw d.context=e,d}if(n=h[t],!n)return!1;var p="function"==typeof n;switch(i=arguments.length){case 1:o(n,p,this);break;case 2:s(n,p,this,arguments[1]);break;case 3:a(n,p,this,arguments[1],arguments[2]);break;case 4:u(n,p,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),l=1;l<i;l++)r[l-1]=arguments[l];c(n,p,this,r)}return!0},i.prototype.addListener=function(t,e){return l(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return l(this,t,e,!0)},i.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[t],!n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=b(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():p(n,r),1===n.length&&(i[t]=n[0]),i.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=b(null),this._eventsCount=0):n[t]&&(0===--this._eventsCount?this._events=b(null):delete n[t]),this;if(0===arguments.length){var r,o=w(n);for(i=0;i<o.length;++i)r=o[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=b(null),this._eventsCount=0,this}if(e=n[t],"function"==typeof e)this.removeListener(t,e);else if(e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},i.prototype.listeners=function(t){var e,n,i=this._events;return i?(e=i[t],n=e?"function"==typeof e?[e.listener||e]:v(e):[]):n=[],n},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],68:[function(t,e,n){"use strict";function i(t,e){return e={exports:{}},t(e,e.exports),e.exports}function r(t){return p.test(t)}function o(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r(t)?t.substr(6):"";return"jpeg"===n&&(n="jpg"),n&&e&&(n="."+n),n}function s(t,e,n){var i="",r=void 0;for(n+=e,r=e;r<n;r+=1)i+=m(t.getUint8(r));return i}function a(t,e){var n=new Uint8Array(t),i=n.length,r="",o=void 0;for(o=0;o<i;o+=1)r+=m(n[o]);return"data:"+e+";base64,"+g(r)}function u(t){var e=new DataView(t),n=void 0,i=void 0,r=void 0,o=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var a=e.byteLength,u=2;u<a;){if(255===e.getUint8(u)&&225===e.getUint8(u+1)){r=u;break}u+=1}if(r){var c=r+4,l=r+10;if("Exif"===s(e,c,4)){var h=e.getUint16(l);if(i=18761===h,(i||19789===h)&&42===e.getUint16(l+2,i)){var f=e.getUint32(l+4,i);f>=8&&(o=l+f)}}}if(o){var d=e.getUint16(o,i),p=void 0,m=void 0;for(m=0;m<d;m+=1)if(p=o+12*m+2,274===e.getUint16(p,i)){p+=8,n=e.getUint16(p,i),e.setUint16(p,1,i);break}}return n}function c(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}var l=i(function(t){!function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),r=i&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(i||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,a,u,c,l,h,f,d;if(e=t.match(s),!e)throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),a=!!e[4],u=t.slice(e[0].length),c=a?atob(u):decodeURIComponent(u),l=new ArrayBuffer(c.length),h=new Uint8Array(l),f=0;f<c.length;f+=1)h[f]=c.charCodeAt(f);return i?new Blob([r?h:l],{type:n}):(d=new o,d.append(l),d.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,i){var r=this;setTimeout(function(){t(i&&n.toDataURL&&a?a(r.toDataURL(e,i)):r.mozGetAsFile("blob",e))})}:n.toDataURL&&a&&(n.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(a(i.toDataURL(e,n)))})})),t.exports?t.exports=a:e.dataURLtoBlob=a}(window)}),h=Object.prototype.toString,f=function(t){return t instanceof Blob||"[object Blob]"===h.call(t)},d={checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},p=/^image\/.+$/,m=String.fromCharCode,v=window,g=v.btoa,y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w=window,x=w.ArrayBuffer,k=w.FileReader,E=window.URL||window.webkitURL,C=/\.\w+$/,$=function(){function t(e,n){y(this,t),this.result=null,e&&this.compress(e,n)}return _(t,[{key:"compress",value:function(t,e){var n=this,i=new Image;return e=b({},d,e),x||(e.checkOrientation=!1),new Promise(function(n,i){if(!f(t))return void i(new Error("The first argument must be a File or Blob object."));var o=t.type;if(!r(o))return void i(new Error("The first argument must be an image File or Blob object."));if(!E&&!k)return void i(new Error("The current browser does not support image compression."));if(E&&!e.checkOrientation)n(E.createObjectURL(t));else if(k){var s=new k,l=e.checkOrientation&&"image/jpeg"===o;s.onload=function(t){var e=t.target,i=e.result;n(l?b({url:a(i,o)},c(u(i))):{url:i})},s.onabort=i,s.onerror=i,l?s.readAsArrayBuffer(t):s.readAsDataURL(t)}}).then(function(e){return new Promise(function(n,r){i.onload=function(){return n(b({},e,{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=r,i.onerror=r,i.alt=t.name,i.src=e.url})}).then(function(o){var s=o.naturalWidth,a=o.naturalHeight,u=o.rotate,c=void 0===u?0:u,h=o.scaleX,f=void 0===h?1:h,d=o.scaleY,p=void 0===d?1:d;return new Promise(function(o){var u=document.createElement("canvas"),h=u.getContext("2d"),d=s/a,m=Math.max(e.maxWidth,0)||1/0,v=Math.max(e.maxHeight,0)||1/0,g=Math.max(e.minWidth,0)||0,y=Math.max(e.minHeight,0)||0,_=s,b=a;if(m<1/0&&v<1/0?v*d>m?v=m/d:m=v*d:m<1/0?v=m/d:v<1/0&&(m=v*d),g>0&&y>0?y*d>g?y=g/d:g=y*d:g>0?y=g/d:y>0&&(g=y*d),e.width>0){var w=e;_=w.width,b=_/d}else if(e.height>0){var x=e;b=x.height,_=b*d}_=Math.min(Math.max(_,g),m),b=Math.min(Math.max(b,y),v);var k=-_/2,E=-b/2,C=_,$=b;if(Math.abs(c)%180===90){var S={width:b,height:_};_=S.width,b=S.height}u.width=_,u.height=b,r(e.mimeType)||(e.mimeType=t.type);var T="transparent";t.size>e.convertSize&&"image/png"===e.mimeType&&(T="#fff",e.mimeType="image/jpeg"),h.fillStyle=T,h.fillRect(0,0,_,b),h.save(),h.translate(_/2,b/2),h.rotate(c*Math.PI/180),h.scale(f,p),e.beforeDraw&&e.beforeDraw.call(n,h,u),h.drawImage(i,Math.floor(k),Math.floor(E),Math.floor(C),Math.floor($)),e.drew&&e.drew.call(n,h,u),h.restore();var D=function(t){o({naturalWidth:s,naturalHeight:a,result:t})};u.toBlob?u.toBlob(D,e.mimeType,e.quality):D(l(u.toDataURL(e.mimeType,e.quality)))})}).then(function(r){var s=r.naturalWidth,a=r.naturalHeight,u=r.result;if(E&&E.revokeObjectURL(i.src),u)if(u.size>t.size&&e.mimeType===t.type&&!(e.width>s||e.height>a||e.minWidth>s||e.minHeight>a))u=t;else{var c=new Date;u.lastModified=c.getTime(),u.lastModifiedDate=c,u.name=t.name,u.name&&u.type!==t.type&&(u.name=u.name.replace(C,o(u.type)))}else u=t;return n.result=u,e.success&&e.success.call(n,u),Promise.resolve(u)})["catch"](function(t){if(!e.error)throw t;e.error.call(n,t)})}}]),t}();e.exports=$},{}],69:[function(t,e,n){(function(t){"use strict";function n(){l=!0;for(var t,e,n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}l=!1}function i(t){1!==h.push(t)||l||r()}var r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var l,h=[];e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],71:[function(t,e,n){!function(n){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n("undefined"!=typeof e&&e.exports?t("jquery"):jQuery)}(function(t){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=l),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var i=t(this),r=i.data(T);r||(r=new n(this,e),i.data(T,r))})}function n(e,n){function i(e){if(!(ct()||t(e.target).closest(n.excludedElements,zt).length>0)){var i=e.originalEvent?e.originalEvent:e;if(!i.pointerType||"mouse"!=i.pointerType||0!=n.fallbackToMouseEvents){var r,o=i.touches,s=o?o[0]:i;return Wt=w,o?Yt=o.length:n.preventDefaultEvents!==!1&&e.preventDefault(),Mt=0,Lt=null,It=null,Bt=null,Rt=0,Ft=0,Ut=0,qt=1,Vt=0,Ht=vt(),at(),ht(0,s),!o||Yt===n.fingers||n.fingers===_||B()?(Zt=Ct(),2==Yt&&(ht(1,o[1]),Ft=Ut=_t(Gt[0].start,Gt[1].start)),(n.swipeStatus||n.pinchStatus)&&(r=M(i,Wt))):r=!1,r===!1?(Wt=E,M(i,Wt),r):(n.hold&&(ee=setTimeout(t.proxy(function(){zt.trigger("hold",[i.target]),n.hold&&(r=n.hold.call(zt,i,i.target))},this),n.longTapThreshold)),lt(!0),null)}}}function D(t){var e=t.originalEvent?t.originalEvent:t;if(Wt!==k&&Wt!==E&&!ut()){var i,r=e.touches,o=r?r[0]:e,s=ft(o);if(Xt=Ct(),r&&(Yt=r.length),n.hold&&clearTimeout(ee),Wt=x,2==Yt&&(0==Ft?(ht(1,r[1]),Ft=Ut=_t(Gt[0].start,Gt[1].start)):(ft(r[1]),Ut=_t(Gt[0].end,Gt[1].end),Bt=wt(Gt[0].end,Gt[1].end)),qt=bt(Ft,Ut),Vt=Math.abs(Ft-Ut)),Yt===n.fingers||n.fingers===_||!r||B()){if(Lt=Et(s.start,s.end),It=Et(s.last,s.end),q(t,It),Mt=xt(s.start,s.end),Rt=yt(),pt(Lt,Mt),i=M(e,Wt),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var a=!0;if(n.triggerOnTouchLeave){var u=$t(this);a=St(s.end,u)}!n.triggerOnTouchEnd&&a?Wt=N(x):n.triggerOnTouchLeave&&!a&&(Wt=N(k)),Wt!=E&&Wt!=k||M(e,Wt)}}else Wt=E,M(e,Wt);i===!1&&(Wt=E,M(e,Wt))}}function A(t){var e=t.originalEvent?t.originalEvent:t,i=e.touches;if(i){if(i.length&&!ut())return st(e),!0;if(i.length&&ut())return!0}return ut()&&(Yt=Qt),Xt=Ct(),Rt=yt(),R()||!I()?(Wt=E,M(e,Wt)):n.triggerOnTouchEnd||n.triggerOnTouchEnd===!1&&Wt===x?(n.preventDefaultEvents!==!1&&t.cancelable!==!1&&t.preventDefault(),Wt=k,M(e,Wt)):!n.triggerOnTouchEnd&&X()?(Wt=k,L(e,Wt,p)):Wt===x&&(Wt=E,M(e,Wt)),lt(!1),null}function j(){Yt=0,Xt=0,Zt=0,Ft=0,Ut=0,qt=1,at(),lt(!1)}function P(t){var e=t.originalEvent?t.originalEvent:t;n.triggerOnTouchLeave&&(Wt=N(k),M(e,Wt))}function O(){zt.unbind(At,i),zt.unbind(Nt,j),zt.unbind(jt,D),zt.unbind(Pt,A),Ot&&zt.unbind(Ot,P),lt(!1)}function N(t){var e=t,i=U(),r=I(),o=R();return!i||o?e=E:!r||t!=x||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!r&&t==k&&n.triggerOnTouchLeave&&(e=E):e=k,e}function M(t,e){var n,i=t.touches;return(Y()||W())&&(n=L(t,e,f)),(H()||B())&&n!==!1&&(n=L(t,e,d)),rt()&&n!==!1?n=L(t,e,m):ot()&&n!==!1?n=L(t,e,v):it()&&n!==!1&&(n=L(t,e,p)),e===E&&j(t),e===k&&(i?i.length||j(t):j(t)),n}function L(e,i,l){var h;if(l==f){if(zt.trigger("swipeStatus",[i,Lt||null,Mt||0,Rt||0,Yt,Gt,It]),n.swipeStatus&&(h=n.swipeStatus.call(zt,e,i,Lt||null,Mt||0,Rt||0,Yt,Gt,It),h===!1))return!1;if(i==k&&z()){if(clearTimeout(te),clearTimeout(ee),zt.trigger("swipe",[Lt,Mt,Rt,Yt,Gt,It]),n.swipe&&(h=n.swipe.call(zt,e,Lt,Mt,Rt,Yt,Gt,It),h===!1))return!1;switch(Lt){case r:zt.trigger("swipeLeft",[Lt,Mt,Rt,Yt,Gt,It]),n.swipeLeft&&(h=n.swipeLeft.call(zt,e,Lt,Mt,Rt,Yt,Gt,It));break;case o:zt.trigger("swipeRight",[Lt,Mt,Rt,Yt,Gt,It]),n.swipeRight&&(h=n.swipeRight.call(zt,e,Lt,Mt,Rt,Yt,Gt,It));break;case s:zt.trigger("swipeUp",[Lt,Mt,Rt,Yt,Gt,It]),n.swipeUp&&(h=n.swipeUp.call(zt,e,Lt,Mt,Rt,Yt,Gt,It));break;case a:zt.trigger("swipeDown",[Lt,Mt,Rt,Yt,Gt,It]),n.swipeDown&&(h=n.swipeDown.call(zt,e,Lt,Mt,Rt,Yt,Gt,It))}}}if(l==d){if(zt.trigger("pinchStatus",[i,Bt||null,Vt||0,Rt||0,Yt,qt,Gt]),n.pinchStatus&&(h=n.pinchStatus.call(zt,e,i,Bt||null,Vt||0,Rt||0,Yt,qt,Gt),h===!1))return!1;if(i==k&&V())switch(Bt){case u:zt.trigger("pinchIn",[Bt||null,Vt||0,Rt||0,Yt,qt,Gt]),n.pinchIn&&(h=n.pinchIn.call(zt,e,Bt||null,Vt||0,Rt||0,Yt,qt,Gt));break;case c:zt.trigger("pinchOut",[Bt||null,Vt||0,Rt||0,Yt,qt,Gt]),n.pinchOut&&(h=n.pinchOut.call(zt,e,Bt||null,Vt||0,Rt||0,Yt,qt,Gt))}}return l==p?i!==E&&i!==k||(clearTimeout(te),clearTimeout(ee),J()&&!tt()?(Kt=Ct(),te=setTimeout(t.proxy(function(){Kt=null,zt.trigger("tap",[e.target]),n.tap&&(h=n.tap.call(zt,e,e.target))},this),n.doubleTapThreshold)):(Kt=null,zt.trigger("tap",[e.target]),n.tap&&(h=n.tap.call(zt,e,e.target)))):l==m?i!==E&&i!==k||(clearTimeout(te),clearTimeout(ee),Kt=null,zt.trigger("doubletap",[e.target]),n.doubleTap&&(h=n.doubleTap.call(zt,e,e.target))):l==v&&(i!==E&&i!==k||(clearTimeout(te),Kt=null,zt.trigger("longtap",[e.target]),n.longTap&&(h=n.longTap.call(zt,e,e.target)))),h}function I(){var t=!0;return null!==n.threshold&&(t=Mt>=n.threshold),t}function R(){var t=!1;return null!==n.cancelThreshold&&null!==Lt&&(t=mt(Lt)-Mt>=n.cancelThreshold),t}function F(){return null===n.pinchThreshold||Vt>=n.pinchThreshold}function U(){var t;return t=!(n.maxTimeThreshold&&Rt>=n.maxTimeThreshold)}function q(t,e){if(n.preventDefaultEvents!==!1)if(n.allowPageScroll===l)t.preventDefault();else{var i=n.allowPageScroll===h;switch(e){case r:(n.swipeLeft&&i||!i&&n.allowPageScroll!=g)&&t.preventDefault();break;case o:(n.swipeRight&&i||!i&&n.allowPageScroll!=g)&&t.preventDefault();break;case s:(n.swipeUp&&i||!i&&n.allowPageScroll!=y)&&t.preventDefault();break;case a:(n.swipeDown&&i||!i&&n.allowPageScroll!=y)&&t.preventDefault();break;case l:}}}function V(){var t=G(),e=Z(),n=F();return t&&e&&n}function B(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function H(){return!(!V()||!B())}function z(){var t=U(),e=I(),n=G(),i=Z(),r=R(),o=!r&&i&&n&&e&&t;return o}function W(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function Y(){return!(!z()||!W())}function G(){return Yt===n.fingers||n.fingers===_||!C}function Z(){return 0!==Gt[0].end.x}function X(){return!!n.tap}function J(){return!!n.doubleTap}function Q(){return!!n.longTap}function K(){if(null==Kt)return!1;var t=Ct();return J()&&t-Kt<=n.doubleTapThreshold}function tt(){return K()}function et(){return(1===Yt||!C)&&(isNaN(Mt)||Mt<n.threshold)}function nt(){return Rt>n.longTapThreshold&&Mt<b}function it(){return!(!et()||!X())}function rt(){return!(!K()||!J())}function ot(){return!(!nt()||!Q())}function st(t){Jt=Ct(),Qt=t.touches.length+1}function at(){Jt=0,Qt=0}function ut(){var t=!1;if(Jt){var e=Ct()-Jt;e<=n.fingerReleaseThreshold&&(t=!0)}return t}function ct(){return!(zt.data(T+"_intouch")!==!0)}function lt(t){zt&&(t===!0?(zt.bind(jt,D),zt.bind(Pt,A),Ot&&zt.bind(Ot,P)):(zt.unbind(jt,D,!1),zt.unbind(Pt,A,!1),Ot&&zt.unbind(Ot,P,!1)),zt.data(T+"_intouch",t===!0))}function ht(t,e){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=e.pageX||e.clientX,n.start.y=n.last.y=n.end.y=e.pageY||e.clientY,Gt[t]=n,n}function ft(t){var e=void 0!==t.identifier?t.identifier:0,n=dt(e);return null===n&&(n=ht(e,t)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=t.pageX||t.clientX,n.end.y=t.pageY||t.clientY,n}function dt(t){return Gt[t]||null}function pt(t,e){t!=l&&(e=Math.max(e,mt(t)),Ht[t].distance=e)}function mt(t){if(Ht[t])return Ht[t].distance}function vt(){var t={};return t[r]=gt(r),t[o]=gt(o),t[s]=gt(s),t[a]=gt(a),t}function gt(t){return{direction:t,distance:0}}function yt(){return Xt-Zt}function _t(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.round(Math.sqrt(n*n+i*i))}function bt(t,e){var n=e/t*1;return n.toFixed(2)}function wt(){return qt<1?c:u}function xt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function kt(t,e){var n=t.x-e.x,i=e.y-t.y,r=Math.atan2(i,n),o=Math.round(180*r/Math.PI);return o<0&&(o=360-Math.abs(o)),o}function Et(t,e){if(Tt(t,e))return l;var n=kt(t,e);return n<=45&&n>=0?r:n<=360&&n>=315?r:n>=135&&n<=225?o:n>45&&n<135?a:s}function Ct(){var t=new Date;return t.getTime()}function $t(e){e=t(e);var n=e.offset(),i={left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()};return i}function St(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}function Tt(t,e){return t.x==e.x&&t.y==e.y}var n=t.extend({},n),Dt=C||S||!n.fallbackToMouseEvents,At=Dt?S?$?"MSPointerDown":"pointerdown":"touchstart":"mousedown",jt=Dt?S?$?"MSPointerMove":"pointermove":"touchmove":"mousemove",Pt=Dt?S?$?"MSPointerUp":"pointerup":"touchend":"mouseup",Ot=Dt?S?"mouseleave":null:"mouseleave",Nt=S?$?"MSPointerCancel":"pointercancel":"touchcancel",Mt=0,Lt=null,It=null,Rt=0,Ft=0,Ut=0,qt=1,Vt=0,Bt=0,Ht=null,zt=t(e),Wt="start",Yt=0,Gt={},Zt=0,Xt=0,Jt=0,Qt=0,Kt=0,te=null,ee=null;try{zt.bind(At,i),zt.bind(Nt,j)}catch(ne){t.error("events not supported "+At+","+Nt+" on jQuery.swipe")}this.enable=function(){return this.disable(),zt.bind(At,i),zt.bind(Nt,j),zt},this.disable=function(){return O(),zt},this.destroy=function(){O(),zt.data(T,null),zt=null},this.option=function(e,i){if("object"==typeof e)n=t.extend(n,e);else if(void 0!==n[e]){if(void 0===i)return n[e];n[e]=i}else{if(!e)return n;t.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var i="1.6.18",r="left",o="right",s="up",a="down",u="in",c="out",l="none",h="auto",f="swipe",d="pinch",p="tap",m="doubletap",v="longtap",g="horizontal",y="vertical",_="all",b=10,w="start",x="move",k="end",E="cancel",C="ontouchstart"in window,$=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!C,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!C,T="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};t.fn.swipe=function(n){var i=t(this),r=i.data(T);if(r&&"string"==typeof n){if(r[n])return r[n].apply(r,Array.prototype.slice.call(arguments,1));t.error("Method "+n+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof n)r.option.apply(r,arguments);else if(!(r||"object"!=typeof n&&n))return e.apply(this,arguments);return i},t.fn.swipe.version=i,t.fn.swipe.defaults=D,t.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:x,PHASE_END:k,PHASE_CANCEL:E},t.fn.swipe.directions={LEFT:r,RIGHT:o,UP:s,DOWN:a,IN:u,OUT:c},t.fn.swipe.pageScroll={NONE:l,HORIZONTAL:g,VERTICAL:y,AUTO:h},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:_}})},{jquery:72}],72:[function(t,e,n){!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){e=e||st;var i,r=e.createElement("script");if(r.text=t,n)for(i in bt)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[dt.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!yt(t)&&!_t(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return yt(e)?xt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?xt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?xt.grep(t,function(t){return ht.call(e,t)>-1!==n}):xt.filter(e,t,n)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return xt.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function c(t){return t}function l(t){throw t}function h(t,e,n,i){var r;try{t&&yt(r=t.promise)?r.call(t).done(e).fail(n):t&&yt(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function f(){st.removeEventListener("DOMContentLoaded",f),t.removeEventListener("load",f),xt.ready()}function d(t,e){return e.toUpperCase()}function p(t){return t.replace(Rt,"ms-").replace(Ft,d)}function m(){this.expando=xt.expando+m.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Bt.test(t)?JSON.parse(t):t)}function g(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ht,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=v(n)}catch(r){}Vt.set(t,e,n)}else n=void 0;return n}function y(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return xt.css(t,e,"")},u=a(),c=n&&n[3]||(xt.cssNumber[e]?"":"px"),l=(xt.cssNumber[e]||"px"!==c&&+u)&&Wt.exec(xt.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)xt.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l=2*l,xt.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}function _(t){var e,n=t.ownerDocument,i=t.nodeName,r=Xt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=xt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Xt[i]=r,r)}function b(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=qt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Gt(i)&&(r[o]=_(i))):"none"!==n&&(r[o]="none",qt.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function w(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?xt.merge([t],n):n}function x(t,e){for(var n=0,i=t.length;n<i;n++)qt.set(t[n],"globalEval",!e||qt.get(e[n],"globalEval"))}function k(t,e,n,r,o){for(var s,a,u,c,l,h,f=e.createDocumentFragment(),d=[],p=0,m=t.length;p<m;p++)if(s=t[p],s||0===s)if("object"===i(s))xt.merge(d,s.nodeType?[s]:s);else if(ee.test(s)){for(a=a||f.appendChild(e.createElement("div")),u=(Qt.exec(s)||["",""])[1].toLowerCase(),c=te[u]||te._default,a.innerHTML=c[1]+xt.htmlPrefilter(s)+c[2],h=c[0];h--;)a=a.lastChild;xt.merge(d,a.childNodes),a=f.firstChild,a.textContent=""}else d.push(e.createTextNode(s));for(f.textContent="",p=0;s=d[p++];)if(r&&xt.inArray(s,r)>-1)o&&o.push(s);else if(l=xt.contains(s.ownerDocument,s),a=w(f.appendChild(s),"script"),l&&x(a),n)for(h=0;s=a[h++];)Kt.test(s.type||"")&&n.push(s);return f}function E(){return!0}function C(){return!1}function $(){try{return st.activeElement}catch(t){}}function S(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)S(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=C;else if(!r)return t;return 1===o&&(s=r,r=function(t){return xt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=xt.guid++)),t.each(function(){xt.event.add(this,e,r,i,n)})}function T(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")?xt(t).children("tbody")[0]||t:t}function D(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function A(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function j(t,e){var n,i,r,o,s,a,u,c;if(1===e.nodeType){if(qt.hasData(t)&&(o=qt.access(t),s=qt.set(e,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)xt.event.add(e,r,c[r][n])}Vt.hasData(t)&&(a=Vt.access(t),u=xt.extend({},a),Vt.set(e,u))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Jt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function O(t,e,i,r){e=ct.apply([],e);var o,s,a,u,c,l,h=0,f=t.length,d=f-1,p=e[0],m=yt(p);if(m||f>1&&"string"==typeof p&&!gt.checkClone&&ue.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),O(o,e,i,r)});if(f&&(o=k(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=xt.map(w(o,"script"),D),u=a.length;h<f;h++)c=o,h!==d&&(c=xt.clone(c,!0,!0),u&&xt.merge(a,w(c,"script"))),i.call(t[h],c,h);if(u)for(l=a[a.length-1].ownerDocument,xt.map(a,A),h=0;h<u;h++)c=a[h],Kt.test(c.type||"")&&!qt.access(c,"globalEval")&&xt.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?xt._evalUrl&&xt._evalUrl(c.src):n(c.textContent.replace(ce,""),l,c))}return t}function N(t,e,n){for(var i,r=e?xt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||xt.cleanData(w(i)),i.parentNode&&(n&&xt.contains(i.ownerDocument,i)&&x(w(i,"script")),i.parentNode.removeChild(i));return t}function M(t,e,n){var i,r,o,s,a=t.style;return n=n||he(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||xt.contains(t.ownerDocument,t)||(s=xt.style(t,e)),!gt.pixelBoxStyles()&&le.test(s)&&fe.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function I(t){if(t in ye)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ge.length;n--;)if(t=ge[n]+e,t in ye)return t}function R(t){var e=xt.cssProps[t];return e||(e=xt.cssProps[t]=I(t)||t),e}function F(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function U(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=xt.css(t,n+Yt[s],!0,r)),i?("content"===n&&(u-=xt.css(t,"padding"+Yt[s],!0,r)),"margin"!==n&&(u-=xt.css(t,"border"+Yt[s]+"Width",!0,r))):(u+=xt.css(t,"padding"+Yt[s],!0,r),"padding"!==n?u+=xt.css(t,"border"+Yt[s]+"Width",!0,r):a+=xt.css(t,"border"+Yt[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function q(t,e,n){var i=he(t),r=M(t,e,i),o="border-box"===xt.css(t,"boxSizing",!1,i),s=o;if(le.test(r)){if(!n)return r;r="auto"}return s=s&&(gt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===xt.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),r=parseFloat(r)||0,r+U(t,e,n||(o?"border":"content"),s,i,r)+"px"}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function B(){be&&(st.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(B):t.setTimeout(B,xt.fx.interval),xt.fx.tick())}function H(){return t.setTimeout(function(){_e=void 0}),_e=Date.now()}function z(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Yt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function W(t,e,n){for(var i,r=(Z.tweeners[e]||[]).concat(Z.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e,n){var i,r,o,s,a,u,c,l,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&Gt(t),v=qt.get(t,"fxshow");n.queue||(s=xt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,xt.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],we.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}d[i]=v&&v[i]||xt.style(t,i)}if(u=!xt.isEmptyObject(e),u||!xt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=v&&v.display,null==c&&(c=qt.get(t,"display")),l=xt.css(t,"display"),"none"===l&&(c?l=c:(b([t],!0),c=t.style.display||c,l=xt.css(t,"display"),b([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===xt.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(i in d)u||(v?"hidden"in v&&(m=v.hidden):v=qt.access(t,"fxshow",{display:c}),o&&(v.hidden=!m),m&&b([t],!0),f.done(function(){m||b([t]),qt.remove(t,"fxshow");for(i in d)xt.style(t,i,d[i])})),u=W(m?v[i]:0,i,f),i in v||(v[i]=u.start,m&&(u.end=u.start,u.start=0))}}function G(t,e){var n,i,r,o,s;for(n in t)if(i=p(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=xt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function Z(t,e,n){var i,r,o=0,s=Z.prefilters.length,a=xt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=_e||H(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(o);
return a.notifyWith(t,[c,o,n]),o<1&&u?n:(u||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:xt.extend({},e),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},n),originalProperties:e,originalOptions:n,startTime:_e||H(),duration:n.duration,tweens:[],createTween:function(e,n){var i=xt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(G(l,c.opts.specialEasing);o<s;o++)if(i=Z.prefilters[o].call(c,t,l,c.opts))return yt(i.stop)&&(xt._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return xt.map(l,W,c),yt(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),xt.fx.timer(xt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}function X(t){var e=t.match(Nt)||[];return e.join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Nt)||[]:[]}function K(t,e,n,r){var o;if(Array.isArray(e))xt.each(e,function(e,i){n||Oe.test(t)?r(t,i):K(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==i(e))r(t,e);else for(o in e)K(t+"["+o+"]",e[o],n,r)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Nt)||[];if(yt(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function et(t,e,n,i){function r(a){var u;return o[a]=!0,xt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),u}var o={},s=t===ze;return r(e.dataTypes[0])||!o["*"]&&r("*")}function nt(t,e){var n,i,r=xt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&xt.extend(!0,t,i),t}function it(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function rt(t,e,n,i){var r,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var ot=[],st=t.document,at=Object.getPrototypeOf,ut=ot.slice,ct=ot.concat,lt=ot.push,ht=ot.indexOf,ft={},dt=ft.toString,pt=ft.hasOwnProperty,mt=pt.toString,vt=mt.call(Object),gt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_t=function(t){return null!=t&&t===t.window},bt={type:!0,src:!0,noModule:!0},wt="3.3.1",xt=function(t,e){return new xt.fn.init(t,e)},kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xt.fn=xt.prototype={jquery:wt,constructor:xt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=xt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return xt.each(this,t)},map:function(t){return this.pushStack(xt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:lt,sort:ot.sort,splice:ot.splice},xt.extend=xt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||yt(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(xt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&xt.isPlainObject(n)?n:{},s[e]=xt.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},xt.extend({expando:"jQuery"+(wt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=at(t))||(n=pt.call(e,"constructor")&&e.constructor,"function"==typeof n&&mt.call(n)===vt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){n(t)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(kt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?xt.merge(n,"string"==typeof t?[t]:t):lt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,o,s=0,a=[];if(r(t))for(i=t.length;s<i;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return ct.apply([],a)},guid:1,support:gt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=ot[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var Et=function(t){function e(t,e,n,i){var r,o,s,a,u,c,l,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:q)!==O&&P(e),e=e||O,M)){if(11!==p&&(u=gt.exec(t)))if(r=u[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&F(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==p)f=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=U),c=$(t),o=c.length;o--;)c[o]="#"+a+" "+d(c[o]);l=c.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(l)try{return Q.apply(n,f.querySelectorAll(l)),n}catch(m){}finally{a===U&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[U]=!0,t}function r(t){var e=O.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Et(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=B++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var c,l,h,f=[V,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(h=e[U]||(e[U]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=l[o])&&c[0]===V&&c[1]===a)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function v(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function y(t,e,n,r,o,s){return r&&!r[U]&&(r=y(r)),o&&!o[U]&&(o=y(o,s)),i(function(i,s,a,u){var c,l,h,f=[],d=[],p=s.length,m=i||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:g(m,f,t,a,u),_=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,_,a,u),r)for(c=g(_,d),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(_[d[l]]=!(y[d[l]]=h));if(i){if(o||t){if(o){for(c=[],l=_.length;l--;)(h=_[l])&&c.push(y[l]=h);o(null,_=[],c,u)}for(l=_.length;l--;)(h=_[l])&&(c=o?tt(i,h):f[l])>-1&&(i[c]=!(s[c]=h))}}else _=g(_===s?_.splice(p,_.length):_),o?o(null,s,_,u):Q.apply(s,_)})}function _(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?u(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=k.relative[t[a].type])l=[p(m(l),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[U]){for(i=++a;i<r&&!k.relative[t[i].type];i++);return y(a>1&&m(l),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&_(t.slice(a,i)),i<r&&_(t=t.slice(i)),i<r&&d(t))}l.push(n)}return m(l)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,c){var l,h,f,d=0,p="0",m=i&&[],v=[],y=D,_=i||o&&k.find.TAG("*",c),b=V+=null==y?1:Math.random()||.1,w=_.length;for(c&&(D=s===O||s||c);p!==w&&null!=(l=_[p]);p++){if(o&&l){for(h=0,s||l.ownerDocument===O||(P(l),a=!M);f=t[h++];)if(f(l,s||O,a)){u.push(l);break}c&&(V=b)}r&&((l=!f&&l)&&d--,i&&m.push(l))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(m,v,s,a);if(i){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(u));v=g(v)}Q.apply(u,v),c&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(V=b,D=y),m};return r?i(s):s}var w,x,k,E,C,$,S,T,D,A,j,P,O,N,M,L,I,R,F,U="sizzle"+1*new Date,q=t.document,V=0,B=0,H=n(),z=n(),W=n(),Y=function(t,e){return t===e&&(j=!0),0},G={}.hasOwnProperty,Z=[],X=Z.pop,J=Z.push,Q=Z.push,K=Z.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){P()},Et=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(Z=K.call(q.childNodes),q.childNodes),Z[q.childNodes.length].nodeType}catch(Ct){Q={apply:Z.length?function(t,e){J.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,N=O.documentElement,M=!C(O),q!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(O.getElementsByClassName),x.getById=r(function(t){return N.appendChild(t).id=U,!O.getElementsByName||!O.getElementsByName(U).length}),x.getById?(k.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}}):(k.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&M)return e.getElementsByClassName(t)},I=[],L=[],(x.qsa=vt.test(O.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+U+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||L.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=vt.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),I.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=vt.test(N.compareDocumentPosition),F=e||vt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return j=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===q&&F(q,t)?-1:e===O||e.ownerDocument===q&&F(q,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return j=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===q?-1:u[i]===q?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&P(t),n=n.replace(lt,"='$1']"),x.matchesSelector&&M&&!W[n+" "]&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var i=R.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&P(t);var n=k.attrHandle[e.toLowerCase()],i=n&&G.call(k.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:x.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(wt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(j=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(Y),j){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},E=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=E(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=$(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,m=o!==s?"nextSibling":"previousSibling",v=e.parentNode,g=a&&e.nodeName.toLowerCase(),y=!u&&!a,_=!1;if(v){if(o){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(f=v,h=f[U]||(f[U]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],d=c[0]===V&&c[1],_=d&&c[2],f=d&&v.childNodes[d];f=++d&&f&&f[m]||(_=d=0)||p.pop();)if(1===f.nodeType&&++_&&f===e){l[t]=[V,d,_];break}}else if(y&&(f=e,h=f[U]||(f[U]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],d=c[0]===V&&c[1],_=d),_===!1)for(;(f=++d&&f&&f[m]||(_=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++_||(y&&(h=f[U]||(f[U]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),l[t]=[V,_]),f!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[U]?o(n):o.length>1?(r=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(at,"$1"));return r[U]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=u(w);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,$=e.tokenize=function(t,n){var i,r,o,s,a,u,c,l=z[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=k.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in k.filter)!(r=dt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):z(t,u).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=$(t)),n=e.length;n--;)o=_(e[n]),o[U]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,u,c="function"==typeof t&&t,l=!i&&$(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&M&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(_t,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((u=k.find[a])&&(i=u(s.matches[0].replace(_t,bt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Q.apply(n,i),n;break}}return(c||S(t,l))(i,e,!M,n,!e||yt.test(t)&&h(e.parentNode)||e),n},x.sortStable=U.split("").sort(Y).join("")===U,x.detectDuplicates=!!j,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);xt.find=Et,xt.expr=Et.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=Et.uniqueSort,xt.text=Et.getText,xt.isXMLDoc=Et.isXML,xt.contains=Et.contains,xt.escapeSelector=Et.escape;var Ct=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&xt(t).is(n))break;i.push(t)}return i},$t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},St=xt.expr.match.needsContext,Tt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?xt.find.matchesSelector(i,t)?[i]:[]:xt.find.matches(t,xt.grep(e,function(t){return 1===t.nodeType}))},xt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(xt(t).filter(function(){for(e=0;e<i;e++)if(xt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)xt.find(t,r[e],n);return i>1?xt.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&St.test(t)?xt(t):t||[],!1).length}});var Dt,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,jt=xt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Dt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:At.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof xt?e[0]:e,xt.merge(this,xt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:st,!0)),Tt.test(i[1])&&xt.isPlainObject(e))for(i in e)yt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=st.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?void 0!==n.ready?n.ready(t):t(xt):xt.makeArray(t,this)};jt.prototype=xt.fn,Dt=xt(st);var Pt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(t){var e=xt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(xt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&xt(t);if(!St.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&xt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?xt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(xt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),xt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Ct(t,"parentNode")},parentsUntil:function(t,e,n){return Ct(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return Ct(t,"nextSibling")},prevAll:function(t){return Ct(t,"previousSibling")},nextUntil:function(t,e,n){return Ct(t,"nextSibling",n)},prevUntil:function(t,e,n){return Ct(t,"previousSibling",n)},siblings:function(t){return $t((t.parentNode||{}).firstChild,t)},children:function(t){return $t(t.firstChild)},contents:function(t){return o(t,"iframe")?t.contentDocument:(o(t,"template")&&(t=t.content||t),xt.merge([],t.childNodes))}},function(t,e){xt.fn[t]=function(n,i){var r=xt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=xt.filter(i,r)),this.length>1&&(Ot[t]||xt.uniqueSort(r),Pt.test(t)&&r.reverse()),this.pushStack(r)}});var Nt=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(t){t="string"==typeof t?u(t):xt.extend({},t);var e,n,r,o,s=[],a=[],c=-1,l=function(){for(o=o||t.once,r=e=!0;a.length;c=-1)for(n=a.shift();++c<s.length;)s[c].apply(n[0],n[1])===!1&&t.stopOnFalse&&(c=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},h={add:function(){return s&&(n&&!e&&(c=s.length-1,a.push(n)),function r(e){xt.each(e,function(e,n){yt(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==i(n)&&r(n)})}(arguments),n&&!e&&l()),this},remove:function(){return xt.each(arguments,function(t,e){for(var n;(n=xt.inArray(e,s,n))>-1;)s.splice(n,1),n<=c&&c--}),this},has:function(t){return t?xt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},xt.extend({Deferred:function(e){var n=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return xt.Deferred(function(e){xt.each(n,function(n,i){var r=yt(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,u=arguments,h=function(){var t,h;if(!(e<s)){if(t=i.apply(a,u),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(h)?r?h.call(t,o(s,n,c,r),o(s,n,l,r)):(s++,h.call(t,o(s,n,c,r),o(s,n,l,r),o(s,n,c,n.notifyWith))):(i!==c&&(a=void 0,u=[t]),(r||n.resolveWith)(a,u))}},f=r?h:function(){try{h()}catch(t){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(i!==l&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?f():(xt.Deferred.getStackHook&&(f.stackTrace=xt.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return xt.Deferred(function(t){n[0][3].add(o(0,t,yt(r)?r:c,t.notifyWith)),n[1][3].add(o(0,t,yt(e)?e:c)),n[2][3].add(o(0,t,yt(i)?i:l))}).promise()},promise:function(t){return null!=t?xt.extend(t,r):r}},o={};return xt.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),
s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=ut.call(arguments),o=xt.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?ut.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(h(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||yt(r[n]&&r[n].then)))return o.then();for(;n--;)h(r[n],s(n),o.reject);return o.promise()}});var Mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Mt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},xt.readyException=function(e){t.setTimeout(function(){throw e})};var Lt=xt.Deferred();xt.fn.ready=function(t){return Lt.then(t)["catch"](function(t){xt.readyException(t)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--xt.readyWait:xt.isReady)||(xt.isReady=!0,t!==!0&&--xt.readyWait>0||Lt.resolveWith(st,[xt]))}}),xt.ready.then=Lt.then,"complete"===st.readyState||"loading"!==st.readyState&&!st.documentElement.doScroll?t.setTimeout(xt.ready):(st.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f));var It=function(t,e,n,r,o,s,a){var u=0,c=t.length,l=null==n;if("object"===i(n)){o=!0;for(u in n)It(t,e,u,n[u],!0,s,a)}else if(void 0!==r&&(o=!0,yt(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(xt(t),n)})),e))for(;u<c;u++)e(t[u],n,a?r:r.call(t[u],u,e(t[u],n)));return o?t:l?e.call(t):c?e(t[0],n):s},Rt=/^-ms-/,Ft=/-([a-z])/g,Ut=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ut(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(p):(e=p(e),e=e in i?[e]:e.match(Nt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||xt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!xt.isEmptyObject(e)}};var qt=new m,Vt=new m,Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ht=/[A-Z]/g;xt.extend({hasData:function(t){return Vt.hasData(t)||qt.hasData(t)},data:function(t,e,n){return Vt.access(t,e,n)},removeData:function(t,e){Vt.remove(t,e)},_data:function(t,e,n){return qt.access(t,e,n)},_removeData:function(t,e){qt.remove(t,e)}}),xt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Vt.get(o),1===o.nodeType&&!qt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=p(i.slice(5)),g(o,i,r[i])));qt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Vt.set(this,t)}):It(this,function(e){var n;if(o&&void 0===e){if(n=Vt.get(o,t),void 0!==n)return n;if(n=g(o,t),void 0!==n)return n}else this.each(function(){Vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Vt.remove(this,t)})}}),xt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=qt.get(t,e),n&&(!i||Array.isArray(n)?i=qt.access(t,e,xt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=xt.queue(t,e),i=n.length,r=n.shift(),o=xt._queueHooks(t,e),s=function(){xt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return qt.get(t,n)||qt.access(t,n,{empty:xt.Callbacks("once memory").add(function(){qt.remove(t,[e+"queue",n])})})}}),xt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?xt.queue(this[0],t):void 0===e?this:this.each(function(){var n=xt.queue(this,t,e);xt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&xt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){xt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=xt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=qt.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Gt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&xt.contains(t.ownerDocument,t)&&"none"===xt.css(t,"display")},Zt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Xt={};xt.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Gt(this)?xt(this).show():xt(this).hide()})}});var Jt=/^(?:checkbox|radio)$/i,Qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|^module$|\/(?:java|ecma)script/i,te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ee=/<|&#?\w+;/;!function(){var t=st.createDocumentFragment(),e=t.appendChild(st.createElement("div")),n=st.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),gt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",gt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ne=st.documentElement,ie=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oe=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,c,l,h,f,d,p,m,v=qt.get(t);if(v)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&xt.find.matchesSelector(ne,r),n.guid||(n.guid=xt.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return"undefined"!=typeof xt&&xt.event.triggered!==e.type?xt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],c=e.length;c--;)a=oe.exec(e[c])||[],d=m=a[1],p=(a[2]||"").split(".").sort(),d&&(h=xt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=xt.event.special[d]||{},l=xt.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&xt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),xt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,c,l,h,f,d,p,m,v=qt.hasData(t)&&qt.get(t);if(v&&(u=v.events)){for(e=(e||"").match(Nt)||[""],c=e.length;c--;)if(a=oe.exec(e[c])||[],d=m=a[1],p=(a[2]||"").split(".").sort(),d){for(h=xt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||xt.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)xt.event.remove(t,d+e[c],n,i,!0);xt.isEmptyObject(u)&&qt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=xt.event.fix(t),u=new Array(arguments.length),c=(qt.get(this,"events")||{})[a.type]||[],l=xt.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=xt.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,i=((xt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||c.disabled!==!0)){for(o=[],s={},n=0;n<u;n++)i=e[n],r=i.selector+" ",void 0===s[r]&&(s[r]=i.needsContext?xt(r,this).index(c)>-1:xt.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(xt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[xt.expando]?t:new xt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==$()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===$()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(t){return o(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},xt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},xt.Event=function(t,e){return this instanceof xt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?E:C,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&xt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),void(this[xt.expando]=!0)):new xt.Event(t,e)},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=E,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=E,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=E,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ie.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&re.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){xt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||xt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),xt.fn.extend({on:function(t,e,n,i){return S(this,t,e,n,i)},one:function(t,e,n,i){return S(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,xt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=C),this.each(function(){xt.event.remove(this,t,n,e)})}});var se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ae=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(t){return t.replace(se,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=xt.contains(t.ownerDocument,t);if(!(gt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||xt.isXMLDoc(t)))for(s=w(a),o=w(t),i=0,r=o.length;i<r;i++)P(o[i],s[i]);if(e)if(n)for(o=o||w(t),s=s||w(a),i=0,r=o.length;i<r;i++)j(o[i],s[i]);else j(t,a);return s=w(a,"script"),s.length>0&&x(s,!u&&w(t,"script")),a},cleanData:function(t){for(var e,n,i,r=xt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ut(n)){if(e=n[qt.expando]){if(e.events)for(i in e.events)r[i]?xt.event.remove(n,i):xt.removeEvent(n,i,e.handle);n[qt.expando]=void 0}n[Vt.expando]&&(n[Vt.expando]=void 0)}}}),xt.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return It(this,function(t){return void 0===t?xt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.appendChild(t)}})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(xt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return xt.clone(this,t,e)})},html:function(t){return It(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ae.test(t)&&!te[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=xt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(xt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(e){var n=this.parentNode;xt.inArray(this,t)<0&&(xt.cleanData(w(this)),n&&n.replaceChild(e,this))},t)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){xt.fn[t]=function(t){for(var n,i=[],r=xt(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),xt(r[s])[e](n),lt.apply(i,n.get());return this.pushStack(i)}});var le=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),he=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},fe=new RegExp(Yt.join("|"),"i");!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);i="1%"!==e.top,a=12===n(e.marginLeft),c.style.right="60%",s=36===n(e.right),r=36===n(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",ne.removeChild(u),c=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,s,a,u=st.createElement("div"),c=st.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",gt.clearCloneStyle="content-box"===c.style.backgroundClip,xt.extend(gt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var de=/^(none|table(?!-c[ea]).+)/,pe=/^--/,me={position:"absolute",visibility:"hidden",display:"block"},ve={letterSpacing:"0",fontWeight:"400"},ge=["Webkit","Moz","ms"],ye=st.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=M(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=p(e),u=pe.test(e),c=t.style;return u||(e=R(a)),s=xt.cssHooks[e]||xt.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e]:(o=typeof n,"string"===o&&(r=Wt.exec(n))&&r[1]&&(n=y(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(xt.cssNumber[a]?"":"px")),gt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?c.setProperty(e,n):c[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=p(e),u=pe.test(e);return u||(e=R(a)),s=xt.cssHooks[e]||xt.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=M(t,e,i)),"normal"===r&&e in ve&&(r=ve[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),xt.each(["height","width"],function(t,e){xt.cssHooks[e]={get:function(t,n,i){if(n)return!de.test(xt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?q(t,e,i):Zt(t,me,function(){return q(t,e,i)})},set:function(t,n,i){var r,o=he(t),s="border-box"===xt.css(t,"boxSizing",!1,o),a=i&&U(t,e,i,s,o);return s&&gt.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-U(t,e,"border",!1,o)-.5)),a&&(r=Wt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=xt.css(t,e)),F(t,n,a)}}}),xt.cssHooks.marginLeft=L(gt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(M(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),xt.each({margin:"",padding:"",border:"Width"},function(t,e){xt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Yt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(xt.cssHooks[t+e].set=F)}),xt.fn.extend({css:function(t,e){return It(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=he(t),r=e.length;s<r;s++)o[e[s]]=xt.css(t,e[s],!1,i);return o}return void 0!==n?xt.style(t,e,n):xt.css(t,e)},t,e,arguments.length>1)}}),xt.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||xt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(xt.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=xt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=xt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){xt.fx.step[t.prop]?xt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[xt.cssProps[t.prop]]&&!xt.cssHooks[t.prop]?t.elem[t.prop]=t.now:xt.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},xt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},xt.fx=V.prototype.init,xt.fx.step={};var _e,be,we=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;xt.Animation=xt.extend(Z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,Wt.exec(e),n),n}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?Z.prefilters.unshift(t):Z.prefilters.push(t)}}),xt.speed=function(t,e,n){var i=t&&"object"==typeof t?xt.extend({},t):{complete:n||!n&&e||yt(t)&&t,duration:t,easing:n&&e||e&&!yt(e)&&e};return xt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in xt.fx.speeds?i.duration=xt.fx.speeds[i.duration]:i.duration=xt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&xt.dequeue(this,i.queue)},i},xt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=xt.isEmptyObject(t),o=xt.speed(e,n,i),s=function(){var e=Z(this,xt.extend({},t),o);(r||qt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=xt.timers,s=qt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&xe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||xt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=qt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=xt.timers,s=i?i.length:0;for(n.finish=!0,xt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),xt.each(["toggle","show","hide"],function(t,e){var n=xt.fn[e];xt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}}),xt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){xt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),xt.timers=[],xt.fx.tick=function(){var t,e=0,n=xt.timers;for(_e=Date.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||xt.fx.stop(),_e=void 0},xt.fx.timer=function(t){xt.timers.push(t),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){be||(be=!0,B())},xt.fx.stop=function(){be=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(e,n){return e=xt.fx?xt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=st.createElement("input"),e=st.createElement("select"),n=e.appendChild(st.createElement("option"));t.type="checkbox",gt.checkOn=""!==t.value,gt.optSelected=n.selected,t=st.createElement("input"),t.value="t",t.type="radio",gt.radioValue="t"===t.value}();var ke,Ee=xt.expr.attrHandle;xt.fn.extend({attr:function(t,e){return It(this,xt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){xt.removeAttr(this,t)})}}),xt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?xt.prop(t,e,n):(1===o&&xt.isXMLDoc(t)||(r=xt.attrHooks[e.toLowerCase()]||(xt.expr.match.bool.test(e)?ke:void 0)),void 0!==n?null===n?void xt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=xt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!gt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ke={set:function(t,e,n){return e===!1?xt.removeAttr(t,n):t.setAttribute(n,n),n}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ee[e]||xt.find.attr;Ee[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=Ee[s],Ee[s]=r,r=null!=n(t,e,i)?s:null,Ee[s]=o),r}});var Ce=/^(?:input|select|textarea|button)$/i,$e=/^(?:a|area)$/i;xt.fn.extend({prop:function(t,e){return It(this,xt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[xt.propFix[t]||t]})}}),xt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&xt.isXMLDoc(t)||(e=xt.propFix[e]||e,r=xt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=xt.find.attr(t,"tabindex");return e?parseInt(e,10):Ce.test(t.nodeName)||$e.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),gt.optSelected||(xt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(yt(t))return this.each(function(e){xt(this).addClass(t.call(this,e,J(this)))});if(e=Q(t),e.length)for(;n=this[u++];)if(r=J(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=X(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(yt(t))return this.each(function(e){xt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if(e=Q(t),e.length)for(;n=this[u++];)if(r=J(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=X(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):yt(t)?this.each(function(n){xt(this).toggleClass(t.call(this,n,J(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=xt(this),s=Q(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=J(this),e&&qt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":qt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(J(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;xt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=yt(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,xt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=xt.map(r,function(t){return null==t?"":t+""})),e=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=xt.valHooks[r.type]||xt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Se,""):null==n?"":n)}}}),xt.extend({valHooks:{option:{get:function(t){var e=xt.find.attr(t,"value");return null!=e?e:X(xt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,u=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(n=r[i],(n.selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=xt(n).val(),a)return e;u.push(e)}return u},set:function(t,e){for(var n,i,r=t.options,o=xt.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=xt.inArray(xt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=xt.inArray(xt(t).val(),e)>-1}},gt.checkOn||(xt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),gt.focusin="onfocusin"in t;var Te=/^(?:focusinfocus|focusoutblur)$/,De=function(t){t.stopPropagation()};xt.extend(xt.event,{trigger:function(e,n,i,r){var o,s,a,u,c,l,h,f,d=[i||st],p=pt.call(e,"type")?e.type:e,m=pt.call(e,"namespace")?e.namespace.split("."):[];if(s=f=a=i=i||st,3!==i.nodeType&&8!==i.nodeType&&!Te.test(p+xt.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[xt.expando]?e:new xt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:xt.makeArray(n,[e]),h=xt.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!_t(i)){for(u=h.delegateType||p,Te.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||st)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)f=s,e.type=o>1?u:h.bindType||p,l=(qt.get(s,"events")||{})[e.type]&&qt.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Ut(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Ut(i)||c&&yt(i[p])&&!_t(i)&&(a=i[c],a&&(i[c]=null),xt.event.triggered=p,e.isPropagationStopped()&&f.addEventListener(p,De),i[p](),e.isPropagationStopped()&&f.removeEventListener(p,De),xt.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=xt.extend(new xt.Event,n,{type:t,isSimulated:!0});xt.event.trigger(i,null,e)}}),xt.fn.extend({trigger:function(t,e){return this.each(function(){xt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return xt.event.trigger(t,e,n,!0)}}),gt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){xt.event.simulate(e,t.target,xt.event.fix(t))};xt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=qt.access(i,e);r||i.addEventListener(t,n,!0),qt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=qt.access(i,e)-1;r?qt.access(i,e,r):(i.removeEventListener(t,n,!0),qt.remove(i,e))}}});var Ae=t.location,je=Date.now(),Pe=/\?/;xt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||xt.error("Invalid XML: "+e),n};var Oe=/\[\]$/,Ne=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;xt.param=function(t,e){var n,i=[],r=function(t,e){var n=yt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!xt.isPlainObject(t))xt.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=xt.prop(this,"elements");return t?xt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!xt(this).is(":disabled")&&Le.test(this.nodeName)&&!Me.test(t)&&(this.checked||!Jt.test(t))}).map(function(t,e){var n=xt(this).val();return null==n?null:Array.isArray(n)?xt.map(n,function(t){
return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}});var Ie=/%20/g,Re=/#.*$/,Fe=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Be=/^\/\//,He={},ze={},We="*/".concat("*"),Ye=st.createElement("a");Ye.href=Ae.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:qe.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,xt.ajaxSettings),e):nt(xt.ajaxSettings,t)},ajaxPrefilter:tt(He),ajaxTransport:tt(ze),ajax:function(e,n){function i(e,n,i,a){var c,f,d,b,w,x=n;l||(l=!0,u&&t.clearTimeout(u),r=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(b=it(p,k,i)),b=rt(p,b,k,c),c?(p.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(xt.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(xt.etag[o]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=b.state,f=b.data,d=b.error,c=!d)):(d=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(n||x)+"",c?g.resolveWith(m,[f,x,k]):g.rejectWith(m,[k,x,d]),k.statusCode(_),_=void 0,h&&v.trigger(c?"ajaxSuccess":"ajaxError",[k,p,c?f:d]),y.fireWith(m,[k,x]),h&&(v.trigger("ajaxComplete",[k,p]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,c,l,h,f,d,p=xt.ajaxSetup({},n),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?xt(m):xt.event,g=xt.Deferred(),y=xt.Callbacks("once memory"),_=p.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ue.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(g.promise(k),p.url=((e||p.url||Ae.href)+"").replace(Be,Ae.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Nt)||[""],null==p.crossDomain){c=st.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ye.protocol+"//"+Ye.host!=c.protocol+"//"+c.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=xt.param(p.data,p.traditional)),et(He,p,n,k),l)return k;h=xt.event&&p.global,h&&0===xt.active++&&xt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ve.test(p.type),o=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ie,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Pe.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Fe,"$1"),d=(Pe.test(o)?"&":"?")+"_="+je++ +d),p.url=o+d),p.ifModified&&(xt.lastModified[o]&&k.setRequestHeader("If-Modified-Since",xt.lastModified[o]),xt.etag[o]&&k.setRequestHeader("If-None-Match",xt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+We+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)k.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(m,k,p)===!1||l))return k.abort();if(x="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),r=et(ze,p,n,k)){if(k.readyState=1,h&&v.trigger("ajaxSend",[k,p]),l)return k;p.async&&p.timeout>0&&(u=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{l=!1,r.send(b,i)}catch(E){if(l)throw E;i(-1,E)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return xt.get(t,e,n,"json")},getScript:function(t,e){return xt.get(t,void 0,e,"script")}}),xt.each(["get","post"],function(t,e){xt[e]=function(t,n,i,r){return yt(n)&&(r=r||i,i=n,n=void 0),xt.ajax(xt.extend({url:t,type:e,dataType:r,data:n,success:i},xt.isPlainObject(t)&&t))}}),xt._evalUrl=function(t){return xt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},xt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=xt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt(t)?this.each(function(e){xt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=xt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt(t);return this.each(function(n){xt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(t){return!xt.expr.pseudos.visible(t)},xt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},xt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ge={0:200,1223:204},Ze=xt.ajaxSettings.xhr();gt.cors=!!Ze&&"withCredentials"in Ze,gt.ajax=Ze=!!Ze,xt.ajaxTransport(function(e){var n,i;if(gt.cors||Ze&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ge[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),xt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return xt.globalEval(t),t}}}),xt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),xt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=xt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),st.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Xe=[],Je=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||xt.expando+"_"+je++;return this[t]=!0,t}}),xt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Je.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Je,"$1"+r):e.jsonp!==!1&&(e.url+=(Pe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||xt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?xt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Xe.push(r)),s&&yt(o)&&o(s[0]),s=o=void 0}),"script"}),gt.createHTMLDocument=function(){var t=st.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),xt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(gt.createHTMLDocument?(e=st.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=st.location.href,e.head.appendChild(i)):e=st),r=Tt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=k([t],e,o),o&&o.length&&xt(o).remove(),xt.merge([],r.childNodes))},xt.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=X(t.slice(a)),t=t.slice(0,a)),yt(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&xt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?xt("<div>").append(xt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){xt.fn[e]=function(t){return this.on(e,t)}}),xt.expr.pseudos.animated=function(t){return xt.grep(xt.timers,function(e){return t===e.elem}).length},xt.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,c,l=xt.css(t,"position"),h=xt(t),f={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=xt.css(t,"top"),u=xt.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),yt(e)&&(e=e.call(t,n,xt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},xt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){xt.offset.setOffset(this,t,e)});var e,n,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===xt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===xt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=xt(t).offset(),r.top+=xt.css(t,"borderTopWidth",!0),r.left+=xt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-xt.css(i,"marginTop",!0),left:e.left-r.left-xt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===xt.css(t,"position");)t=t.offsetParent;return t||ne})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;xt.fn[t]=function(i){return It(this,function(t,i,r){var o;return _t(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),xt.each(["top","left"],function(t,e){xt.cssHooks[e]=L(gt.pixelPosition,function(t,n){if(n)return n=M(t,e),le.test(n)?xt(t).position()[e]+"px":n})}),xt.each({Height:"height",Width:"width"},function(t,e){xt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){xt.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return It(this,function(e,n,r){var o;return _t(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?xt.css(e,n,a):xt.style(e,n,r,a)},e,s?r:void 0,s)}})}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){xt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),xt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),xt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),xt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),yt(t))return i=ut.call(arguments,2),r=function(){return t.apply(e||this,i.concat(ut.call(arguments)))},r.guid=t.guid=t.guid||xt.guid++,r},xt.holdReady=function(t){t?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=o,xt.isFunction=yt,xt.isWindow=_t,xt.camelCase=p,xt.type=i,xt.now=Date.now,xt.isNumeric=function(t){var e=xt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xt});var Qe=t.jQuery,Ke=t.$;return xt.noConflict=function(e){return t.$===xt&&(t.$=Ke),e&&t.jQuery===xt&&(t.jQuery=Qe),xt},e||(t.jQuery=t.$=xt),xt})},{}],73:[function(t,e,n){!function(t,n,i){var r=t.L,o={};o.version="0.7.7","object"==typeof e&&"object"==typeof e.exports?e.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=r,this},t.L=o,o.Util={extend:function(t){var e,n,i,r,o=Array.prototype.slice.call(arguments,1);for(n=0,i=o.length;n<i;n++){r=o[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function o(){var s=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(o.apply(n,s),r=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&e.indexOf("?")!==-1?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var r=e[n];if(r===i)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,r=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,i,s,a){return e=o.bind(e,i),s&&r===n?void e():r.call(t,e,a)},o.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=o.extend({},i.options,t.options)),o.extend(i,t),i._initHooks=[];var s=this;return e.__super__=s.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,r,a,u,c,l,h,f=this[s]=this[s]||{},d=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;i<r;i++)a={action:e,context:n||this},u=t[i],d?(c=u+"_idx",l=c+"_len",h=f[c]=f[c]||{},h[d]||(h[d]=[],f[l]=(f[l]||0)+1),h[d].push(a)):(f[u]=f[u]||[],f[u].push(a));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,r,a,u,c,l,h,f,d,p=this[s],m=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;i<r;i++)if(a=t[i],l=a+"_idx",h=l+"_len",f=p[l],e){if(u=m&&f?f[m]:p[a]){for(c=u.length-1;c>=0;c--)u[c].action!==e||n&&u[c].context!==n||(d=u.splice(c,1),d[0].action=o.Util.falseFn);n&&f&&0===u.length&&(delete f[m],p[h]--)}}else delete p[a],delete p[l],delete p[h];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,r,a,u,c=o.Util.extend({},e,{type:t,target:this}),l=this[s];if(l[t])for(n=l[t].slice(),i=0,r=n.length;i<r;i++)n[i].action.call(n[i].context,c);a=l[t+"_idx"];for(u in a)if(n=a[u].slice())for(i=0,r=n.length;i<r;i++)n[i].action.call(n[i].context,c);return this},addOneTimeEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=o.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in t,r=e&&!n.addEventListener,s=navigator.userAgent.toLowerCase(),a=s.indexOf("webkit")!==-1,u=s.indexOf("chrome")!==-1,c=s.indexOf("phantom")!==-1,l=s.indexOf("android")!==-1,h=s.search("android [23]")!==-1,f=s.indexOf("gecko")!==-1,d=typeof orientation!=i+"",p=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||p,v="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,g=n.documentElement,y=e&&"transition"in g.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,b="MozPerspective"in g.style,w="OTransition"in g.style,x=!t.L_DISABLE_3D&&(y||_||b||w)&&!c,k=!t.L_NO_TOUCH&&!c&&(m||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);o.Browser={ie:e,ielt9:r,webkit:a,gecko:f&&!a&&!t.opera&&!e,android:l,android23:h,chrome:u,ie3d:y,webkit3d:_,gecko3d:b,opera3d:w,any3d:x,mobile:d,mobileWebkit:d&&a,mobileWebkit3d:d&&_,mobileOpera:d&&t.opera,touch:k,msPointer:p,pointer:m,retina:v}}(),o.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,s=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||"auto"===i)&&n.defaultView){var r=n.defaultView.getComputedStyle(t,null);i=r?r[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e,i=0,r=0,s=t,a=n.body,u=n.documentElement;do{if(i+=s.offsetTop||0,r+=s.offsetLeft||0,i+=parseInt(o.DomUtil.getStyle(s,"borderTopWidth"),10)||0,r+=parseInt(o.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,e=o.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===e)break;if("fixed"===e){i+=a.scrollTop||u.scrollTop||0,r+=a.scrollLeft||u.scrollLeft||0;break}if("relative"===e&&!s.offsetLeft){var c=o.DomUtil.getStyle(s,"width"),l=o.DomUtil.getStyle(s,"max-width"),h=s.getBoundingClientRect();"none"===c&&"none"===l||(r+=h.left+s.clientLeft),i+=h.top+(a.scrollTop||u.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;i-=s.scrollTop||0,r-=s.scrollLeft||0,s=s.parentNode}while(s);return new o.Point(r,i)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(n.body,"direction")),o.DomUtil._docIsLtr},create:function(t,e,i){var r=n.createElement(t);return r.className=e,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),r=0,s=n.length;r<s;r++)t.classList.add(n[r]);else if(!o.DomUtil.hasClass(t,e)){var a=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in n)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var e=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(e){var t=n.documentElement.style;this._userSelect=t[e],t[e]="none"}},enableTextSelection:function(){e&&(n.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,n=o.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,r=(t.lng-this.lng)*n,s=this.lat*n,a=t.lat*n,u=Math.sin(i/2),c=Math.sin(r/2),l=u*u+c*c*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(n<t||n===e?e:t),new o.LatLng(this.lat,n)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-i,e.lng-r),new o.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=t.lng*e,s=i*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new o.Point(r,s)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(i,n)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,(-1),0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)
}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/i),u=this.containerPointToLatLng(r.add(a));return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var n=o.point(e.paddingTopLeft||e.padding||[0,0]),i=o.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));r=e.maxZoom?Math.min(e.maxZoom,r):r;var s=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),u=this.project(t.getNorthEast(),r),c=this.unproject(a.add(u).divideBy(2).add(s),r);return this.setView(c,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return!!t&&o.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),s=i.subtract(r);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new o.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=o.latLngBounds(t);var i,r=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),u=t.getNorthWest(),c=t.getSouthEast(),l=!0;n=o.point(n||[0,0]);do r++,i=this.project(c,r).subtract(this.project(u,r)).add(n),l=e?i.x<a.x||i.y<a.y:a.contains(i);while(l&&r<=s);return l&&e?null:e?r:r-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var r=this._zoom!==e;i||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(r||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=r.length;n<i;n++)o.DomEvent[e](this._container,r[n],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),r=this.layerPointToLatLng(i);this.fire(e,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),s=new o.Bounds(i.subtract(r),i.add(r)),a=this._getBoundsOffset(s,n,e);return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new o.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),r=this.project(e.getSouthEast(),n).subtract(t.max),s=this._rebound(i.x,-r.x),a=this._rebound(i.y,-r.y);return new o.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*r,u=i*e,c=s/r,l=Math.sqrt(1-c*c),h=l*Math.sin(u);h=Math.pow((1-h)/(1+h),.5*l);var f=Math.tan(.5*(.5*Math.PI-u))/h;return u=-r*Math.log(f),new o.Point(a,u)},unproject:function(t){for(var e,n=o.LatLng.RAD_TO_DEG,i=this.R_MAJOR,r=this.R_MINOR,s=t.x*n/i,a=r/i,u=Math.sqrt(1-a*a),c=Math.exp(-t.y/i),l=Math.PI/2-2*Math.atan(c),h=15,f=1e-7,d=h,p=.1;Math.abs(p)>f&&--d>0;)e=u*Math.sin(l),p=Math.PI/2-2*Math.atan(c*Math.pow((1-e)/(1+e),.5*u))-l,l+=p;return new o.LatLng(l*n,s)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new o.Transformation(n,.5,(-n),.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,o=t.children,s=-e(1/0,-(1/0));for(i=0,r=o.length;i<r;i++)o[i]!==this._container&&(n=parseInt(o[i].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var r=o.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(r),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(r)}}},_addTilesFromCenterOut:function(t){var e,i,r,s=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(i=t.min.x;i<=t.max.x;i++)r=new o.Point(i,e),this._tileShouldBeLoaded(r)&&s.push(r);var u=s.length;if(0!==u){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var c=n.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;i<u;i++)this._addTile(s[i],c);this._tileContainer.appendChild(c)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),o=r.add([i,i]),s=this._map.unproject(r),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();o.DomUtil.setPosition(i,n,o.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=o.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&o.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(n[r]=e[r]);this.wmsParams=n,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),r=i.add([n,n]),s=this._crs.project(e.unproject(i,t.z)),a=this._crs.project(e.unproject(r,t.z)),u=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),c=o.Util.template(this._url,{s:this._getSubdomain(t)});return c+o.Util.getParamString(this.wmsParams,c,!0)+"&BBOX="+u},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(r,t.zoom,t.center),u=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),c=a._add(u._multiplyBy(.5*(1-1/i)));n.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(c)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,n){return new o.ImageOverlay(t,e,n)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,r=o.point(i[e+"Size"]);n="shadow"===e?o.point(i.shadowAnchor||i.iconAnchor):o.point(i.iconAnchor),!n&&r&&(n=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var n=o.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,e,i,r,o,s=n.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=s.length;t<e;t++)if(i=s[t].src,r=i.match(a))return o=i.split(a)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title),t.alt&&(r.alt=t.alt)),o.DomUtil.addClass(r,i),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),u=!1;a!==this._shadow&&(this._removeShadow(),u=!0),a&&o.DomUtil.addClass(a,i),this._shadow=a,t.opacity<1&&this._updateOpacity();var c=this._map._panes;s&&c.markerPane.appendChild(this._icon),a&&u&&c.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)o.DomEvent.on(t,e[n],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;return i.html!==!1?e.innerHTML=i.html:e.innerHTML="",i.bgPos&&(e.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,
offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=o.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",i);o.DomEvent.disableClickPropagation(r),this._contentNode=o.DomUtil.create("div",e+"-content",r),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(r,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",i),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(i),s=o.point(this.options.autoPanPadding),a=o.point(this.options.autoPanPaddingTopLeft||s),u=o.point(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),l=0,h=0;r.x+n+u.x>c.x&&(l=r.x+n-c.x+u.x),r.x-l-a.x<0&&(l=r.x-a.x),r.y+e+u.y>c.y&&(h=r.y+e-c.y+u.y),r.y-h-a.y<0&&(h=r.y-a.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof o.Popup)){var i=t;t=new o.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=o.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(o.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=o.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),n=o.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(i,r)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!n.createElementNS||!n.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return n.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){!o.Browser.svg&&o.Browser.vml||o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),r=e.layerPointToLatLng(i);this.fire(t.type,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,r=n.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;o.Browser.mobileWebkit&&a.removeChild(s),o.DomUtil.setPosition(s,e),s.setAttribute("width",i),s.setAttribute("height",r),s.setAttribute("viewBox",[e.x,e.y,i,r].join(" ")),o.Browser.mobileWebkit&&a.appendChild(s)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:(this._popup&&!e||(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=n.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,r,s;for(this._ctx.beginPath(),t=0,n=this._parts.length;t<n;t++){for(e=0,i=this._parts[t].length;e<i;e++)r=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](r.x,r.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=n.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;o.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var s,a=[];for(s=0;s<n;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;s<=r-1;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[r],!0),a>u&&(o=s,u=a);u>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i){var r,o,s,a=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(a|u))return[t,e];if(a&u)return!1;r=a||u,o=this._getEdgeIntersection(t,e,r,n),s=this._getBitCode(o,n),r===a?(t=o,a=s):(e=o,u=s)}},_getEdgeIntersection:function(t,e,n,i){var r=e.x-t.x,s=e.y-t.y,a=i.min,u=i.max;return 8&n?new o.Point(t.x+r*(u.y-t.y)/s,u.y):4&n?new o.Point(t.x+r*(a.y-t.y)/s,a.y):2&n?new o.Point(u.x,t.y+s*(u.x-t.x)/r):1&n?new o.Point(a.x,t.y+s*(a.x-t.x)/r):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r,s=e.x,a=e.y,u=n.x-s,c=n.y-a,l=u*u+c*c;return l>0&&(r=((t.x-s)*u+(t.y-a)*c)/l,r>1?(s=n.x,a=n.y):r>0&&(s+=u*r,a+=c*r)),u=t.x-s,c=t.y-a,i?u*u+c*c:new o.Point(s,a)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;t<e;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";t<e;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,r=this._parts,s=null,a=0,u=r.length;a<u;a++)for(var c=r[a],l=1,h=c.length;l<h;l++){e=c[l-1],n=c[l];var f=o.LineUtil._sqClosestPointOnSegment(t,e,n,!0);f<i&&(i=f,s=o.LineUtil._sqClosestPointOnSegment(t,e,n))}return s&&(s.distance=Math.sqrt(i)),s},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,r=e?t:[];for(n=0,i=t.length;n<i;n++){if(o.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;r[n]=o.latLng(t[n])}return r},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=o.Path.VML,i=0,r=t.length,s="";i<r;i++)e=t[i],n&&e._round(),s+=(i?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,n,i=this._originalPoints,r=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var s=this._parts,a=this._map._pathViewport,u=o.LineUtil;for(t=0,e=0;t<r-1;t++)n=u.clipSegment(i[t],i[t+1],a,t),n&&(s[e]=s[e]||[],s[e].push(n[0]),n[1]===i[t+1]&&t!==r-2||(s[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,n=0,i=t.length;n<i;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var n,i,r,s,a,u,c,l,h,f=[1,4,2,8],d=o.LineUtil;for(i=0,c=t.length;i<c;i++)t[i]._code=d._getBitCode(t[i],e);for(s=0;s<4;s++){for(l=f[s],n=[],i=0,c=t.length,r=c-1;i<c;r=i++)a=t[i],u=t[r],a._code&l?u._code&l||(h=d._getEdgeIntersection(u,a,l,e),h._code=d._getBitCode(h,e),n.push(h)):(u._code&l&&(h=d._getEdgeIntersection(u,a,l,e),h._code=d._getBitCode(h,e),n.push(h)),n.push(a));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;e<n;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;t<n;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;e<i;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;n<i;n++){var r=o.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){n<i?t.setLatLngs(e[n++]):this.removeLayer(t)},this);n<i;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,n){o.Path.prototype.initialize.call(this,n),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new o.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),o.circle=function(t,e,n){return new o.Circle(t,e,n)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var n,i,r,s,a,u,c,l=this.options.weight/2;for(o.Browser.touch&&(l+=10),n=0,s=this._parts.length;n<s;n++)for(c=this._parts[n],i=0,a=c.length,r=a-1;i<a;r=i++)if((e||0!==i)&&(u=o.LineUtil.pointToSegmentDistance(t,c[r],c[i]),u<=l))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,n,i,r,s,a,u,c,l=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,u=this._parts.length;r<u;r++)for(e=this._parts[r],s=0,c=e.length,a=c-1;s<c;a=s++)n=e[s],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=o.Util.isArray(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(r[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=o.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,n,i){var r,s,a,u,c="Feature"===t.type?t.geometry:t,l=c.coordinates,h=[];switch(n=n||this.coordsToLatLng,c.type){case"Point":return r=n(l),e?e(t,r):new o.Marker(r);case"MultiPoint":for(a=0,u=l.length;a<u;a++)r=n(l[a]),h.push(e?e(t,r):new o.Marker(r));return new o.FeatureGroup(h);case"LineString":return s=this.coordsToLatLngs(l,0,n),new o.Polyline(s,i);case"Polygon":if(2===l.length&&!l[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(l,1,n),new o.Polygon(s,i);case"MultiLineString":return s=this.coordsToLatLngs(l,1,n),new o.MultiPolyline(s,i);case"MultiPolygon":return s=this.coordsToLatLngs(l,2,n),new o.MultiPolygon(s,i);case"GeometryCollection":for(a=0,u=c.geometries.length;a<u;a++)h.push(this.geometryToLayer({geometry:c.geometries[a],type:"Feature",properties:t.properties},e,n,i));return new o.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2]);
},coordsToLatLngs:function(t,e,n){var i,r,o,s=[];for(r=0,o=t.length;r<o;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),s.push(i);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(o.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,n,i=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;t<e;t++)n=o.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var r=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(r?e.geometry:o.GeoJSON.asFeature(e)))}),r?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,n,i){var r,s,a,u=o.stamp(n),c="_leaflet_"+e+u;return t[c]?this:(r=function(e){return n.call(i||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,r,u):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,r,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(s=r,a="mouseenter"===e?"mouseover":"mouseout",r=function(e){if(o.DomEvent._checkMouse(t,e))return s(e)},t.addEventListener(a,r,!1)):"click"===e&&o.Browser.android?(s=r,r=function(t){return o.DomEvent._filterClick(t,s)},t.addEventListener(e,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[c]=r,this))},removeListener:function(t,e,n){var i=o.stamp(n),r="_leaflet_"+e+i,s=t[r];return s?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,n=o.Draggable.START.length-1;n>=0;n--)o.DomEvent.on(t,o.Draggable.START[n],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new o.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=o.DomEvent._lastClick&&n-o.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=n,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled&&(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new o.Point(e.clientX,e.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(n,o.Draggable.MOVE[t.type],this._onMove,this).on(n,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new o.Point(e.clientX,e.clientY),r=i.subtract(this._startPoint);(r.x||r.y)&&(o.Browser.touch&&Math.abs(r.x)+Math.abs(r.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(n,o.Draggable.MOVE[t],this._onMove).off(n,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,r=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),r)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+i-this._times[0])/1e3,u=n.easeLinearity,c=s.multiplyBy(u/a),l=c.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,l),f=c.multiplyBy(h/l),d=h/(n.inertiaDeceleration*u),p=f.multiplyBy(-d/2).round();p.x&&p.y?(p=e._limitOffset(p,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(p,{duration:d,easeLinearity:u,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function r(t){var e;if(o.Browser.pointer?(p.push(t.pointerId),e=p.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(a||n);u=t.touches?t.touches[0]:t,c=i>0&&i<=l,a=n}}function s(t){if(o.Browser.pointer){var n=p.indexOf(t.pointerId);if(n===-1)return;p.splice(n,1)}if(c){if(o.Browser.pointer){var i,r={};for(var s in u)i=u[s],"function"==typeof i?r[s]=i.bind(u):r[s]=i;u=r}u.type="dblclick",e(u),a=null}}var a,u,c=!1,l=250,h="_leaflet_",f=this._touchstart,d=this._touchend,p=[];t[h+f+i]=r,t[h+d+i]=s;var m=o.Browser.pointer?n.documentElement:t;return t.addEventListener(f,r,!1),m.addEventListener(d,s,!1),o.Browser.pointer&&m.addEventListener(o.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+e],!1),(o.Browser.pointer?n.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+e],!1),o.Browser.pointer&&n.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[i+this._touchend+e],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,i,r){var s="_leaflet_",a=this._pointers,u=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&o.DomEvent.preventDefault(t);for(var e=!1,n=0;n<a.length;n++)if(a[n].pointerId===t.pointerId){e=!0;break}e||a.push(t),t.touches=a.slice(),t.changedTouches=[t],i(t)};if(t[s+"touchstart"+r]=u,t.addEventListener(this.POINTER_DOWN,u,!1),!this._pointerDocumentListener){var c=function(t){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a.splice(e,1);break}};n.documentElement.addEventListener(this.POINTER_UP,c,!1),n.documentElement.addEventListener(this.POINTER_CANCEL,c,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",s=this._pointers;return t[o+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",o=this._pointers,s=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=i.add(r)._divideBy(2),this._startDist=i.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),o.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(!e.options.bounceAtZoomLimits&&(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1)||(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t)))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),r=t.getZoom(),s=t.getScaleZoom(this._scale)-r,a=s>0?Math.ceil(s):Math.floor(s),u=t._limitZoom(r+a),c=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,e,c)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new o.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),o.DomEvent.on(n,"touchmove",this._onMove,this).on(n,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(n,"touchmove",this._onMove,this).off(n,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(e,i){var r=n.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!(!t.shiftKey||1!==t.which&&1!==t.button)&&(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(n,"mousemove",this._onMouseMove,this).on(n,"mouseup",this._onMouseUp,this).on(n,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),r=i.subtract(e),s=new o.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));o.DomUtil.setPosition(n,s),this._moved=!0,n.style.width=Math.max(0,Math.abs(r.x)-4)+"px",n.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(n,"mousemove",this._onMouseMove).off(n,"mouseup",this._onMouseUp).off(n,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;t.tabIndex===-1&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,r=e.scrollTop||i.scrollTop,o=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=o.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&o.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return o.DomUtil.addClass(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var s=n+t+" "+n+r;e[t+r]=o.DomUtil.create("div",s,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=o.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,r,s){var a=o.DomUtil.create("a",n,i);a.innerHTML=t,a.href="#",a.title=e;var u=o.DomEvent.stopPropagation;return o.DomEvent.on(a,"click",u).on(a,"mousedown",u).on(a,"dblclick",u).on(a,"click",o.DomEvent.preventDefault).on(a,"click",r,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(t)return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(t)return this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=o.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,s=0;r.x>0&&(s=i*(o.maxWidth/r.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=e<1e3?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(i=this._getRoundNum(r),o.style.width=this._getScaleWidth(i/r)+"px",o.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){o.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);
var i=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",o.Browser.touch?o.DomEvent.on(i,"click",o.DomEvent.stop).on(i,"click",this._expand,this):o.DomEvent.on(i,"focus",this._expand,this),o.DomEvent.on(n,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",n),this._separator=o.DomUtil.create("div",t+"-separator",n),this._overlaysList=o.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=o.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var r=n.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var e,i=n.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=o.stamp(t.layer),o.DomEvent.on(e,"click",this._onInputClick,this);var s=n.createElement("span");s.innerHTML=" "+t.name,i.appendChild(e),i.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;t<r;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,n){return new o.Control.Layers(t,e,n)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,r=this._el,s=t.getComputedStyle(r);if(o.Browser.any3d){if(i=s[o.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(s.left),n=parseFloat(s.top);return new o.Point(e,n,(!0))},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;t<e?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),o=this._getCenterLayerPoint()._add(r);return!(n.animate!==!0&&!this.getSize().contains(r))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,i,null,!0),!0)},_animateZoom:function(t,e,n,i,r,s,a){a||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:r,backwards:s}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),o.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)},this))}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=o.DomUtil.TRANSFORM,i=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[n],r=o.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?r+" "+i:i+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&i<.5?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;e<n;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=r.length;e<n;e++)i=r[e],i.complete||(i.onload=o.Util.falseFn,i.onerror=o.Util.falseFn,i.src=o.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),n=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new o.LatLng(e,n),r=180*t.coords.accuracy/40075017,s=r/Math.cos(o.LatLng.DEG_TO_RAD*e),a=o.latLngBounds([e-r,n-s],[e+r,n+s]),u=this._locateOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(a),u.maxZoom);this.setView(i,c)}var l={latlng:i,bounds:a,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(l[h]=t.coords[h]);this.fire("locationfound",l)}})}(window,document)},{}],74:[function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==i&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){p(function(){var i;try{i=e(n)}catch(r){return m.reject(t,r)}i===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,i)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,m.reject(t,e))}function i(e){o||(o=!0,m.resolve(t,e))}function r(){e(i,n)}var o=!1,s=c(r);"error"===s.status&&n(s.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(i){n.status="error",n.value=i}return n}function l(t){return t instanceof this?t:m.resolve(new this(i),t)}function h(t){var e=new this(i);return m.reject(e,t)}function f(t){function e(t,e){function i(t){s[e]=t,++a!==r||o||(o=!0,m.resolve(c,s))}n.resolve(t).then(i,function(t){o||(o=!0,m.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,u=-1,c=new this(i);++u<r;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,m.resolve(a,t))},function(t){o||(o=!0,m.reject(a,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=-1,a=new this(i);++s<r;)e(t[s]);return a}var p=t("immediate"),m={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];e.exports=r,r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(i);if(this.state!==y){var r=this.state===g?t:e;s(n,r,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=c(a,e);if("error"===n.status)return m.reject(t,n.value);var i=n.value;if(i)u(t,i);else{t.state=g,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},m.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=l,r.reject=h,r.all=f,r.race=d},{immediate:69}],75:[function(t,e,n){(function(t){(function(){function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function o(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function u(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function c(t,e){var n=null==t?0:t.length;return!!n&&b(t,e,0)>-1}function l(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function h(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function f(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function d(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function m(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function v(t){return t.split("")}function g(t){return t.match(Fe)||[]}function y(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function _(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function b(t,e,n){return e===e?G(t,e,n):_(t,x,n)}function w(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function x(t){return t!==t}function k(t,e){var n=null==t?0:t.length;return n?T(t,e)/n:Nt}function E(t){return function(e){return null==e?et:e[t]}}function C(t){return function(e){return null==t?et:t[e]}}function $(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function T(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==et&&(n=n===et?o:n+o)}return n}function D(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function A(t,e){return h(e,function(e){return[e,t[e]]})}function j(t){return function(e){return t(e)}}function P(t,e){return h(e,function(e){return t[e]})}function O(t,e){return t.has(e)}function N(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function M(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function I(t){return"\\"+Qn[t]}function R(t,e){return null==t?et:t[e]}function F(t){return Bn.test(t)}function U(t){return Hn.test(t)}function q(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function B(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==ut||(t[n]=ut,o[r++]=n)}return o}function z(t,e){return"__proto__"==e?et:t[e]}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Z(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function X(t){return F(t)?Q(t):mi(t)}function J(t){return F(t)?K(t):v(t)}function Q(t){for(var e=qn.lastIndex=0;qn.test(t);)++e;return e}function K(t){return t.match(qn)||[]}function tt(t){return t.match(Vn)||[]}var et,nt="4.17.5",it=200,rt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",st="__lodash_hash_undefined__",at=500,ut="__lodash_placeholder__",ct=1,lt=2,ht=4,ft=1,dt=2,pt=1,mt=2,vt=4,gt=8,yt=16,_t=32,bt=64,wt=128,xt=256,kt=512,Et=30,Ct="...",$t=800,St=16,Tt=1,Dt=2,At=3,jt=1/0,Pt=9007199254740991,Ot=1.7976931348623157e308,Nt=NaN,Mt=4294967295,Lt=Mt-1,It=Mt>>>1,Rt=[["ary",wt],["bind",pt],["bindKey",mt],["curry",gt],["curryRight",yt],["flip",kt],["partial",_t],["partialRight",bt],["rearg",xt]],Ft="[object Arguments]",Ut="[object Array]",qt="[object AsyncFunction]",Vt="[object Boolean]",Bt="[object Date]",Ht="[object DOMException]",zt="[object Error]",Wt="[object Function]",Yt="[object GeneratorFunction]",Gt="[object Map]",Zt="[object Number]",Xt="[object Null]",Jt="[object Object]",Qt="[object Promise]",Kt="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",ie="[object Symbol]",re="[object Undefined]",oe="[object WeakMap]",se="[object WeakSet]",ae="[object ArrayBuffer]",ue="[object DataView]",ce="[object Float32Array]",le="[object Float64Array]",he="[object Int8Array]",fe="[object Int16Array]",de="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",ve="[object Uint16Array]",ge="[object Uint32Array]",ye=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,ke=RegExp(we.source),Ee=RegExp(xe.source),Ce=/<%-([\s\S]+?)%>/g,$e=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(je.source),Oe=/^\s+|\s+$/g,Ne=/^\s+/,Me=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,Be=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Qe="\\u0300-\\u036f",Ke="\\ufe20-\\ufe2f",tn="\\u20d0-\\u20ff",en=Qe+Ke+tn,nn="\\u2700-\\u27bf",rn="a-z\\xdf-\\xf6\\xf8-\\xff",on="\\xac\\xb1\\xd7\\xf7",sn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cn="A-Z\\xc0-\\xd6\\xd8-\\xde",ln="\\ufe0e\\ufe0f",hn=on+sn+an+un,fn="[']",dn="["+Je+"]",pn="["+hn+"]",mn="["+en+"]",vn="\\d+",gn="["+nn+"]",yn="["+rn+"]",_n="[^"+Je+hn+vn+nn+rn+cn+"]",bn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+mn+"|"+bn+")",xn="[^"+Je+"]",kn="(?:\\ud83c[\\udde6-\\uddff]){2}",En="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+cn+"]",$n="\\u200d",Sn="(?:"+yn+"|"+_n+")",Tn="(?:"+Cn+"|"+_n+")",Dn="(?:"+fn+"(?:d|ll|m|re|s|t|ve))?",An="(?:"+fn+"(?:D|LL|M|RE|S|T|VE))?",jn=wn+"?",Pn="["+ln+"]?",On="(?:"+$n+"(?:"+[xn,kn,En].join("|")+")"+Pn+jn+")*",Nn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ln=Pn+jn+On,In="(?:"+[gn,kn,En].join("|")+")"+Ln,Rn="(?:"+[xn+mn+"?",mn,kn,En,dn].join("|")+")",Fn=RegExp(fn,"g"),Un=RegExp(mn,"g"),qn=RegExp(bn+"(?="+bn+")|"+Rn+Ln,"g"),Vn=RegExp([Cn+"?"+yn+"+"+Dn+"(?="+[pn,Cn,"$"].join("|")+")",Tn+"+"+An+"(?="+[pn,Cn+Sn,"$"].join("|")+")",Cn+"?"+Sn+"+"+Dn,Cn+"+"+An,Mn,Nn,vn,In].join("|"),"g"),Bn=RegExp("["+$n+Je+en+ln+"]"),Hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wn=-1,Yn={};Yn[ce]=Yn[le]=Yn[he]=Yn[fe]=Yn[de]=Yn[pe]=Yn[me]=Yn[ve]=Yn[ge]=!0,Yn[Ft]=Yn[Ut]=Yn[ae]=Yn[Vt]=Yn[ue]=Yn[Bt]=Yn[zt]=Yn[Wt]=Yn[Gt]=Yn[Zt]=Yn[Jt]=Yn[te]=Yn[ee]=Yn[ne]=Yn[oe]=!1;var Gn={};Gn[Ft]=Gn[Ut]=Gn[ae]=Gn[ue]=Gn[Vt]=Gn[Bt]=Gn[ce]=Gn[le]=Gn[he]=Gn[fe]=Gn[de]=Gn[Gt]=Gn[Zt]=Gn[Jt]=Gn[te]=Gn[ee]=Gn[ne]=Gn[ie]=Gn[pe]=Gn[me]=Gn[ve]=Gn[ge]=!0,Gn[zt]=Gn[Wt]=Gn[oe]=!1;var Zn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Xn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kn=parseFloat,ti=parseInt,ei="object"==typeof t&&t&&t.Object===Object&&t,ni="object"==typeof self&&self&&self.Object===Object&&self,ii=ei||ni||Function("return this")(),ri="object"==typeof n&&n&&!n.nodeType&&n,oi=ri&&"object"==typeof e&&e&&!e.nodeType&&e,si=oi&&oi.exports===ri,ai=si&&ei.process,ui=function(){try{return ai&&ai.binding&&ai.binding("util")}catch(t){}}(),ci=ui&&ui.isArrayBuffer,li=ui&&ui.isDate,hi=ui&&ui.isMap,fi=ui&&ui.isRegExp,di=ui&&ui.isSet,pi=ui&&ui.isTypedArray,mi=E("length"),vi=C(Zn),gi=C(Xn),yi=C(Jn),_i=function wi(t){function e(t){if(ou(t)&&!gf(t)&&!(t instanceof C)){if(t instanceof v)return t;if(vl.call(t,"__wrapped__"))return ns(t)}return new v(t)}function n(){}function v(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=et}function C(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mt,this.__views__=[]}function G(){var t=new C(this.__wrapped__);return t.__actions__=Lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lr(this.__views__),t}function Q(){if(this.__filtered__){var t=new C(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function K(){var t=this.__wrapped__.value(),e=this.__dir__,n=gf(t),i=e<0,r=n?t.length:0,o=$o(0,r,this.__views__),s=o.start,a=o.end,u=a-s,c=i?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=Wl(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return _r(t,this.__actions__);var p=[];t:for(;u--&&f<d;){c+=e;for(var m=-1,v=t[c];++m<h;){var g=l[m],y=g.iteratee,_=g.type,b=y(v);if(_==Dt)v=b;else if(!b){if(_==Tt)continue t;break t}}p[f++]=v}return p}function Fe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Je(){this.__data__=nh?nh(null):{},this.size=0}function Qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ke(t){var e=this.__data__;if(nh){var n=e[t];return n===st?et:n}return vl.call(e,t)?e[t]:et}function tn(t){var e=this.__data__;return nh?e[t]!==et:vl.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nh&&e===et?st:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=An(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Al.call(e,n,1),--this.size,!0}function sn(t){var e=this.__data__,n=An(e,t);return n<0?et:e[n][1]}function an(t){return An(this.__data__,t)>-1}function un(t,e){var n=this.__data__,i=An(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ln(){this.size=0,this.__data__={hash:new Fe,map:new(Ql||nn),string:new Fe}}function hn(t){var e=xo(this,t)["delete"](t);return this.size-=e?1:0,e}function fn(t){return xo(this,t).get(t)}function dn(t){return xo(this,t).has(t)}function pn(t,e){var n=xo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,st),this}function gn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new nn(t);this.size=e.size}function _n(){this.__data__=new nn,this.size=0}function bn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function wn(t){return this.__data__.get(t)}function xn(t){return this.__data__.has(t)}function kn(t,e){var n=this.__data__;if(n instanceof nn){var i=n.__data__;if(!Ql||i.length<it-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(i)}return n.set(t,e),this.size=n.size,this}function En(t,e){var n=gf(t),i=!n&&vf(t),r=!n&&!i&&_f(t),o=!n&&!i&&!r&&Ef(t),s=n||i||r||o,a=s?D(t.length,cl):[],u=a.length;for(var c in t)!e&&!vl.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||No(c,u))||a.push(c);return a}function Cn(t){var e=t.length;return e?t[tr(0,e-1)]:et}function $n(t,e){return Qo(Lr(t),Ln(e,0,t.length))}function Sn(t){return Qo(Lr(t))}function Tn(t,e,n){(n===et||za(t[e],n))&&(n!==et||e in t)||Nn(t,e,n)}function Dn(t,e,n){var i=t[e];vl.call(t,e)&&za(i,n)&&(n!==et||e in t)||Nn(t,e,n)}function An(t,e){for(var n=t.length;n--;)if(za(t[n][0],e))return n;return-1}function jn(t,e,n,i){return ph(t,function(t,r,o){e(i,t,n(t),o)}),i}function Pn(t,e){return t&&Ir(e,Uu(e),t)}function On(t,e){return t&&Ir(e,qu(e),t)}function Nn(t,e,n){"__proto__"==e&&Nl?Nl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Mn(t,e){for(var n=-1,i=e.length,r=nl(i),o=null==t;++n<i;)r[n]=o?et:Iu(t,e[n]);return r}function Ln(t,e,n){return t===t&&(n!==et&&(t=t<=n?t:n),e!==et&&(t=t>=e?t:e)),t}function In(t,e,n,i,r,s){var a,u=e&ct,c=e&lt,l=e&ht;if(n&&(a=r?n(t,i,r,s):n(t)),a!==et)return a;if(!ru(t))return t;var h=gf(t);if(h){if(a=Do(t),!u)return Lr(t,a)}else{var f=$h(t),d=f==Wt||f==Yt;if(_f(t))return $r(t,u);if(f==Jt||f==Ft||d&&!r){if(a=c||d?{}:Ao(t),!u)return c?Fr(t,On(a,t)):Rr(t,Pn(a,t))}else{if(!Gn[f])return r?t:{};a=jo(t,f,u)}}s||(s=new yn);var p=s.get(t);if(p)return p;if(s.set(t,a),kf(t))return t.forEach(function(i){a.add(In(i,e,n,i,t,s))}),a;if(wf(t))return t.forEach(function(i,r){a.set(r,In(i,e,n,r,t,s))}),a;var m=l?c?yo:go:c?qu:Uu,v=h?et:m(t);return o(v||t,function(i,r){v&&(r=i,i=t[r]),Dn(a,r,In(i,e,n,r,t,s))}),a}function Rn(t){var e=Uu(t);return function(n){return qn(n,t,e)}}function qn(t,e,n){var i=n.length;if(null==t)return!i;for(t=al(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===et&&!(r in t)||!o(s))return!1}return!0}function Vn(t,e,n){if("function"!=typeof t)throw new ll(ot);return Dh(function(){t.apply(et,n)},e)}function Bn(t,e,n,i){var r=-1,o=c,s=!0,a=t.length,u=[],f=e.length;if(!a)return u;n&&(e=h(e,j(n))),i?(o=l,s=!1):e.length>=it&&(o=O,s=!1,e=new mn(e));t:for(;++r<a;){var d=t[r],p=null==n?d:n(d);if(d=i||0!==d?d:0,s&&p===p){for(var m=f;m--;)if(e[m]===p)continue t;u.push(d)}else o(e,p,i)||u.push(d)}return u}function Hn(t,e){var n=!0;return ph(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Zn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===et?s===s&&!vu(s):n(s,a)))var a=s,u=o}return u}function Xn(t,e,n,i){var r=t.length;for(n=xu(n),n<0&&(n=-n>r?0:r+n),i=i===et||i>r?r:xu(i),i<0&&(i+=r),i=n>i?0:ku(i);n<i;)t[n++]=e;return t}function Jn(t,e){var n=[];return ph(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Qn(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Oo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Qn(a,e-1,n,i,r):f(r,a):i||(r[r.length]=a)}return r}function ei(t,e){return t&&vh(t,e,Uu)}function ni(t,e){return t&&gh(t,e,Uu)}function ri(t,e){return u(e,function(e){return eu(t[e])})}function oi(t,e){e=Er(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Ko(e[n++])];return n&&n==i?t:et}function ai(t,e,n){var i=e(t);return gf(t)?i:f(i,n(t))}function ui(t){return null==t?t===et?re:Xt:Ol&&Ol in al(t)?Co(t):Wo(t)}function mi(t,e){return t>e}function _i(t,e){return null!=t&&vl.call(t,e)}function xi(t,e){return null!=t&&e in al(t)}function ki(t,e,n){return t>=Wl(e,n)&&t<zl(e,n)}function Ei(t,e,n){for(var i=n?l:c,r=t[0].length,o=t.length,s=o,a=nl(o),u=1/0,f=[];s--;){var d=t[s];s&&e&&(d=h(d,j(e))),u=Wl(d.length,u),a[s]=!n&&(e||r>=120&&d.length>=120)?new mn(s&&d):et}d=t[0];var p=-1,m=a[0];t:for(;++p<r&&f.length<u;){var v=d[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(m?O(m,g):i(f,g,n))){for(s=o;--s;){var y=a[s];if(!(y?O(y,g):i(t[s],g,n)))continue t}m&&m.push(g),f.push(v)}}return f}function Ci(t,e,n,i){return ei(t,function(t,r,o){e(i,n(t),r,o)}),i}function $i(t,e,n){e=Er(e,t),t=Go(t,e);var r=null==t?t:t[Ko(ws(e))];return null==r?et:i(r,t,n)}function Si(t){return ou(t)&&ui(t)==Ft}function Ti(t){return ou(t)&&ui(t)==ae}function Di(t){return ou(t)&&ui(t)==Bt}function Ai(t,e,n,i,r){return t===e||(null==t||null==e||!ou(t)&&!ou(e)?t!==t&&e!==e:ji(t,e,n,i,Ai,r))}function ji(t,e,n,i,r,o){var s=gf(t),a=gf(e),u=s?Ut:$h(t),c=a?Ut:$h(e);u=u==Ft?Jt:u,c=c==Ft?Jt:c;var l=u==Jt,h=c==Jt,f=u==c;if(f&&_f(t)){if(!_f(e))return!1;s=!0,l=!1}if(f&&!l)return o||(o=new yn),s||Ef(t)?fo(t,e,n,i,r,o):po(t,e,u,n,i,r,o);if(!(n&ft)){var d=l&&vl.call(t,"__wrapped__"),p=h&&vl.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,v=p?e.value():e;return o||(o=new yn),r(m,v,n,i,o)}}return!!f&&(o||(o=new yn),
mo(t,e,n,i,r,o))}function Pi(t){return ou(t)&&$h(t)==Gt}function Oi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=al(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var u=a[0],c=t[u],l=a[1];if(s&&a[2]){if(c===et&&!(u in t))return!1}else{var h=new yn;if(i)var f=i(c,l,u,t,e,h);if(!(f===et?Ai(l,c,ft|dt,i,h):f))return!1}}return!0}function Ni(t){if(!ru(t)||Fo(t))return!1;var e=eu(t)?xl:ze;return e.test(ts(t))}function Mi(t){return ou(t)&&ui(t)==te}function Li(t){return ou(t)&&$h(t)==ee}function Ii(t){return ou(t)&&iu(t.length)&&!!Yn[ui(t)]}function Ri(t){return"function"==typeof t?t:null==t?Ac:"object"==typeof t?gf(t)?Hi(t[0],t[1]):Bi(t):Rc(t)}function Fi(t){if(!Uo(t))return Hl(t);var e=[];for(var n in al(t))vl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ui(t){if(!ru(t))return zo(t);var e=Uo(t),n=[];for(var i in t)("constructor"!=i||!e&&vl.call(t,i))&&n.push(i);return n}function qi(t,e){return t<e}function Vi(t,e){var n=-1,i=Wa(t)?nl(t.length):[];return ph(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Bi(t){var e=ko(t);return 1==e.length&&e[0][2]?Vo(e[0][0],e[0][1]):function(n){return n===t||Oi(n,t,e)}}function Hi(t,e){return Lo(t)&&qo(e)?Vo(Ko(t),e):function(n){var i=Iu(n,t);return i===et&&i===e?Fu(n,t):Ai(e,i,ft|dt)}}function zi(t,e,n,i,r){t!==e&&vh(e,function(o,s){if(ru(o))r||(r=new yn),Wi(t,e,s,n,zi,i,r);else{var a=i?i(z(t,s),o,s+"",t,e,r):et;a===et&&(a=o),Tn(t,s,a)}},qu)}function Wi(t,e,n,i,r,o,s){var a=z(t,n),u=z(e,n),c=s.get(u);if(c)return void Tn(t,n,c);var l=o?o(a,u,n+"",t,e,s):et,h=l===et;if(h){var f=gf(u),d=!f&&_f(u),p=!f&&!d&&Ef(u);l=u,f||d||p?gf(a)?l=a:Ya(a)?l=Lr(a):d?(h=!1,l=$r(u,!0)):p?(h=!1,l=jr(u,!0)):l=[]:du(u)||vf(u)?(l=a,vf(a)?l=Cu(a):(!ru(a)||i&&eu(a))&&(l=Ao(u))):h=!1}h&&(s.set(u,l),r(l,u,i,o,s),s["delete"](u)),Tn(t,n,l)}function Yi(t,e){var n=t.length;if(n)return e+=e<0?n:0,No(e,n)?t[e]:et}function Gi(t,e,n){var i=-1;e=h(e.length?e:[Ac],j(wo()));var r=Vi(t,function(t,n,r){var o=h(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return S(r,function(t,e){return Or(t,e,n)})}function Zi(t,e){return Xi(t,e,function(e,n){return Fu(t,n)})}function Xi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=oi(t,s);n(a,s)&&sr(o,Er(s,t),a)}return o}function Ji(t){return function(e){return oi(e,t)}}function Qi(t,e,n,i){var r=i?w:b,o=-1,s=e.length,a=t;for(t===e&&(e=Lr(e)),n&&(a=h(t,j(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=r(a,l,u,i))>-1;)a!==t&&Al.call(a,u,1),Al.call(t,u,1);return t}function Ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;No(r)?Al.call(t,r,1):vr(t,r)}}return t}function tr(t,e){return t+Fl(Zl()*(e-t+1))}function er(t,e,n,i){for(var r=-1,o=zl(Rl((e-t)/(n||1)),0),s=nl(o);o--;)s[i?o:++r]=t,t+=n;return s}function nr(t,e){var n="";if(!t||e<1||e>Pt)return n;do e%2&&(n+=t),e=Fl(e/2),e&&(t+=t);while(e);return n}function ir(t,e){return Ah(Yo(t,e,Ac),t+"")}function rr(t){return Cn(Ku(t))}function or(t,e){var n=Ku(t);return Qo(n,Ln(e,0,n.length))}function sr(t,e,n,i){if(!ru(t))return t;e=Er(e,t);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var u=Ko(e[r]),c=n;if(r!=s){var l=a[u];c=i?i(l,u,a):et,c===et&&(c=ru(l)?l:No(e[r+1])?[]:{})}Dn(a,u,c),a=a[u]}return t}function ar(t){return Qo(Ku(t))}function ur(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=nl(r);++i<r;)o[i]=t[i+e];return o}function cr(t,e){var n;return ph(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function lr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=It){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!vu(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return hr(t,e,Ac,n)}function hr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!==e,a=null===e,u=vu(e),c=e===et;r<o;){var l=Fl((r+o)/2),h=n(t[l]),f=h!==et,d=null===h,p=h===h,m=vu(h);if(s)var v=i||p;else v=c?p&&(i||f):a?p&&f&&(i||!d):u?p&&f&&!d&&(i||!m):!d&&!m&&(i?h<=e:h<e);v?r=l+1:o=l}return Wl(o,Lt)}function fr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!za(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function dr(t){return"number"==typeof t?t:vu(t)?Nt:+t}function pr(t){if("string"==typeof t)return t;if(gf(t))return h(t,pr)+"";if(vu(t))return fh?fh.call(t):"";var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function mr(t,e,n){var i=-1,r=c,o=t.length,s=!0,a=[],u=a;if(n)s=!1,r=l;else if(o>=it){var h=e?null:xh(t);if(h)return W(h);s=!1,r=O,u=new mn}else u=e?[]:a;t:for(;++i<o;){var f=t[i],d=e?e(f):f;if(f=n||0!==f?f:0,s&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),a.push(f)}else r(u,d,n)||(u!==a&&u.push(d),a.push(f))}return a}function vr(t,e){return e=Er(e,t),t=Go(t,e),null==t||delete t[Ko(ws(e))]}function gr(t,e,n,i){return sr(t,e,n(oi(t,e)),i)}function yr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ur(t,i?0:o,i?o+1:r):ur(t,i?o+1:0,i?r:o)}function _r(t,e){var n=t;return n instanceof C&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,f([t],e.args))},n)}function br(t,e,n){var i=t.length;if(i<2)return i?mr(t[0]):[];for(var r=-1,o=nl(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=Bn(o[r]||s,t[a],e,n));return mr(Qn(o,1),e,n)}function wr(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:et;n(s,t[i],a)}return s}function xr(t){return Ya(t)?t:[]}function kr(t){return"function"==typeof t?t:Ac}function Er(t,e){return gf(t)?t:Lo(t,e)?[t]:jh(Su(t))}function Cr(t,e,n){var i=t.length;return n=n===et?i:n,!e&&n>=i?t:ur(t,e,n)}function $r(t,e){if(e)return t.slice();var n=t.length,i=$l?$l(n):new t.constructor(n);return t.copy(i),i}function Sr(t){var e=new t.constructor(t.byteLength);return new Cl(e).set(new Cl(t)),e}function Tr(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Dr(t){var e=new t.constructor(t.source,Ve.exec(t));return e.lastIndex=t.lastIndex,e}function Ar(t){return hh?al(hh.call(t)):{}}function jr(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pr(t,e){if(t!==e){var n=t!==et,i=null===t,r=t===t,o=vu(t),s=e!==et,a=null===e,u=e===e,c=vu(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||i&&s&&u||!n&&u||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!u)return-1}return 0}function Or(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=Pr(r[i],o[i]);if(u){if(i>=a)return u;var c=n[i];return u*("desc"==c?-1:1)}}return t.index-e.index}function Nr(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,u=e.length,c=zl(o-s,0),l=nl(u+c),h=!i;++a<u;)l[a]=e[a];for(;++r<s;)(h||r<o)&&(l[n[r]]=t[r]);for(;c--;)l[a++]=t[r++];return l}function Mr(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,u=-1,c=e.length,l=zl(o-a,0),h=nl(l+c),f=!i;++r<l;)h[r]=t[r];for(var d=r;++u<c;)h[d+u]=e[u];for(;++s<a;)(f||r<o)&&(h[d+n[s]]=t[r++]);return h}function Lr(t,e){var n=-1,i=t.length;for(e||(e=nl(i));++n<i;)e[n]=t[n];return e}function Ir(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):et;u===et&&(u=t[a]),r?Nn(n,a,u):Dn(n,a,u)}return n}function Rr(t,e){return Ir(t,Eh(t),e)}function Fr(t,e){return Ir(t,Ch(t),e)}function Ur(t,e){return function(n,i){var o=gf(n)?r:jn,s=e?e():{};return o(n,t,wo(i,2),s)}}function qr(t){return ir(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:et,s=r>2?n[2]:et;for(o=t.length>3&&"function"==typeof o?(r--,o):et,s&&Mo(n[0],n[1],s)&&(o=r<3?et:o,r=1),e=al(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Vr(t,e){return function(n,i){if(null==n)return n;if(!Wa(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=al(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Br(t){return function(e,n,i){for(var r=-1,o=al(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(n(o[u],u,o)===!1)break}return e}}function Hr(t,e,n){function i(){var e=this&&this!==ii&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&pt,o=Yr(t);return i}function zr(t){return function(e){e=Su(e);var n=F(e)?J(e):et,i=n?n[0]:e.charAt(0),r=n?Cr(n,1).join(""):e.slice(1);return i[t]()+r}}function Wr(t){return function(e){return d(Cc(oc(e).replace(Fn,"")),t,"")}}function Yr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dh(t.prototype),i=t.apply(n,e);return ru(i)?i:n}}function Gr(t,e,n){function r(){for(var s=arguments.length,a=nl(s),u=s,c=bo(r);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:H(a,c);if(s-=l.length,s<n)return oo(t,e,Jr,r.placeholder,et,a,l,et,et,n-s);var h=this&&this!==ii&&this instanceof r?o:t;return i(h,this,a)}var o=Yr(t);return r}function Zr(t){return function(e,n,i){var r=al(e);if(!Wa(e)){var o=wo(n,3);e=Uu(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:et}}function Xr(t){return vo(function(e){var n=e.length,i=n,r=v.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new ll(ot);if(r&&!s&&"wrapper"==_o(o))var s=new v([],(!0))}for(i=s?i:n;++i<n;){o=e[i];var a=_o(o),u="wrapper"==a?kh(o):et;s=u&&Ro(u[0])&&u[1]==(wt|gt|_t|xt)&&!u[4].length&&1==u[9]?s[_o(u[0])].apply(s,u[3]):1==o.length&&Ro(o)?s[a]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&gf(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Jr(t,e,n,i,r,o,s,a,u,c){function l(){for(var g=arguments.length,y=nl(g),_=g;_--;)y[_]=arguments[_];if(p)var b=bo(l),w=L(y,b);if(i&&(y=Nr(y,i,r,p)),o&&(y=Mr(y,o,s,p)),g-=w,p&&g<c){var x=H(y,b);return oo(t,e,Jr,l.placeholder,n,y,x,a,u,c-g)}var k=f?n:this,E=d?k[t]:t;return g=y.length,a?y=Zo(y,a):m&&g>1&&y.reverse(),h&&u<g&&(y.length=u),this&&this!==ii&&this instanceof l&&(E=v||Yr(E)),E.apply(k,y)}var h=e&wt,f=e&pt,d=e&mt,p=e&(gt|yt),m=e&kt,v=d?et:Yr(t);return l}function Qr(t,e){return function(n,i){return Ci(n,t,e(i),{})}}function Kr(t,e){return function(n,i){var r;if(n===et&&i===et)return e;if(n!==et&&(r=n),i!==et){if(r===et)return i;"string"==typeof n||"string"==typeof i?(n=pr(n),i=pr(i)):(n=dr(n),i=dr(i)),r=t(n,i)}return r}}function to(t){return vo(function(e){return e=h(e,j(wo())),ir(function(n){var r=this;return t(e,function(t){return i(t,r,n)})})})}function eo(t,e){e=e===et?" ":pr(e);var n=e.length;if(n<2)return n?nr(e,t):e;var i=nr(e,Rl(t/X(e)));return F(e)?Cr(J(i),0,t).join(""):i.slice(0,t)}function no(t,e,n,r){function o(){for(var e=-1,u=arguments.length,c=-1,l=r.length,h=nl(l+u),f=this&&this!==ii&&this instanceof o?a:t;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++e];return i(f,s?n:this,h)}var s=e&pt,a=Yr(t);return o}function io(t){return function(e,n,i){return i&&"number"!=typeof i&&Mo(e,n,i)&&(n=i=et),e=wu(e),n===et?(n=e,e=0):n=wu(n),i=i===et?e<n?1:-1:wu(i),er(e,n,i,t)}}function ro(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Eu(e),n=Eu(n)),t(e,n)}}function oo(t,e,n,i,r,o,s,a,u,c){var l=e&gt,h=l?s:et,f=l?et:s,d=l?o:et,p=l?et:o;e|=l?_t:bt,e&=~(l?bt:_t),e&vt||(e&=~(pt|mt));var m=[t,e,r,d,h,p,f,a,u,c],v=n.apply(et,m);return Ro(t)&&Th(v,m),v.placeholder=i,Xo(v,t,e)}function so(t){var e=sl[t];return function(t,n){if(t=Eu(t),n=null==n?0:Wl(xu(n),292)){var i=(Su(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Su(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ao(t){return function(e){var n=$h(e);return n==Gt?V(e):n==ee?Y(e):A(e,t(e))}}function uo(t,e,n,i,r,o,s,a){var u=e&mt;if(!u&&"function"!=typeof t)throw new ll(ot);var c=i?i.length:0;if(c||(e&=~(_t|bt),i=r=et),s=s===et?s:zl(xu(s),0),a=a===et?a:xu(a),c-=r?r.length:0,e&bt){var l=i,h=r;i=r=et}var f=u?et:kh(t),d=[t,e,n,i,r,l,h,o,s,a];if(f&&Ho(d,f),t=d[0],e=d[1],n=d[2],i=d[3],r=d[4],a=d[9]=d[9]===et?u?0:t.length:zl(d[9]-c,0),!a&&e&(gt|yt)&&(e&=~(gt|yt)),e&&e!=pt)p=e==gt||e==yt?Gr(t,e,a):e!=_t&&e!=(pt|_t)||r.length?Jr.apply(et,d):no(t,e,n,i);else var p=Hr(t,e,n);var m=f?yh:Th;return Xo(m(p,d),t,e)}function co(t,e,n,i){return t===et||za(t,dl[n])&&!vl.call(i,n)?e:t}function lo(t,e,n,i,r,o){return ru(t)&&ru(e)&&(o.set(e,t),zi(t,e,et,lo,o),o["delete"](e)),t}function ho(t){return du(t)?et:t}function fo(t,e,n,i,r,o){var s=n&ft,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,f=n&dt?new mn:et;for(o.set(t,e),o.set(e,t);++l<a;){var d=t[l],p=e[l];if(i)var v=s?i(p,d,l,e,t,o):i(d,p,l,t,e,o);if(v!==et){if(v)continue;h=!1;break}if(f){if(!m(e,function(t,e){if(!O(f,e)&&(d===t||r(d,t,n,i,o)))return f.push(e)})){h=!1;break}}else if(d!==p&&!r(d,p,n,i,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function po(t,e,n,i,r,o,s){switch(n){case ue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ae:return!(t.byteLength!=e.byteLength||!o(new Cl(t),new Cl(e)));case Vt:case Bt:case Zt:return za(+t,+e);case zt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Gt:var a=V;case ee:var u=i&ft;if(a||(a=W),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;i|=dt,s.set(t,e);var l=fo(a(t),a(e),i,r,o,s);return s["delete"](t),l;case ie:if(hh)return hh.call(t)==hh.call(e)}return!1}function mo(t,e,n,i,r,o){var s=n&ft,a=go(t),u=a.length,c=go(e),l=c.length;if(u!=l&&!s)return!1;for(var h=u;h--;){var f=a[h];if(!(s?f in e:vl.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var m=s;++h<u;){f=a[h];var v=t[f],g=e[f];if(i)var y=s?i(g,v,f,e,t,o):i(v,g,f,t,e,o);if(!(y===et?v===g||r(v,g,n,i,o):y)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o["delete"](t),o["delete"](e),p}function vo(t){return Ah(Yo(t,et,ds),t+"")}function go(t){return ai(t,Uu,Eh)}function yo(t){return ai(t,qu,Ch)}function _o(t){for(var e=t.name+"",n=rh[e],i=vl.call(rh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function bo(t){var n=vl.call(e,"placeholder")?e:t;return n.placeholder}function wo(){var t=e.iteratee||jc;return t=t===jc?Ri:t,arguments.length?t(arguments[0],arguments[1]):t}function xo(t,e){var n=t.__data__;return Io(e)?n["string"==typeof e?"string":"hash"]:n.map}function ko(t){for(var e=Uu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,qo(r)]}return e}function Eo(t,e){var n=R(t,e);return Ni(n)?n:et}function Co(t){var e=vl.call(t,Ol),n=t[Ol];try{t[Ol]=et;var i=!0}catch(r){}var o=_l.call(t);return i&&(e?t[Ol]=n:delete t[Ol]),o}function $o(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Wl(e,t+s);break;case"takeRight":t=zl(t,e-s)}}return{start:t,end:e}}function So(t){var e=t.match(Ie);return e?e[1].split(Re):[]}function To(t,e,n){e=Er(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var s=Ko(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&iu(r)&&No(s,r)&&(gf(t)||vf(t)))}function Do(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ao(t){return"function"!=typeof t.constructor||Uo(t)?{}:dh(Sl(t))}function jo(t,e,n){var i=t.constructor;switch(e){case ae:return Sr(t);case Vt:case Bt:return new i((+t));case ue:return Tr(t,n);case ce:case le:case he:case fe:case de:case pe:case me:case ve:case ge:return jr(t,n);case Gt:return new i;case Zt:case ne:return new i(t);case te:return Dr(t);case ee:return new i;case ie:return Ar(t)}}function Po(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Le,"{\n/* [wrapped with "+e+"] */\n")}function Oo(t){return gf(t)||vf(t)||!!(jl&&t&&t[jl])}function No(t,e){var n=typeof t;return e=null==e?Pt:e,!!e&&("number"==n||"symbol"!=n&&Ye.test(t))&&t>-1&&t%1==0&&t<e}function Mo(t,e,n){if(!ru(n))return!1;var i=typeof e;return!!("number"==i?Wa(n)&&No(e,n.length):"string"==i&&e in n)&&za(n[e],t)}function Lo(t,e){if(gf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!vu(t))||(De.test(t)||!Te.test(t)||null!=e&&t in al(e))}function Io(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ro(t){var n=_o(t),i=e[n];if("function"!=typeof i||!(n in C.prototype))return!1;if(t===i)return!0;var r=kh(i);return!!r&&t===r[0]}function Fo(t){return!!yl&&yl in t}function Uo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||dl;return t===n}function qo(t){return t===t&&!ru(t)}function Vo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==et||t in al(n)))}}function Bo(t){var e=ja(t,function(t){return n.size===at&&n.clear(),t}),n=e.cache;return e}function Ho(t,e){var n=t[1],i=e[1],r=n|i,o=r<(pt|mt|wt),s=i==wt&&n==gt||i==wt&&n==xt&&t[7].length<=e[8]||i==(wt|xt)&&e[7].length<=e[8]&&n==gt;if(!o&&!s)return t;i&pt&&(t[2]=e[2],r|=n&pt?0:vt);var a=e[3];if(a){var u=t[3];t[3]=u?Nr(u,a,e[4]):a,t[4]=u?H(t[3],ut):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Mr(u,a,e[6]):a,t[6]=u?H(t[5],ut):e[6]),a=e[7],a&&(t[7]=a),i&wt&&(t[8]=null==t[8]?e[8]:Wl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function zo(t){var e=[];if(null!=t)for(var n in al(t))e.push(n);return e}function Wo(t){return _l.call(t)}function Yo(t,e,n){return e=zl(e===et?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=zl(r.length-e,0),a=nl(s);++o<s;)a[o]=r[e+o];o=-1;for(var u=nl(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),i(t,this,u)}}function Go(t,e){return e.length<2?t:oi(t,ur(e,0,-1))}function Zo(t,e){for(var n=t.length,i=Wl(e.length,n),r=Lr(t);i--;){var o=e[i];t[i]=No(o,n)?r[o]:et}return t}function Xo(t,e,n){var i=e+"";return Ah(t,Po(i,es(So(i),n)))}function Jo(t){var e=0,n=0;return function(){var i=Yl(),r=St-(i-n);if(n=i,r>0){if(++e>=$t)return arguments[0]}else e=0;return t.apply(et,arguments)}}function Qo(t,e){var n=-1,i=t.length,r=i-1;for(e=e===et?i:e;++n<e;){var o=tr(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Ko(t){if("string"==typeof t||vu(t))return t;var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function ts(t){if(null!=t){try{return ml.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function es(t,e){return o(Rt,function(n){var i="_."+n[0];e&n[1]&&!c(t,i)&&t.push(i)}),t.sort()}function ns(t){if(t instanceof C)return t.clone();var e=new v(t.__wrapped__,t.__chain__);return e.__actions__=Lr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function is(t,e,n){e=(n?Mo(t,e,n):e===et)?1:zl(xu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,s=nl(Rl(i/e));r<i;)s[o++]=ur(t,r,r+=e);return s}function rs(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function os(){var t=arguments.length;if(!t)return[];for(var e=nl(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return f(gf(n)?Lr(n):[n],Qn(e,1))}function ss(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:xu(e),ur(t,e<0?0:e,i)):[]}function as(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:xu(e),e=i-e,ur(t,0,e<0?0:e)):[]}function us(t,e){return t&&t.length?yr(t,wo(e,3),!0,!0):[]}function cs(t,e){return t&&t.length?yr(t,wo(e,3),!0):[]}function ls(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Mo(t,e,n)&&(n=0,i=r),Xn(t,e,n,i)):[]}function hs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:xu(n);return r<0&&(r=zl(i+r,0)),_(t,wo(e,3),r)}function fs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==et&&(r=xu(n),r=n<0?zl(i+r,0):Wl(r,i-1)),_(t,wo(e,3),r,!0)}function ds(t){var e=null==t?0:t.length;return e?Qn(t,1):[]}function ps(t){var e=null==t?0:t.length;return e?Qn(t,jt):[]}function ms(t,e){var n=null==t?0:t.length;return n?(e=e===et?1:xu(e),Qn(t,e)):[]}function vs(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function gs(t){return t&&t.length?t[0]:et}function ys(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:xu(n);return r<0&&(r=zl(i+r,0)),b(t,e,r)}function _s(t){var e=null==t?0:t.length;return e?ur(t,0,-1):[]}function bs(t,e){return null==t?"":Bl.call(t,e)}function ws(t){var e=null==t?0:t.length;return e?t[e-1]:et}function xs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==et&&(r=xu(n),r=r<0?zl(i+r,0):Wl(r,i-1)),e===e?Z(t,e,r):_(t,x,r,!0)}function ks(t,e){return t&&t.length?Yi(t,xu(e)):et}function Es(t,e){return t&&t.length&&e&&e.length?Qi(t,e):t}function Cs(t,e,n){return t&&t.length&&e&&e.length?Qi(t,e,wo(n,2)):t}function $s(t,e,n){return t&&t.length&&e&&e.length?Qi(t,e,et,n):t}function Ss(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=wo(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Ki(t,r),n}function Ts(t){return null==t?t:Xl.call(t)}function Ds(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Mo(t,e,n)?(e=0,n=i):(e=null==e?0:xu(e),n=n===et?i:xu(n)),ur(t,e,n)):[]}function As(t,e){return lr(t,e)}function js(t,e,n){return hr(t,e,wo(n,2))}function Ps(t,e){var n=null==t?0:t.length;if(n){var i=lr(t,e);if(i<n&&za(t[i],e))return i}return-1}function Os(t,e){return lr(t,e,!0)}function Ns(t,e,n){return hr(t,e,wo(n,2),!0)}function Ms(t,e){var n=null==t?0:t.length;if(n){var i=lr(t,e,!0)-1;if(za(t[i],e))return i}return-1}function Ls(t){return t&&t.length?fr(t):[]}function Is(t,e){return t&&t.length?fr(t,wo(e,2)):[]}function Rs(t){var e=null==t?0:t.length;return e?ur(t,1,e):[]}function Fs(t,e,n){return t&&t.length?(e=n||e===et?1:xu(e),ur(t,0,e<0?0:e)):[]}function Us(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===et?1:xu(e),e=i-e,ur(t,e<0?0:e,i)):[]}function qs(t,e){return t&&t.length?yr(t,wo(e,3),!1,!0):[]}function Vs(t,e){return t&&t.length?yr(t,wo(e,3)):[]}function Bs(t){return t&&t.length?mr(t):[]}function Hs(t,e){return t&&t.length?mr(t,wo(e,2)):[]}function zs(t,e){return e="function"==typeof e?e:et,t&&t.length?mr(t,et,e):[]}function Ws(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(Ya(t))return e=zl(t.length,e),!0}),D(e,function(e){return h(t,E(e))})}function Ys(t,e){if(!t||!t.length)return[];var n=Ws(t);return null==e?n:h(n,function(t){return i(e,et,t)})}function Gs(t,e){return wr(t||[],e||[],Dn)}function Zs(t,e){return wr(t||[],e||[],sr)}function Xs(t){var n=e(t);return n.__chain__=!0,n}function Js(t,e){return e(t),t}function Qs(t,e){return e(t)}function Ks(){return Xs(this)}function ta(){return new v(this.value(),this.__chain__)}function ea(){this.__values__===et&&(this.__values__=bu(this.value()));var t=this.__index__>=this.__values__.length,e=t?et:this.__values__[this.__index__++];return{done:t,value:e}}function na(){return this}function ia(t){for(var e,i=this;i instanceof n;){var r=ns(i);r.__index__=0,r.__values__=et,e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function ra(){var t=this.__wrapped__;if(t instanceof C){var e=t;return this.__actions__.length&&(e=new C(this)),e=e.reverse(),e.__actions__.push({func:Qs,args:[Ts],thisArg:et}),new v(e,this.__chain__)}return this.thru(Ts)}function oa(){return _r(this.__wrapped__,this.__actions__)}function sa(t,e,n){var i=gf(t)?a:Hn;return n&&Mo(t,e,n)&&(e=et),i(t,wo(e,3))}function aa(t,e){var n=gf(t)?u:Jn;return n(t,wo(e,3))}function ua(t,e){return Qn(pa(t,e),1)}function ca(t,e){return Qn(pa(t,e),jt)}function la(t,e,n){return n=n===et?1:xu(n),Qn(pa(t,e),n)}function ha(t,e){var n=gf(t)?o:ph;return n(t,wo(e,3))}function fa(t,e){var n=gf(t)?s:mh;return n(t,wo(e,3))}function da(t,e,n,i){t=Wa(t)?t:Ku(t),n=n&&!i?xu(n):0;var r=t.length;return n<0&&(n=zl(r+n,0)),mu(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function pa(t,e){var n=gf(t)?h:Vi;return n(t,wo(e,3))}function ma(t,e,n,i){return null==t?[]:(gf(e)||(e=null==e?[]:[e]),n=i?et:n,gf(n)||(n=null==n?[]:[n]),Gi(t,e,n))}function va(t,e,n){var i=gf(t)?d:$,r=arguments.length<3;return i(t,wo(e,4),n,r,ph)}function ga(t,e,n){var i=gf(t)?p:$,r=arguments.length<3;return i(t,wo(e,4),n,r,mh)}function ya(t,e){var n=gf(t)?u:Jn;return n(t,Pa(wo(e,3)))}function _a(t){var e=gf(t)?Cn:rr;return e(t)}function ba(t,e,n){e=(n?Mo(t,e,n):e===et)?1:xu(e);var i=gf(t)?$n:or;return i(t,e)}function wa(t){var e=gf(t)?Sn:ar;return e(t)}function xa(t){if(null==t)return 0;if(Wa(t))return mu(t)?X(t):t.length;var e=$h(t);return e==Gt||e==ee?t.size:Fi(t).length}function ka(t,e,n){var i=gf(t)?m:cr;return n&&Mo(t,e,n)&&(e=et),i(t,wo(e,3))}function Ea(t,e){if("function"!=typeof e)throw new ll(ot);return t=xu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ca(t,e,n){return e=n?et:e,e=t&&null==e?t.length:e,uo(t,wt,et,et,et,et,e)}function $a(t,e){var n;if("function"!=typeof e)throw new ll(ot);return t=xu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=et),n}}function Sa(t,e,n){e=n?et:e;var i=uo(t,gt,et,et,et,et,et,e);return i.placeholder=Sa.placeholder,i}function Ta(t,e,n){e=n?et:e;var i=uo(t,yt,et,et,et,et,et,e);return i.placeholder=Ta.placeholder,i}function Da(t,e,n){function i(e){var n=f,i=d;return f=d=et,y=e,m=t.apply(i,n)}function r(t){return y=t,v=Dh(a,e),_?i(t):m}function o(t){var n=t-g,i=t-y,r=e-n;return b?Wl(r,p-i):r}function s(t){var n=t-g,i=t-y;return g===et||n>=e||n<0||b&&i>=p}function a(){var t=of();return s(t)?u(t):void(v=Dh(a,o(t)))}function u(t){return v=et,w&&f?i(t):(f=d=et,m)}function c(){v!==et&&wh(v),y=0,f=g=d=v=et}function l(){return v===et?m:u(of())}function h(){var t=of(),n=s(t);if(f=arguments,d=this,g=t,n){if(v===et)return r(g);if(b)return v=Dh(a,e),i(g)}return v===et&&(v=Dh(a,e)),m}var f,d,p,m,v,g,y=0,_=!1,b=!1,w=!0;if("function"!=typeof t)throw new ll(ot);return e=Eu(e)||0,ru(n)&&(_=!!n.leading,b="maxWait"in n,p=b?zl(Eu(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),h.cancel=c,h.flush=l,h}function Aa(t){return uo(t,kt)}function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ll(ot);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(ja.Cache||cn),n}function Pa(t){if("function"!=typeof t)throw new ll(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Oa(t){return $a(2,t)}function Na(t,e){if("function"!=typeof t)throw new ll(ot);return e=e===et?e:xu(e),ir(t,e)}function Ma(t,e){if("function"!=typeof t)throw new ll(ot);return e=null==e?0:zl(xu(e),0),ir(function(n){var r=n[e],o=Cr(n,0,e);return r&&f(o,r),i(t,this,o)})}function La(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ll(ot);return ru(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Da(t,e,{leading:i,maxWait:e,trailing:r})}function Ia(t){return Ca(t,1)}function Ra(t,e){return hf(kr(e),t)}function Fa(){if(!arguments.length)return[];var t=arguments[0];return gf(t)?t:[t]}function Ua(t){return In(t,ht)}function qa(t,e){return e="function"==typeof e?e:et,In(t,ht,e)}function Va(t){return In(t,ct|ht)}function Ba(t,e){return e="function"==typeof e?e:et,In(t,ct|ht,e)}function Ha(t,e){return null==e||qn(t,e,Uu(e))}function za(t,e){return t===e||t!==t&&e!==e}function Wa(t){return null!=t&&iu(t.length)&&!eu(t)}function Ya(t){return ou(t)&&Wa(t)}function Ga(t){return t===!0||t===!1||ou(t)&&ui(t)==Vt}function Za(t){return ou(t)&&1===t.nodeType&&!du(t)}function Xa(t){if(null==t)return!0;if(Wa(t)&&(gf(t)||"string"==typeof t||"function"==typeof t.splice||_f(t)||Ef(t)||vf(t)))return!t.length;var e=$h(t);if(e==Gt||e==ee)return!t.size;if(Uo(t))return!Fi(t).length;for(var n in t)if(vl.call(t,n))return!1;return!0}function Ja(t,e){return Ai(t,e)}function Qa(t,e,n){n="function"==typeof n?n:et;var i=n?n(t,e):et;return i===et?Ai(t,e,et,n):!!i}function Ka(t){if(!ou(t))return!1;var e=ui(t);return e==zt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!du(t)}function tu(t){return"number"==typeof t&&Vl(t)}function eu(t){if(!ru(t))return!1;var e=ui(t);return e==Wt||e==Yt||e==qt||e==Kt}function nu(t){return"number"==typeof t&&t==xu(t)}function iu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pt}function ru(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ou(t){return null!=t&&"object"==typeof t}function su(t,e){return t===e||Oi(t,e,ko(e))}function au(t,e,n){return n="function"==typeof n?n:et,Oi(t,e,ko(e),n)}function uu(t){return fu(t)&&t!=+t}function cu(t){if(Sh(t))throw new rl(rt);return Ni(t)}function lu(t){return null===t}function hu(t){return null==t}function fu(t){return"number"==typeof t||ou(t)&&ui(t)==Zt}function du(t){if(!ou(t)||ui(t)!=Jt)return!1;var e=Sl(t);if(null===e)return!0;var n=vl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ml.call(n)==bl}function pu(t){return nu(t)&&t>=-Pt&&t<=Pt}function mu(t){return"string"==typeof t||!gf(t)&&ou(t)&&ui(t)==ne}function vu(t){return"symbol"==typeof t||ou(t)&&ui(t)==ie}function gu(t){return t===et}function yu(t){return ou(t)&&$h(t)==oe}function _u(t){return ou(t)&&ui(t)==se}function bu(t){if(!t)return[];if(Wa(t))return mu(t)?J(t):Lr(t);if(Pl&&t[Pl])return q(t[Pl]());var e=$h(t),n=e==Gt?V:e==ee?W:Ku;return n(t)}function wu(t){if(!t)return 0===t?t:0;if(t=Eu(t),t===jt||t===-jt){var e=t<0?-1:1;return e*Ot}return t===t?t:0}function xu(t){var e=wu(t),n=e%1;return e===e?n?e-n:e:0}function ku(t){return t?Ln(xu(t),0,Mt):0}function Eu(t){if("number"==typeof t)return t;if(vu(t))return Nt;if(ru(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ru(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oe,"");var n=He.test(t);return n||We.test(t)?ti(t.slice(2),n?2:8):Be.test(t)?Nt:+t}function Cu(t){return Ir(t,qu(t))}function $u(t){return t?Ln(xu(t),-Pt,Pt):0===t?t:0}function Su(t){return null==t?"":pr(t)}function Tu(t,e){var n=dh(t);return null==e?n:Pn(n,e)}function Du(t,e){return y(t,wo(e,3),ei)}function Au(t,e){return y(t,wo(e,3),ni)}function ju(t,e){return null==t?t:vh(t,wo(e,3),qu)}function Pu(t,e){return null==t?t:gh(t,wo(e,3),qu)}function Ou(t,e){return t&&ei(t,wo(e,3))}function Nu(t,e){return t&&ni(t,wo(e,3))}function Mu(t){return null==t?[]:ri(t,Uu(t))}function Lu(t){return null==t?[]:ri(t,qu(t))}function Iu(t,e,n){var i=null==t?et:oi(t,e);return i===et?n:i}function Ru(t,e){return null!=t&&To(t,e,_i)}function Fu(t,e){return null!=t&&To(t,e,xi)}function Uu(t){return Wa(t)?En(t):Fi(t)}function qu(t){return Wa(t)?En(t,!0):Ui(t)}function Vu(t,e){var n={};return e=wo(e,3),ei(t,function(t,i,r){Nn(n,e(t,i,r),t)}),n}function Bu(t,e){var n={};return e=wo(e,3),ei(t,function(t,i,r){Nn(n,i,e(t,i,r))}),n}function Hu(t,e){return zu(t,Pa(wo(e)))}function zu(t,e){if(null==t)return{};var n=h(yo(t),function(t){return[t]});return e=wo(e),Xi(t,n,function(t,n){return e(t,n[0])})}function Wu(t,e,n){e=Er(e,t);var i=-1,r=e.length;for(r||(r=1,t=et);++i<r;){var o=null==t?et:t[Ko(e[i])];o===et&&(i=r,o=n),t=eu(o)?o.call(t):o}return t}function Yu(t,e,n){return null==t?t:sr(t,e,n)}function Gu(t,e,n,i){return i="function"==typeof i?i:et,null==t?t:sr(t,e,n,i)}function Zu(t,e,n){var i=gf(t),r=i||_f(t)||Ef(t);if(e=wo(e,4),null==n){var s=t&&t.constructor;n=r?i?new s:[]:ru(t)&&eu(s)?dh(Sl(t)):{}}return(r?o:ei)(t,function(t,i,r){return e(n,t,i,r)}),n}function Xu(t,e){return null==t||vr(t,e)}function Ju(t,e,n){return null==t?t:gr(t,e,kr(n))}function Qu(t,e,n,i){return i="function"==typeof i?i:et,null==t?t:gr(t,e,kr(n),i)}function Ku(t){return null==t?[]:P(t,Uu(t))}function tc(t){return null==t?[]:P(t,qu(t))}function ec(t,e,n){return n===et&&(n=e,e=et),n!==et&&(n=Eu(n),n=n===n?n:0),e!==et&&(e=Eu(e),e=e===e?e:0),Ln(Eu(t),e,n)}function nc(t,e,n){return e=wu(e),n===et?(n=e,e=0):n=wu(n),t=Eu(t),ki(t,e,n)}function ic(t,e,n){if(n&&"boolean"!=typeof n&&Mo(t,e,n)&&(e=n=et),n===et&&("boolean"==typeof e?(n=e,e=et):"boolean"==typeof t&&(n=t,
t=et)),t===et&&e===et?(t=0,e=1):(t=wu(t),e===et?(e=t,t=0):e=wu(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Zl();return Wl(t+r*(e-t+Kn("1e-"+((r+"").length-1))),e)}return tr(t,e)}function rc(t){return Xf(Su(t).toLowerCase())}function oc(t){return t=Su(t),t&&t.replace(Ge,vi).replace(Un,"")}function sc(t,e,n){t=Su(t),e=pr(e);var i=t.length;n=n===et?i:Ln(xu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function ac(t){return t=Su(t),t&&Ee.test(t)?t.replace(xe,gi):t}function uc(t){return t=Su(t),t&&Pe.test(t)?t.replace(je,"\\$&"):t}function cc(t,e,n){t=Su(t),e=xu(e);var i=e?X(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return eo(Fl(r),n)+t+eo(Rl(r),n)}function lc(t,e,n){t=Su(t),e=xu(e);var i=e?X(t):0;return e&&i<e?t+eo(e-i,n):t}function hc(t,e,n){t=Su(t),e=xu(e);var i=e?X(t):0;return e&&i<e?eo(e-i,n)+t:t}function fc(t,e,n){return n||null==e?e=0:e&&(e=+e),Gl(Su(t).replace(Ne,""),e||0)}function dc(t,e,n){return e=(n?Mo(t,e,n):e===et)?1:xu(e),nr(Su(t),e)}function pc(){var t=arguments,e=Su(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function mc(t,e,n){return n&&"number"!=typeof n&&Mo(t,e,n)&&(e=n=et),(n=n===et?Mt:n>>>0)?(t=Su(t),t&&("string"==typeof e||null!=e&&!xf(e))&&(e=pr(e),!e&&F(t))?Cr(J(t),0,n):t.split(e,n)):[]}function vc(t,e,n){return t=Su(t),n=null==n?0:Ln(xu(n),0,t.length),e=pr(e),t.slice(n,n+e.length)==e}function gc(t,n,i){var r=e.templateSettings;i&&Mo(t,n,i)&&(n=et),t=Su(t),n=Df({},n,r,co);var o,s,a=Df({},n.imports,r.imports,co),u=Uu(a),c=P(a,u),l=0,h=n.interpolate||Ze,f="__p += '",d=ul((n.escape||Ze).source+"|"+h.source+"|"+(h===Se?qe:Ze).source+"|"+(n.evaluate||Ze).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";t.replace(d,function(e,n,i,r,a,u){return i||(i=r),f+=t.slice(l,u).replace(Xe,I),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),f+="';\n";var m=n.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(ye,""):f).replace(_e,"$1").replace(be,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Jf(function(){return ol(u,p+"return "+f).apply(et,c)});if(v.source=f,Ka(v))throw v;return v}function yc(t){return Su(t).toLowerCase()}function _c(t){return Su(t).toUpperCase()}function bc(t,e,n){if(t=Su(t),t&&(n||e===et))return t.replace(Oe,"");if(!t||!(e=pr(e)))return t;var i=J(t),r=J(e),o=N(i,r),s=M(i,r)+1;return Cr(i,o,s).join("")}function wc(t,e,n){if(t=Su(t),t&&(n||e===et))return t.replace(Me,"");if(!t||!(e=pr(e)))return t;var i=J(t),r=M(i,J(e))+1;return Cr(i,0,r).join("")}function xc(t,e,n){if(t=Su(t),t&&(n||e===et))return t.replace(Ne,"");if(!t||!(e=pr(e)))return t;var i=J(t),r=N(i,J(e));return Cr(i,r).join("")}function kc(t,e){var n=Et,i=Ct;if(ru(e)){var r="separator"in e?e.separator:r;n="length"in e?xu(e.length):n,i="omission"in e?pr(e.omission):i}t=Su(t);var o=t.length;if(F(t)){var s=J(t);o=s.length}if(n>=o)return t;var a=n-X(i);if(a<1)return i;var u=s?Cr(s,0,a).join(""):t.slice(0,a);if(r===et)return u+i;if(s&&(a+=u.length-a),xf(r)){if(t.slice(a).search(r)){var c,l=u;for(r.global||(r=ul(r.source,Su(Ve.exec(r))+"g")),r.lastIndex=0;c=r.exec(l);)var h=c.index;u=u.slice(0,h===et?a:h)}}else if(t.indexOf(pr(r),a)!=a){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function Ec(t){return t=Su(t),t&&ke.test(t)?t.replace(we,yi):t}function Cc(t,e,n){return t=Su(t),e=n?et:e,e===et?U(t)?tt(t):g(t):t.match(e)||[]}function $c(t){var e=null==t?0:t.length,n=wo();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new ll(ot);return[n(t[0]),t[1]]}):[],ir(function(n){for(var r=-1;++r<e;){var o=t[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function Sc(t){return Rn(In(t,ct))}function Tc(t){return function(){return t}}function Dc(t,e){return null==t||t!==t?e:t}function Ac(t){return t}function jc(t){return Ri("function"==typeof t?t:In(t,ct))}function Pc(t){return Bi(In(t,ct))}function Oc(t,e){return Hi(t,In(e,ct))}function Nc(t,e,n){var i=Uu(e),r=ri(e,i);null!=n||ru(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ri(e,Uu(e)));var s=!(ru(n)&&"chain"in n&&!n.chain),a=eu(t);return o(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=Lr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,f([this.value()],arguments))})}),t}function Mc(){return ii._===this&&(ii._=wl),this}function Lc(){}function Ic(t){return t=xu(t),ir(function(e){return Yi(e,t)})}function Rc(t){return Lo(t)?E(Ko(t)):Ji(t)}function Fc(t){return function(e){return null==t?et:oi(t,e)}}function Uc(){return[]}function qc(){return!1}function Vc(){return{}}function Bc(){return""}function Hc(){return!0}function zc(t,e){if(t=xu(t),t<1||t>Pt)return[];var n=Mt,i=Wl(t,Mt);e=wo(e),t-=Mt;for(var r=D(i,e);++n<t;)e(n);return r}function Wc(t){return gf(t)?h(t,Ko):vu(t)?[t]:Lr(jh(Su(t)))}function Yc(t){var e=++gl;return Su(t)+e}function Gc(t){return t&&t.length?Zn(t,Ac,mi):et}function Zc(t,e){return t&&t.length?Zn(t,wo(e,2),mi):et}function Xc(t){return k(t,Ac)}function Jc(t,e){return k(t,wo(e,2))}function Qc(t){return t&&t.length?Zn(t,Ac,qi):et}function Kc(t,e){return t&&t.length?Zn(t,wo(e,2),qi):et}function tl(t){return t&&t.length?T(t,Ac):0}function el(t,e){return t&&t.length?T(t,wo(e,2)):0}t=null==t?ii:bi.defaults(ii.Object(),t,bi.pick(ii,zn));var nl=t.Array,il=t.Date,rl=t.Error,ol=t.Function,sl=t.Math,al=t.Object,ul=t.RegExp,cl=t.String,ll=t.TypeError,hl=nl.prototype,fl=ol.prototype,dl=al.prototype,pl=t["__core-js_shared__"],ml=fl.toString,vl=dl.hasOwnProperty,gl=0,yl=function(){var t=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_l=dl.toString,bl=ml.call(al),wl=ii._,xl=ul("^"+ml.call(vl).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kl=si?t.Buffer:et,El=t.Symbol,Cl=t.Uint8Array,$l=kl?kl.allocUnsafe:et,Sl=B(al.getPrototypeOf,al),Tl=al.create,Dl=dl.propertyIsEnumerable,Al=hl.splice,jl=El?El.isConcatSpreadable:et,Pl=El?El.iterator:et,Ol=El?El.toStringTag:et,Nl=function(){try{var t=Eo(al,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ml=t.clearTimeout!==ii.clearTimeout&&t.clearTimeout,Ll=il&&il.now!==ii.Date.now&&il.now,Il=t.setTimeout!==ii.setTimeout&&t.setTimeout,Rl=sl.ceil,Fl=sl.floor,Ul=al.getOwnPropertySymbols,ql=kl?kl.isBuffer:et,Vl=t.isFinite,Bl=hl.join,Hl=B(al.keys,al),zl=sl.max,Wl=sl.min,Yl=il.now,Gl=t.parseInt,Zl=sl.random,Xl=hl.reverse,Jl=Eo(t,"DataView"),Ql=Eo(t,"Map"),Kl=Eo(t,"Promise"),th=Eo(t,"Set"),eh=Eo(t,"WeakMap"),nh=Eo(al,"create"),ih=eh&&new eh,rh={},oh=ts(Jl),sh=ts(Ql),ah=ts(Kl),uh=ts(th),ch=ts(eh),lh=El?El.prototype:et,hh=lh?lh.valueOf:et,fh=lh?lh.toString:et,dh=function(){function t(){}return function(e){if(!ru(e))return{};if(Tl)return Tl(e);t.prototype=e;var n=new t;return t.prototype=et,n}}();e.templateSettings={escape:Ce,evaluate:$e,interpolate:Se,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,v.prototype=dh(n.prototype),v.prototype.constructor=v,C.prototype=dh(n.prototype),C.prototype.constructor=C,Fe.prototype.clear=Je,Fe.prototype["delete"]=Qe,Fe.prototype.get=Ke,Fe.prototype.has=tn,Fe.prototype.set=en,nn.prototype.clear=rn,nn.prototype["delete"]=on,nn.prototype.get=sn,nn.prototype.has=an,nn.prototype.set=un,cn.prototype.clear=ln,cn.prototype["delete"]=hn,cn.prototype.get=fn,cn.prototype.has=dn,cn.prototype.set=pn,mn.prototype.add=mn.prototype.push=vn,mn.prototype.has=gn,yn.prototype.clear=_n,yn.prototype["delete"]=bn,yn.prototype.get=wn,yn.prototype.has=xn,yn.prototype.set=kn;var ph=Vr(ei),mh=Vr(ni,!0),vh=Br(),gh=Br(!0),yh=ih?function(t,e){return ih.set(t,e),t}:Ac,_h=Nl?function(t,e){return Nl(t,"toString",{configurable:!0,enumerable:!1,value:Tc(e),writable:!0})}:Ac,bh=ir,wh=Ml||function(t){return ii.clearTimeout(t)},xh=th&&1/W(new th([,-0]))[1]==jt?function(t){return new th(t)}:Lc,kh=ih?function(t){return ih.get(t)}:Lc,Eh=Ul?function(t){return null==t?[]:(t=al(t),u(Ul(t),function(e){return Dl.call(t,e)}))}:Uc,Ch=Ul?function(t){for(var e=[];t;)f(e,Eh(t)),t=Sl(t);return e}:Uc,$h=ui;(Jl&&$h(new Jl(new ArrayBuffer(1)))!=ue||Ql&&$h(new Ql)!=Gt||Kl&&$h(Kl.resolve())!=Qt||th&&$h(new th)!=ee||eh&&$h(new eh)!=oe)&&($h=function(t){var e=ui(t),n=e==Jt?t.constructor:et,i=n?ts(n):"";if(i)switch(i){case oh:return ue;case sh:return Gt;case ah:return Qt;case uh:return ee;case ch:return oe}return e});var Sh=pl?eu:qc,Th=Jo(yh),Dh=Il||function(t,e){return ii.setTimeout(t,e)},Ah=Jo(_h),jh=Bo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ae,function(t,n,i,r){e.push(i?r.replace(Ue,"$1"):n||t)}),e}),Ph=ir(function(t,e){return Ya(t)?Bn(t,Qn(e,1,Ya,!0)):[]}),Oh=ir(function(t,e){var n=ws(e);return Ya(n)&&(n=et),Ya(t)?Bn(t,Qn(e,1,Ya,!0),wo(n,2)):[]}),Nh=ir(function(t,e){var n=ws(e);return Ya(n)&&(n=et),Ya(t)?Bn(t,Qn(e,1,Ya,!0),et,n):[]}),Mh=ir(function(t){var e=h(t,xr);return e.length&&e[0]===t[0]?Ei(e):[]}),Lh=ir(function(t){var e=ws(t),n=h(t,xr);return e===ws(n)?e=et:n.pop(),n.length&&n[0]===t[0]?Ei(n,wo(e,2)):[]}),Ih=ir(function(t){var e=ws(t),n=h(t,xr);return e="function"==typeof e?e:et,e&&n.pop(),n.length&&n[0]===t[0]?Ei(n,et,e):[]}),Rh=ir(Es),Fh=vo(function(t,e){var n=null==t?0:t.length,i=Mn(t,e);return Ki(t,h(e,function(t){return No(t,n)?+t:t}).sort(Pr)),i}),Uh=ir(function(t){return mr(Qn(t,1,Ya,!0))}),qh=ir(function(t){var e=ws(t);return Ya(e)&&(e=et),mr(Qn(t,1,Ya,!0),wo(e,2))}),Vh=ir(function(t){var e=ws(t);return e="function"==typeof e?e:et,mr(Qn(t,1,Ya,!0),et,e)}),Bh=ir(function(t,e){return Ya(t)?Bn(t,e):[]}),Hh=ir(function(t){return br(u(t,Ya))}),zh=ir(function(t){var e=ws(t);return Ya(e)&&(e=et),br(u(t,Ya),wo(e,2))}),Wh=ir(function(t){var e=ws(t);return e="function"==typeof e?e:et,br(u(t,Ya),et,e)}),Yh=ir(Ws),Gh=ir(function(t){var e=t.length,n=e>1?t[e-1]:et;return n="function"==typeof n?(t.pop(),n):et,Ys(t,n)}),Zh=vo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Mn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof C&&No(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Qs,args:[r],thisArg:et}),new v(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(et),t})):this.thru(r)}),Xh=Ur(function(t,e,n){vl.call(t,n)?++t[n]:Nn(t,n,1)}),Jh=Zr(hs),Qh=Zr(fs),Kh=Ur(function(t,e,n){vl.call(t,n)?t[n].push(e):Nn(t,n,[e])}),tf=ir(function(t,e,n){var r=-1,o="function"==typeof e,s=Wa(t)?nl(t.length):[];return ph(t,function(t){s[++r]=o?i(e,t,n):$i(t,e,n)}),s}),ef=Ur(function(t,e,n){Nn(t,n,e)}),nf=Ur(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),rf=ir(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Mo(t,e[0],e[1])?e=[]:n>2&&Mo(e[0],e[1],e[2])&&(e=[e[0]]),Gi(t,Qn(e,1),[])}),of=Ll||function(){return ii.Date.now()},sf=ir(function(t,e,n){var i=pt;if(n.length){var r=H(n,bo(sf));i|=_t}return uo(t,i,e,n,r)}),af=ir(function(t,e,n){var i=pt|mt;if(n.length){var r=H(n,bo(af));i|=_t}return uo(e,i,t,n,r)}),uf=ir(function(t,e){return Vn(t,1,e)}),cf=ir(function(t,e,n){return Vn(t,Eu(e)||0,n)});ja.Cache=cn;var lf=bh(function(t,e){e=1==e.length&&gf(e[0])?h(e[0],j(wo())):h(Qn(e,1),j(wo()));var n=e.length;return ir(function(r){for(var o=-1,s=Wl(r.length,n);++o<s;)r[o]=e[o].call(this,r[o]);return i(t,this,r)})}),hf=ir(function(t,e){var n=H(e,bo(hf));return uo(t,_t,et,e,n)}),ff=ir(function(t,e){var n=H(e,bo(ff));return uo(t,bt,et,e,n)}),df=vo(function(t,e){return uo(t,xt,et,et,et,e)}),pf=ro(mi),mf=ro(function(t,e){return t>=e}),vf=Si(function(){return arguments}())?Si:function(t){return ou(t)&&vl.call(t,"callee")&&!Dl.call(t,"callee")},gf=nl.isArray,yf=ci?j(ci):Ti,_f=ql||qc,bf=li?j(li):Di,wf=hi?j(hi):Pi,xf=fi?j(fi):Mi,kf=di?j(di):Li,Ef=pi?j(pi):Ii,Cf=ro(qi),$f=ro(function(t,e){return t<=e}),Sf=qr(function(t,e){if(Uo(e)||Wa(e))return void Ir(e,Uu(e),t);for(var n in e)vl.call(e,n)&&Dn(t,n,e[n])}),Tf=qr(function(t,e){Ir(e,qu(e),t)}),Df=qr(function(t,e,n,i){Ir(e,qu(e),t,i)}),Af=qr(function(t,e,n,i){Ir(e,Uu(e),t,i)}),jf=vo(Mn),Pf=ir(function(t,e){t=al(t);var n=-1,i=e.length,r=i>2?e[2]:et;for(r&&Mo(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=qu(o),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(l===et||za(l,dl[c])&&!vl.call(t,c))&&(t[c]=o[c])}return t}),Of=ir(function(t){return t.push(et,lo),i(Rf,et,t)}),Nf=Qr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=_l.call(e)),t[e]=n},Tc(Ac)),Mf=Qr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=_l.call(e)),vl.call(t,e)?t[e].push(n):t[e]=[n]},wo),Lf=ir($i),If=qr(function(t,e,n){zi(t,e,n)}),Rf=qr(function(t,e,n,i){zi(t,e,n,i)}),Ff=vo(function(t,e){var n={};if(null==t)return n;var i=!1;e=h(e,function(e){return e=Er(e,t),i||(i=e.length>1),e}),Ir(t,yo(t),n),i&&(n=In(n,ct|lt|ht,ho));for(var r=e.length;r--;)vr(n,e[r]);return n}),Uf=vo(function(t,e){return null==t?{}:Zi(t,e)}),qf=ao(Uu),Vf=ao(qu),Bf=Wr(function(t,e,n){return e=e.toLowerCase(),t+(n?rc(e):e)}),Hf=Wr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zf=Wr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wf=zr("toLowerCase"),Yf=Wr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Gf=Wr(function(t,e,n){return t+(n?" ":"")+Xf(e)}),Zf=Wr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Xf=zr("toUpperCase"),Jf=ir(function(t,e){try{return i(t,et,e)}catch(n){return Ka(n)?n:new rl(n)}}),Qf=vo(function(t,e){return o(e,function(e){e=Ko(e),Nn(t,e,sf(t[e],t))}),t}),Kf=Xr(),td=Xr(!0),ed=ir(function(t,e){return function(n){return $i(n,t,e)}}),nd=ir(function(t,e){return function(n){return $i(t,n,e)}}),id=to(h),rd=to(a),od=to(m),sd=io(),ad=io(!0),ud=Kr(function(t,e){return t+e},0),cd=so("ceil"),ld=Kr(function(t,e){return t/e},1),hd=so("floor"),fd=Kr(function(t,e){return t*e},1),dd=so("round"),pd=Kr(function(t,e){return t-e},0);return e.after=Ea,e.ary=Ca,e.assign=Sf,e.assignIn=Tf,e.assignInWith=Df,e.assignWith=Af,e.at=jf,e.before=$a,e.bind=sf,e.bindAll=Qf,e.bindKey=af,e.castArray=Fa,e.chain=Xs,e.chunk=is,e.compact=rs,e.concat=os,e.cond=$c,e.conforms=Sc,e.constant=Tc,e.countBy=Xh,e.create=Tu,e.curry=Sa,e.curryRight=Ta,e.debounce=Da,e.defaults=Pf,e.defaultsDeep=Of,e.defer=uf,e.delay=cf,e.difference=Ph,e.differenceBy=Oh,e.differenceWith=Nh,e.drop=ss,e.dropRight=as,e.dropRightWhile=us,e.dropWhile=cs,e.fill=ls,e.filter=aa,e.flatMap=ua,e.flatMapDeep=ca,e.flatMapDepth=la,e.flatten=ds,e.flattenDeep=ps,e.flattenDepth=ms,e.flip=Aa,e.flow=Kf,e.flowRight=td,e.fromPairs=vs,e.functions=Mu,e.functionsIn=Lu,e.groupBy=Kh,e.initial=_s,e.intersection=Mh,e.intersectionBy=Lh,e.intersectionWith=Ih,e.invert=Nf,e.invertBy=Mf,e.invokeMap=tf,e.iteratee=jc,e.keyBy=ef,e.keys=Uu,e.keysIn=qu,e.map=pa,e.mapKeys=Vu,e.mapValues=Bu,e.matches=Pc,e.matchesProperty=Oc,e.memoize=ja,e.merge=If,e.mergeWith=Rf,e.method=ed,e.methodOf=nd,e.mixin=Nc,e.negate=Pa,e.nthArg=Ic,e.omit=Ff,e.omitBy=Hu,e.once=Oa,e.orderBy=ma,e.over=id,e.overArgs=lf,e.overEvery=rd,e.overSome=od,e.partial=hf,e.partialRight=ff,e.partition=nf,e.pick=Uf,e.pickBy=zu,e.property=Rc,e.propertyOf=Fc,e.pull=Rh,e.pullAll=Es,e.pullAllBy=Cs,e.pullAllWith=$s,e.pullAt=Fh,e.range=sd,e.rangeRight=ad,e.rearg=df,e.reject=ya,e.remove=Ss,e.rest=Na,e.reverse=Ts,e.sampleSize=ba,e.set=Yu,e.setWith=Gu,e.shuffle=wa,e.slice=Ds,e.sortBy=rf,e.sortedUniq=Ls,e.sortedUniqBy=Is,e.split=mc,e.spread=Ma,e.tail=Rs,e.take=Fs,e.takeRight=Us,e.takeRightWhile=qs,e.takeWhile=Vs,e.tap=Js,e.throttle=La,e.thru=Qs,e.toArray=bu,e.toPairs=qf,e.toPairsIn=Vf,e.toPath=Wc,e.toPlainObject=Cu,e.transform=Zu,e.unary=Ia,e.union=Uh,e.unionBy=qh,e.unionWith=Vh,e.uniq=Bs,e.uniqBy=Hs,e.uniqWith=zs,e.unset=Xu,e.unzip=Ws,e.unzipWith=Ys,e.update=Ju,e.updateWith=Qu,e.values=Ku,e.valuesIn=tc,e.without=Bh,e.words=Cc,e.wrap=Ra,e.xor=Hh,e.xorBy=zh,e.xorWith=Wh,e.zip=Yh,e.zipObject=Gs,e.zipObjectDeep=Zs,e.zipWith=Gh,e.entries=qf,e.entriesIn=Vf,e.extend=Tf,e.extendWith=Df,Nc(e,e),e.add=ud,e.attempt=Jf,e.camelCase=Bf,e.capitalize=rc,e.ceil=cd,e.clamp=ec,e.clone=Ua,e.cloneDeep=Va,e.cloneDeepWith=Ba,e.cloneWith=qa,e.conformsTo=Ha,e.deburr=oc,e.defaultTo=Dc,e.divide=ld,e.endsWith=sc,e.eq=za,e.escape=ac,e.escapeRegExp=uc,e.every=sa,e.find=Jh,e.findIndex=hs,e.findKey=Du,e.findLast=Qh,e.findLastIndex=fs,e.findLastKey=Au,e.floor=hd,e.forEach=ha,e.forEachRight=fa,e.forIn=ju,e.forInRight=Pu,e.forOwn=Ou,e.forOwnRight=Nu,e.get=Iu,e.gt=pf,e.gte=mf,e.has=Ru,e.hasIn=Fu,e.head=gs,e.identity=Ac,e.includes=da,e.indexOf=ys,e.inRange=nc,e.invoke=Lf,e.isArguments=vf,e.isArray=gf,e.isArrayBuffer=yf,e.isArrayLike=Wa,e.isArrayLikeObject=Ya,e.isBoolean=Ga,e.isBuffer=_f,e.isDate=bf,e.isElement=Za,e.isEmpty=Xa,e.isEqual=Ja,e.isEqualWith=Qa,e.isError=Ka,e.isFinite=tu,e.isFunction=eu,e.isInteger=nu,e.isLength=iu,e.isMap=wf,e.isMatch=su,e.isMatchWith=au,e.isNaN=uu,e.isNative=cu,e.isNil=hu,e.isNull=lu,e.isNumber=fu,e.isObject=ru,e.isObjectLike=ou,e.isPlainObject=du,e.isRegExp=xf,e.isSafeInteger=pu,e.isSet=kf,e.isString=mu,e.isSymbol=vu,e.isTypedArray=Ef,e.isUndefined=gu,e.isWeakMap=yu,e.isWeakSet=_u,e.join=bs,e.kebabCase=Hf,e.last=ws,e.lastIndexOf=xs,e.lowerCase=zf,e.lowerFirst=Wf,e.lt=Cf,e.lte=$f,e.max=Gc,e.maxBy=Zc,e.mean=Xc,e.meanBy=Jc,e.min=Qc,e.minBy=Kc,e.stubArray=Uc,e.stubFalse=qc,e.stubObject=Vc,e.stubString=Bc,e.stubTrue=Hc,e.multiply=fd,e.nth=ks,e.noConflict=Mc,e.noop=Lc,e.now=of,e.pad=cc,e.padEnd=lc,e.padStart=hc,e.parseInt=fc,e.random=ic,e.reduce=va,e.reduceRight=ga,e.repeat=dc,e.replace=pc,e.result=Wu,e.round=dd,e.runInContext=wi,e.sample=_a,e.size=xa,e.snakeCase=Yf,e.some=ka,e.sortedIndex=As,e.sortedIndexBy=js,e.sortedIndexOf=Ps,e.sortedLastIndex=Os,e.sortedLastIndexBy=Ns,e.sortedLastIndexOf=Ms,e.startCase=Gf,e.startsWith=vc,e.subtract=pd,e.sum=tl,e.sumBy=el,e.template=gc,e.times=zc,e.toFinite=wu,e.toInteger=xu,e.toLength=ku,e.toLower=yc,e.toNumber=Eu,e.toSafeInteger=$u,e.toString=Su,e.toUpper=_c,e.trim=bc,e.trimEnd=wc,e.trimStart=xc,e.truncate=kc,e.unescape=Ec,e.uniqueId=Yc,e.upperCase=Zf,e.upperFirst=Xf,e.each=ha,e.eachRight=fa,e.first=gs,Nc(e,function(){var t={};return ei(e,function(n,i){vl.call(e.prototype,i)||(t[i]=n)}),t}(),{chain:!1}),e.VERSION=nt,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),o(["drop","take"],function(t,e){C.prototype[t]=function(n){n=n===et?1:zl(xu(n),0);var i=this.__filtered__&&!e?new C(this):this.clone();return i.__filtered__?i.__takeCount__=Wl(n,i.__takeCount__):i.__views__.push({size:Wl(n,Mt),type:t+(i.__dir__<0?"Right":"")}),i},C.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Tt||n==At;C.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");C.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");C.prototype[t]=function(){return this.__filtered__?new C(this):this[n](1)}}),C.prototype.compact=function(){return this.filter(Ac)},C.prototype.find=function(t){return this.filter(t).head()},C.prototype.findLast=function(t){return this.reverse().find(t)},C.prototype.invokeMap=ir(function(t,e){return"function"==typeof t?new C(this):this.map(function(n){return $i(n,t,e)})}),C.prototype.reject=function(t){return this.filter(Pa(wo(t)))},C.prototype.slice=function(t,e){t=xu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new C(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==et&&(e=xu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},C.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},C.prototype.toArray=function(){return this.take(Mt)},ei(C.prototype,function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=e[r?"take"+("last"==n?"Right":""):n],s=r||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof C,c=a[0],l=u||gf(n),h=function(t){var n=o.apply(e,f([t],a));return r&&d?n[0]:n};l&&i&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,g=u&&!p;if(!s&&l){n=g?n:new C(this);var y=t.apply(n,a);return y.__actions__.push({func:Qs,args:[h],thisArg:et}),new v(y,d)}return m&&g?t.apply(this,a):(y=this.thru(h),m?r?y.value()[0]:y.value():y)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var n=hl[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var e=this.value();return n.apply(gf(e)?e:[],t)}return this[i](function(e){return n.apply(gf(e)?e:[],t)})}}),ei(C.prototype,function(t,n){var i=e[n];if(i){var r=i.name+"",o=rh[r]||(rh[r]=[]);o.push({name:n,func:i})}}),rh[Jr(et,mt).name]=[{name:"wrapper",func:et}],C.prototype.clone=G,C.prototype.reverse=Q,C.prototype.value=K,e.prototype.at=Zh,e.prototype.chain=Ks,e.prototype.commit=ta,e.prototype.next=ea,e.prototype.plant=ia,e.prototype.reverse=ra,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=oa,e.prototype.first=e.prototype.head,Pl&&(e.prototype[Pl]=na),e},bi=_i();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ii._=bi,define(function(){return bi})):oi?((oi.exports=bi)._=bi,ri._=bi):ii._=bi}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(t,e,n){!function(t,i){"use strict";"function"==typeof define&&define.amd?define([],i):"object"==typeof n?e.exports=i():t.MergeXML=i()}(this,function(){return function(t){var e,n,i,r,o,s,a,u,c,l="_",h=1,f=3,d=8,p=7,m=this;m.Init=function(){return m.dom=null,m.nsp={},m.count=0,u[1]=!1,e>0&&(m.error={code:"",text:""}),e>0},m.AddFile=function(t){var e;return e=t&&t.target?t.target.result?m.AddSource(t.target.result):C("emf"):C("nof")},m.AddSource=function(t){var n,i;if("object"==typeof t)i=!!m.Get(1,t)&&t,i&&(1===e&&!window.DOMParser||2===e&&!i.selectSingleNode("/"))&&(i=null);else try{i=v(t)}catch(r){i=!1}if(null===i)n=C("nos");else if(i===!1)n=C("inv");else if(i===!0)m.nsp=w(m.dom.documentElement),m.count=1,n=m.dom;else if(y(i)){if(_(i,"/"),u[1]===!0){var o=m.dom.createTextNode("\r\n");m.dom.documentElement.appendChild(o)}m.count++,n=m.dom}else n=!1;return n};var v=function(t){var r,o;return 1===e?m.dom?(o=i.parseFromString(t,"text/xml"),r=!!g(o)&&o):(m.dom=i.parseFromString(t,"text/xml"),r=!!g(m.dom)):m.dom?(o=new ActiveXObject(n),o.async=!1,r=!!o.loadXML(t)&&o):(m.dom=new ActiveXObject(n),m.dom.async=!1,m.dom.setProperty("SelectionLanguage","XPath"),r=!!m.dom.loadXML(t)),r},g=function(t){return 0===t.getElementsByTagNameNS(r,"parsererror").length},y=function(t){var n=!0,i=m.dom.characterSet||m.dom.inputEncoding||m.dom.xmlEncoding,r=t.characterSet||t.inputEncoding||t.xmlEncoding;if(r!==i)n=C("enc");else if(t.documentElement.namespaceURI!==m.dom.documentElement.namespaceURI)n=C("nse");else if(t.documentElement.nodeName!==m.dom.documentElement.nodeName)if(u[0]){if(!u[1]){var o="undefined"!=typeof i?i:"UTF-8",a=m.dom.xmlVersion?m.dom.xmlVersion:"1.0",l='<?xml version="'+a+'" encoding="'+o+'"?>\r\n<'+u[0]+">\r\n</"+u[0]+">",h=v(l);if(h){var f=m.dom.documentElement.cloneNode(!0);h.documentElement.appendChild(f),f=h.createTextNode("\r\n"),h.documentElement.appendChild(f),m.dom=h,u[1]=!0}else n=C("jne"),u[1]=null}}else n=C("dif");if(n){var d=w(t.documentElement);for(var p in d)m.nsp[p]||("undefined"!=typeof m.dom.documentElement.setAttributeNS?m.dom.documentElement.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+p,d[p]):m.dom.documentElement.setAttribute("xmlns:"+p,d[p]),m.nsp[p]=d[p]);c?1===e?s=x:k():s=null}return n},_=function(t,e){for(var n=0;n<t.childNodes.length;n++){var i,r=t.childNodes[n],o=b(t.childNodes,r,e,n),s=m.Query(o);if(r.nodeType===h){var u=!0;if(null===s||s.namespaceURI!==r.namespaceURI)i=r.cloneNode(!0),s=m.Query(e),s.appendChild(i);else if(E(s.getAttribute("stay"),a)!==!1&&(u=!1),u)try{for(var c=0;c<r.attributes.length;c++)r.attributes[c].namespaceURI&&"undefined"!=typeof r.setAttributeNS?s.setAttributeNS(r.attributes[c].namespaceURI,r.attributes[c].nodeName,r.attributes[c].nodeValue):s.setAttribute(r.attributes[c].nodeName,r.attributes[c].nodeValue)}catch(l){}r.hasChildNodes()&&u&&_(r,o)}else r.nodeType!==f&&r.nodeType!==d||(null===s||s.nodeType!==r.nodeType?(s=m.Query(e),i=r.nodeType===f?m.dom.createTextNode(r.nodeValue):m.dom.createComment(r.nodeValue),s.appendChild(i)):s.nodeValue=r.nodeValue)}},b=function(t,n,i,r){var o,s,a=0;if(n.nodeType===h){for(s=0;s<=r;s++)(c&&t[s].nodeType===n.nodeType&&t[s].nodeName===n.nodeName||!c&&t[s].nodeType!==p)&&a++;if(c){var u=!1,v=w(n);for(var g in v)g!==l&&(m.nsp[g]=v[g],u=2===e);u&&k(),o=n.prefix?n.prefix+":":m.nsp[l]?l+":":"",o+=n.localName?n.localName:n.baseName}else o="node()"}else if(n.nodeType===f||n.nodeType===d){for(s=0;s<=r;s++)t[s].nodeType===n.nodeType&&a++;o=n.nodeType===f?"text()":"comment()"}else o=i;return a&&(o=i+("/"===i.slice(-1)?"":"/")+o+"["+a+"]"),o},w=function(t){for(var e={},n=t.attributes,i=0;i<n.length;++i){var r=n[i].name.split(":");if("xmlns"===r[0]){var o=r[1]?r[1]:l;e[o]=n[i].value}}return e};m.Query=function(t){var n;u[1]&&(t="/"+m.dom.documentElement.nodeName+("/"===t?"":t));try{1===e?(n=o.evaluate(t,m.dom,s,XPathResult.FIRST_ORDERED_NODE_TYPE,null),n=n.singleNodeValue):n=m.dom.selectSingleNode(t)}catch(i){n=null}return n};var x=function(t){return m.nsp[t]||null},k=function(){var t="";for(var e in m.nsp)t+=" xmlns:"+e+"='"+m.nsp[e]+"'";t&&m.dom.setProperty("SelectionNamespaces",t.substr(1))},E=function(t,e){var n=!1;for(var i in e)if(e[i]===t){n=i;break}return n};m.Get=function(t,e){var n;if(t&&!e&&(e=m.dom),t)if(e)if(e.xml)n=e.xml;else try{n=(new XMLSerializer).serializeToString(e)}catch(i){n=null}else n="";else n=m.dom;if(n&&2===t){if(u[1]){var r=n.indexOf("<"+u[0]);n=n.substr(0,r)+"\r\n"+n.substr(r)}n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ |\t/g,"&nbsp;"),n=n.replace(/(\r\n|\n|\r)/g,"<br>")}return n};var C=function(t){var e={nod:"XML DOM is not supported in this browser",nox:"xPath is not supported in this browser",nos:"Incompatible source object",nof:"File not found",emf:"File is empty",inv:"Invalid XML source",enc:"Different encoding",dif:"Different root nodes",jne:"Invalid join parameter",nse:"Namespace incompatibility",und:"Undefined error"};return m.error.code=e[t]?t:"und",m.error.text=e[m.error.code],!1},$=function(){for(var t,e=!1,s=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","Microsoft.XmlDom"],a=s.length,u=0;u<a;u++)try{var c=new ActiveXObject(s[u]);if(c.async=!1,e=!0,c.loadXML("<x></x>")&&c.selectSingleNode("/"))break}catch(l){}if(e)u<a?(n=s[u],t=2):t="nox";else if(window.DOMParser)if(window.XPathEvaluator){i=new DOMParser;var l=i.parseFromString("Invalid","text/xml");r=l.getElementsByTagName("parsererror")[0].namespaceURI,o=new XPathEvaluator,t=1}else t="nox";else t="nod";return t};"object"!=typeof t&&(t={}),a="undefined"==typeof t.stay?["all"]:t.stay?"object"==typeof t.stay&&t.stay instanceof Array?t.stay:[t.stay]:[],u="undefined"==typeof t.join?["root"]:[!!t.join&&String(t.join)],c="undefined"==typeof t.updn||t.updn,e=$(),"string"==typeof e&&(m.error={},C(e),e=0),m.Init()}})},{}],77:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function n(){return Di.apply(null,arguments)}function i(t){Di=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)h(e,n)&&(t[n]=e[n]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return $e(t,e,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){return null==t._pf&&(t._pf=p()),t._pf}function v(t){if(null==t._isValid){var e=m(t),n=Ai.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}function y(t,e){var n,i,r;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=m(e)),a(e._locale)||(t._locale=e._locale),ji.length>0)for(n=0;n<ji.length;n++)i=ji[n],r=e[i],a(r)||(t[i]=r);return t}function _(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Pi===!1&&(Pi=!0,n.updateOffset(this),Pi=!1)}function b(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function k(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&x(t[i])!==x(e[i]))&&s++;return s+o}function E(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return f(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}E(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}function $(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),Oi[t]||(E(e),Oi[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],S(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(t,e){var n,i=f({},t);for(n in e)h(e,n)&&(o(t[n])&&o(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)h(t,n)&&!h(e,n)&&o(t[n])&&(i[n]=f({},i[n]));return i}function A(t){null!=t&&this.set(t)}function j(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return S(i)?i.call(e,n):i}function P(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function O(){return this._invalidDate}function N(t){return this._ordinal.replace("%d",t)}function M(t,e,n,i){var r=this._relativeTime[n];return S(r)?r(t,e,n,i):r.replace(/%d/i,t)}function L(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e);
}function I(t,e){var n=t.toLowerCase();qi[n]=qi[n+"s"]=qi[e]=t}function R(t){return"string"==typeof t?qi[t]||qi[t.toLowerCase()]:void 0}function F(t){var e,n,i={};for(n in t)h(t,n)&&(e=R(n),e&&(i[e]=t[n]));return i}function U(t,e){Vi[t]=e}function q(t){var e=[];for(var n in t)e.push({unit:n,priority:Vi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function V(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function B(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Wi[t]=r),e&&(Wi[e[0]]=function(){return V(r.apply(this,arguments),e[1],e[2])}),n&&(Wi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function H(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function z(t){var e,n,i=t.match(Bi);for(e=0,n=i.length;e<n;e++)Wi[i[e]]?i[e]=Wi[i[e]]:i[e]=H(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=S(i[r])?i[r].call(e,t):i[r];return o}}function W(t,e){return t.isValid()?(e=Y(e,t.localeData()),zi[e]=zi[e]||z(e),zi[e](t)):t.localeData().invalidDate()}function Y(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Hi.lastIndex=0;i>=0&&Hi.test(t);)t=t.replace(Hi,n),Hi.lastIndex=0,i-=1;return t}function G(t,e,n){lr[t]=S(e)?e:function(t,i){return t&&n?n:e}}function Z(t,e){return h(lr,t)?lr[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),u(e)&&(i=function(t,n){n[e]=x(t)}),n=0;n<t.length;n++)hr[t[n]]=i}function K(t,e){Q(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function tt(t,e,n){null!=e&&h(hr,t)&&hr[t](e,n._a,n,t)}function et(t){return nt(t)?366:365}function nt(t){return t%4===0&&t%100!==0||t%400===0}function it(){return nt(this.year())}function rt(t,e){return function(i){return null!=i?(st(this,t,i),n.updateOffset(this,e),this):ot(this,t)}}function ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function st(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&nt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function at(t){return t=R(t),S(this[t])?this[t]():this}function ut(t,e){if("object"==typeof t){t=F(t);for(var n=q(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=R(t),S(this[t]))return this[t](e);return this}function ct(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ct(e,12);return t+=(e-n)/12,1===n?nt(t)?29:28:31-n%7%2}function ht(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||kr).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone}function ft(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[kr.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=wr.call(this._shortMonthsParse,s),r!==-1?r:null):(r=wr.call(this._longMonthsParse,s),r!==-1?r:null):"MMM"===e?(r=wr.call(this._shortMonthsParse,s),r!==-1?r:(r=wr.call(this._longMonthsParse,s),r!==-1?r:null)):(r=wr.call(this._longMonthsParse,s),r!==-1?r:(r=wr.call(this._shortMonthsParse,s),r!==-1?r:null))}function pt(t,e,n){var i,r,o;if(this._monthsParseExact)return dt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function mt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(e=t.localeData().monthsParse(e),!u(e))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function vt(t){return null!=t?(mt(this,t),n.updateOffset(this,!0),this):ot(this,"Month")}function gt(){return lt(this.year(),this.month())}function yt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=$r),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function _t(t){return this._monthsParseExact?(h(this,"_monthsRegex")||bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Sr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function bt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=J(i[e]),r[e]=J(r[e]);for(e=0;e<24;e++)o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function wt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function xt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function kt(t,e,n){var i=7+e-n,r=(7+xt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function Et(t,e,n,i,r){var o,s,a=(7+n-i)%7,u=kt(t,i,r),c=1+7*(e-1)+a+u;return c<=0?(o=t-1,s=et(o)+c):c>et(t)?(o=t+1,s=c-et(t)):(o=t,s=c),{year:o,dayOfYear:s}}function Ct(t,e,n){var i,r,o=kt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?(r=t.year()-1,i=s+$t(r,e,n)):s>$t(t.year(),e,n)?(i=s-$t(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function $t(t,e,n){var i=kt(t,e,n),r=kt(t+1,e,n);return(et(t)-i+r)/7}function St(t){return Ct(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function Dt(){return this._week.doy}function At(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function jt(t){var e=Ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ot(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Nt(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Lt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function It(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=wr.call(this._weekdaysParse,s),r!==-1?r:null):"ddd"===e?(r=wr.call(this._shortWeekdaysParse,s),r!==-1?r:null):(r=wr.call(this._minWeekdaysParse,s),r!==-1?r:null):"dddd"===e?(r=wr.call(this._weekdaysParse,s),r!==-1?r:(r=wr.call(this._shortWeekdaysParse,s),r!==-1?r:(r=wr.call(this._minWeekdaysParse,s),r!==-1?r:null))):"ddd"===e?(r=wr.call(this._shortWeekdaysParse,s),r!==-1?r:(r=wr.call(this._weekdaysParse,s),r!==-1?r:(r=wr.call(this._minWeekdaysParse,s),r!==-1?r:null))):(r=wr.call(this._minWeekdaysParse,s),r!==-1?r:(r=wr.call(this._weekdaysParse,s),r!==-1?r:(r=wr.call(this._shortWeekdaysParse,s),r!==-1?r:null)))}function Rt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return It.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pt(t,this.localeData()),this.add(t-e,"d")):e}function Ut(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function qt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ot(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Vt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Pr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Bt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Or),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ht(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)a[e]=J(a[e]),u[e]=J(u[e]),c[e]=J(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Wt(){return this.hours()%12||12}function Yt(){return this.hours()||24}function Gt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Zt(t,e){return e._meridiemParse}function Xt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Jt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Qt(t[o]).split("-"),e=r.length,n=Qt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=te(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&k(r,n,!0)>=e-1)break;e--}o++}return Mr}function te(n){var i=null;if(!Fr[n]&&"undefined"!=typeof e&&e&&e.exports)try{i=Mr._abbr;var r=t;r("./locale/"+n),ee(i)}catch(o){}return Fr[n]}function ee(t,e){var n;return t&&(n=a(e)?re(t):ne(t,e),n?Mr=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Mr._abbr}function ne(t,e){if(null!==e){var n,i=Rr;if(e.abbr=t,null!=Fr[t])$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Fr[t]._config;else if(null!=e.parentLocale)if(null!=Fr[e.parentLocale])i=Fr[e.parentLocale]._config;else{if(n=te(e.parentLocale),null==n)return Ur[e.parentLocale]||(Ur[e.parentLocale]=[]),Ur[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Fr[t]=new A(D(i,e)),Ur[t]&&Ur[t].forEach(function(t){ne(t.name,t.config)}),ee(t),Fr[t]}return delete Fr[t],null}function ie(t,e){if(null!=e){var n,i,r=Rr;i=te(t),null!=i&&(r=i._config),e=D(r,e),n=new A(e),n.parentLocale=Fr[t],Fr[t]=n,ee(t)}else null!=Fr[t]&&(null!=Fr[t].parentLocale?Fr[t]=Fr[t].parentLocale:null!=Fr[t]&&delete Fr[t]);return Fr[t]}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Mr;if(!r(t)){if(e=te(t))return e;t=[t]}return Kt(t)}function oe(){return Ni(Fr)}function se(t){var e,n=t._a;return n&&m(t).overflow===-2&&(e=n[dr]<0||n[dr]>11?dr:n[pr]<1||n[pr]>lt(n[fr],n[dr])?pr:n[mr]<0||n[mr]>24||24===n[mr]&&(0!==n[vr]||0!==n[gr]||0!==n[yr])?mr:n[vr]<0||n[vr]>59?vr:n[gr]<0||n[gr]>59?gr:n[yr]<0||n[yr]>999?yr:-1,m(t)._overflowDayOfYear&&(e<fr||e>pr)&&(e=pr),m(t)._overflowWeeks&&e===-1&&(e=_r),m(t)._overflowWeekday&&e===-1&&(e=br),m(t).overflow=e),t}function ae(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ce(t){var e,n,i,r,o,s=[];if(!t._d){for(i=ue(t),t._w&&null==t._a[pr]&&null==t._a[dr]&&le(t),null!=t._dayOfYear&&(o=ae(t._a[fr],i[fr]),(t._dayOfYear>et(o)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),n=xt(o,0,t._dayOfYear),t._a[dr]=n.getUTCMonth(),t._a[pr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[mr]&&0===t._a[vr]&&0===t._a[gr]&&0===t._a[yr]&&(t._nextDay=!0,t._a[mr]=0),t._d=(t._useUTC?xt:wt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[mr]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(m(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,s,a,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=ae(e.GG,t._a[fr],Ct(Se(),1,4).year),i=ae(e.W,1),r=ae(e.E,1),(r<1||r>7)&&(u=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var c=Ct(Se(),o,s);n=ae(e.gg,t._a[fr],c.year),i=ae(e.w,c.week),null!=e.d?(r=e.d,(r<0||r>6)&&(u=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o}i<1||i>$t(n,o,s)?m(t)._overflowWeeks=!0:null!=u?m(t)._overflowWeekday=!0:(a=Et(n,i,r,o,s),t._a[fr]=a.year,t._dayOfYear=a.dayOfYear)}function he(t){var e,n,i,r,o,s,a=t._i,u=qr.exec(a)||Vr.exec(a);if(u){for(m(t).iso=!0,e=0,n=Hr.length;e<n;e++)if(Hr[e][1].exec(u[1])){r=Hr[e][0],i=Hr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=zr.length;e<n;e++)if(zr[e][1].exec(u[3])){o=(u[2]||" ")+zr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Br.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),_e(t)}else t._isValid=!1}function fe(t,e,n,i,r,o){var s=[de(t),Cr.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function de(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function me(t,e,n){if(t){var i=Ar.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return m(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ve(t,e,n){if(t)return Gr[t];if(e)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return 60*o+r}function ge(t){var e=Yr.exec(pe(t._i));if(e){var n=fe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!me(e[1],n,t))return;t._a=n,t._tzm=ve(e[8],e[9],e[10]),t._d=xt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function ye(t){var e=Wr.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(he(t),void(t._isValid===!1&&(delete t._isValid,ge(t),t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t)))))}function _e(t){if(t._f===n.ISO_8601)return void he(t);if(t._f===n.RFC_2822)return void ge(t);t._a=[],m(t).empty=!0;var e,i,r,o,s,a=""+t._i,u=a.length,c=0;for(r=Y(t._f,t._locale).match(Bi)||[],e=0;e<r.length;e++)o=r[e],i=(a.match(Z(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&m(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Wi[o]?(i?m(t).empty=!1:m(t).unusedTokens.push(o),tt(o,i,t)):t._strict&&!i&&m(t).unusedTokens.push(o);m(t).charsLeftOver=u-c,a.length>0&&m(t).unusedInput.push(a),t._a[mr]<=12&&m(t).bigHour===!0&&t._a[mr]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[mr]=be(t._locale,t._a[mr],t._meridiem),ce(t),se(t)}function be(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function we(t){var e,n,i,r,o;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],_e(e),v(e)&&(o+=m(e).charsLeftOver,o+=10*m(e).unusedTokens.length,m(e).score=o,(null==i||o<i)&&(i=o,n=e));f(t,n||e)}function xe(t){if(!t._d){var e=F(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ce(t)}}function ke(t){var e=new _(se(Ee(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ee(t){var e=t._i,n=t._f;return t._locale=t._locale||re(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new _(se(e)):(c(e)?t._d=e:r(n)?we(t):n?_e(t):Ce(t),v(t)||(t._d=null),t))}function Ce(t){var e=t._i;a(e)?t._d=new Date(n.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?ye(t):r(e)?(t._a=l(e.slice(0),function(t){return parseInt(t,10)}),ce(t)):o(e)?xe(t):u(e)?t._d=new Date(e):n.createFromInputFallback(t)}function $e(t,e,n,i,a){var u={};return n!==!0&&n!==!1||(i=n,n=void 0),(o(t)&&s(t)||r(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=t,u._f=e,u._strict=i,ke(u)}function Se(t,e,n,i){return $e(t,e,n,i,!1)}function Te(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Se();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function De(){var t=[].slice.call(arguments,0);return Te("isBefore",t)}function Ae(){var t=[].slice.call(arguments,0);return Te("isAfter",t)}function je(t){for(var e in t)if(wr.call(Qr,e)===-1||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Qr.length;++i)if(t[Qr[i]]){if(n)return!1;parseFloat(t[Qr[i]])!==x(t[Qr[i]])&&(n=!0)}return!0}function Pe(){return this._isValid}function Oe(){return Qe(NaN)}function Ne(t){var e=F(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=je(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=re(),this._bubble()}function Me(t){return t instanceof Ne}function Le(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Ie(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+V(~~(t/60),2)+e+V(~~t%60,2)})}function Re(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Kr)||["-",0,0],o=+(60*r[1])+x(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Fe(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(b(t)||c(t)?t.valueOf():Se(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Se(t).local()}function Ue(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qe(t,e,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Re(ar,t),null===t)return this}else Math.abs(t)<16&&!i&&(t=60*t);return!this._isUTC&&e&&(r=Ue(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?rn(this,Qe(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ue(this)}function Ve(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Be(t){return this.utcOffset(0,t)}function He(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ue(this),"m")),this}function ze(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(sr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function We(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),t=Ee(t),t._a){var e=t._isUTC?d(t._a):Se(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ze(){return!!this.isValid()&&!this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC}function Je(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qe(t,e){var n,i,r,o=t,s=null;return Me(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:u(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=to.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[pr])*n,h:x(s[mr])*n,m:x(s[vr])*n,s:x(s[gr])*n,ms:x(Le(1e3*s[yr]))*n}):(s=eo.exec(t))?(n="-"===s[1]?-1:("+"===s[1],1),o={y:Ke(s[2],n),M:Ke(s[3],n),w:Ke(s[4],n),d:Ke(s[5],n),h:Ke(s[6],n),m:Ke(s[7],n),s:Ke(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=en(Se(o.from),Se(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Ne(o),Me(t)&&h(t,"_locale")&&(i._locale=t._locale),i}function Ke(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function tn(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function en(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=tn(t,e):(n=tn(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||($(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Qe(n,i),rn(this,r,t),this}}function rn(t,e,i,r){var o=e._milliseconds,s=Le(e._days),a=Le(e._months);t.isValid()&&(r=null==r||r,a&&mt(t,ot(t,"Month")+a*i),s&&st(t,"Date",ot(t,"Date")+s*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&n.updateOffset(t,s||a))}function on(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function sn(t,e){var i=t||Se(),r=Fe(i,this).startOf("day"),o=n.calendarFormat(this,r)||"sameElse",s=e&&(S(e[o])?e[o].call(this,i):e[o]);return this.format(s||this.localeData().calendar(o,this,Se(i)))}function an(){return new _(this)}function un(t,e){var n=b(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&(e=R(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function cn(t,e){var n=b(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&(e=R(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function hn(t,e){var n,i=b(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function fn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function dn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function pn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(i=Fe(t,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=R(e)){case"year":o=mn(this,i)/12;break;case"month":o=mn(this,i);break;case"quarter":o=mn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:w(o)}function mn(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function vn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gn(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function _n(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function bn(t,e){return this.isValid()&&(b(t)&&t.isValid()||Se(t).isValid())?Qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wn(t){return this.from(Se(),t)}function xn(t,e){return this.isValid()&&(b(t)&&t.isValid()||Se(t).isValid())?Qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function kn(t){return this.to(Se(),t)}function En(t){var e;return void 0===t?this._locale._abbr:(e=re(t),null!=e&&(this._locale=e),this)}function Cn(){return this._locale}function $n(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Sn(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function Dn(){return Math.floor(this.valueOf()/1e3)}function An(){return new Date(this.valueOf())}function jn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Pn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function On(){return this.isValid()?this.toISOString():null}function Nn(){return v(this)}function Mn(){return f({},m(this))}function Ln(){return m(this).overflow}function In(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Rn(t,e){B(0,[t,t.length],0,e)}function Fn(t){return Bn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Un(t){return Bn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qn(){return $t(this.year(),1,4)}function Vn(){var t=this.localeData()._week;return $t(this.year(),t.dow,t.doy)}function Bn(t,e,n,i,r){var o;return null==t?Ct(this,i,r).year:(o=$t(t,i,r),e>o&&(e=o),Hn.call(this,t,e,n,i,r))}function Hn(t,e,n,i,r){var o=Et(t,e,n,i,r),s=xt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function zn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Wn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Yn(t,e){e[yr]=x(1e3*("0."+t))}function Gn(){return this._isUTC?"UTC":""}function Zn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(t){return Se(1e3*t)}function Jn(){return Se.apply(null,arguments).parseZone()}function Qn(t){return t}function Kn(t,e,n,i){var r=re(),o=d().set(i,e);return r[n](o,t)}function ti(t,e,n){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return Kn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Kn(t,i,n,"month");return r}function ei(t,e,n,i){"boolean"==typeof t?(u(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,u(e)&&(n=e,e=void 0),e=e||"");var r=re(),o=t?r._week.dow:0;if(null!=n)return Kn(e,(n+o)%7,i,"day");var s,a=[];for(s=0;s<7;s++)a[s]=Kn(e,(s+o)%7,i,"day");return a}function ni(t,e){return ti(t,e,"months")}function ii(t,e){return ti(t,e,"monthsShort")}function ri(t,e,n){return ei(t,e,n,"weekdays")}function oi(t,e,n){return ei(t,e,n,"weekdaysShort")}function si(t,e,n){return ei(t,e,n,"weekdaysMin")}function ai(){var t=this._data;return this._milliseconds=fo(this._milliseconds),this._days=fo(this._days),this._months=fo(this._months),t.milliseconds=fo(t.milliseconds),t.seconds=fo(t.seconds),t.minutes=fo(t.minutes),t.hours=fo(t.hours),t.months=fo(t.months),t.years=fo(t.years),this}function ui(t,e,n,i){var r=Qe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ci(t,e){return ui(this,t,e,1)}function li(t,e){return ui(this,t,e,-1)}function hi(t){return t<0?Math.floor(t):Math.ceil(t)}function fi(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*hi(pi(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=w(o/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,s+=w(n/24),r=w(di(s)),a+=r,s-=hi(pi(r)),i=w(a/12),a%=12,u.days=s,u.months=a,u.years=i,this}function di(t){return 4800*t/146097}function pi(t){return 146097*t/4800}function mi(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+di(e),"month"===t?n:n/12;switch(e=this._days+Math.round(pi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function vi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function gi(t){return function(){return this.as(t)}}function yi(){return Qe(this)}function _i(t){return t=R(t),this.isValid()?this[t+"s"]():NaN}function bi(t){return function(){return this.isValid()?this._data[t]:NaN}}function wi(){return w(this.days()/7)}function xi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i);
}function ki(t,e,n){var i=Qe(t).abs(),r=Do(i.as("s")),o=Do(i.as("m")),s=Do(i.as("h")),a=Do(i.as("d")),u=Do(i.as("M")),c=Do(i.as("y")),l=r<=Ao.ss&&["s",r]||r<Ao.s&&["ss",r]||o<=1&&["m"]||o<Ao.m&&["mm",o]||s<=1&&["h"]||s<Ao.h&&["hh",s]||a<=1&&["d"]||a<Ao.d&&["dd",a]||u<=1&&["M"]||u<Ao.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,xi.apply(null,l)}function Ei(t){return void 0===t?Do:"function"==typeof t&&(Do=t,!0)}function Ci(t,e){return void 0!==Ao[t]&&(void 0===e?Ao[t]:(Ao[t]=e,"s"===t&&(Ao.ss=e-1),!0))}function $i(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=ki(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Si(t){return(t>0)-(t<0)||+t}function Ti(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=jo(this._milliseconds)/1e3,r=jo(this._days),o=jo(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60,n=w(o/12),o%=12;var s=n,a=o,u=r,c=e,l=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",p=Si(this._months)!==Si(f)?"-":"",m=Si(this._days)!==Si(f)?"-":"",v=Si(this._milliseconds)!==Si(f)?"-":"";return d+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(u?m+u+"D":"")+(c||l||h?"T":"")+(c?v+c+"H":"")+(l?v+l+"M":"")+(h?v+h+"S":"")}var Di,Ai;Ai=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var ji=n.momentProperties=[],Pi=!1,Oi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var Ni;Ni=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)h(t,e)&&n.push(e);return n};var Mi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Li={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ii="Invalid date",Ri="%d",Fi=/\d{1,2}/,Ui={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qi={},Vi={},Bi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zi={},Wi={},Yi=/\d/,Gi=/\d\d/,Zi=/\d{3}/,Xi=/\d{4}/,Ji=/[+-]?\d{6}/,Qi=/\d\d?/,Ki=/\d\d\d\d?/,tr=/\d\d\d\d\d\d?/,er=/\d{1,3}/,nr=/\d{1,4}/,ir=/[+-]?\d{1,6}/,rr=/\d+/,or=/[+-]?\d+/,sr=/Z|[+-]\d\d:?\d\d/gi,ar=/Z|[+-]\d\d(?::?\d\d)?/gi,ur=/[+-]?\d+(\.\d{1,3})?/,cr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr={},hr={},fr=0,dr=1,pr=2,mr=3,vr=4,gr=5,yr=6,_r=7,br=8;B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),I("year","y"),U("year",1),G("Y",or),G("YY",Qi,Gi),G("YYYY",nr,Xi),G("YYYYY",ir,Ji),G("YYYYYY",ir,Ji),Q(["YYYYY","YYYYYY"],fr),Q("YYYY",function(t,e){e[fr]=2===t.length?n.parseTwoDigitYear(t):x(t)}),Q("YY",function(t,e){e[fr]=n.parseTwoDigitYear(t)}),Q("Y",function(t,e){e[fr]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return x(t)+(x(t)>68?1900:2e3)};var wr,xr=rt("FullYear",!0);wr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),U("month",8),G("M",Qi),G("MM",Qi,Gi),G("MMM",function(t,e){return e.monthsShortRegex(t)}),G("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[dr]=x(t)-1}),Q(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[dr]=r:m(n).invalidMonth=t});var kr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Er="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$r=cr,Sr=cr;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),U("week",5),U("isoWeek",5),G("w",Qi),G("ww",Qi,Gi),G("W",Qi),G("WW",Qi,Gi),K(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=x(t)});var Tr={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),G("d",Qi),G("e",Qi),G("E",Qi),G("dd",function(t,e){return e.weekdaysMinRegex(t)}),G("ddd",function(t,e){return e.weekdaysShortRegex(t)}),G("dddd",function(t,e){return e.weekdaysRegex(t)}),K(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:m(n).invalidWeekday=t}),K(["d","e","E"],function(t,e,n,i){e[i]=x(t)});var Dr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ar="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pr=cr,Or=cr,Nr=cr;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Wt),B("k",["kk",2],0,Yt),B("hmm",0,0,function(){return""+Wt.apply(this)+V(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Wt.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Gt("a",!0),Gt("A",!1),I("hour","h"),U("hour",13),G("a",Zt),G("A",Zt),G("H",Qi),G("h",Qi),G("k",Qi),G("HH",Qi,Gi),G("hh",Qi,Gi),G("kk",Qi,Gi),G("hmm",Ki),G("hmmss",tr),G("Hmm",Ki),G("Hmmss",tr),Q(["H","HH"],mr),Q(["k","kk"],function(t,e,n){var i=x(t);e[mr]=24===i?0:i}),Q(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Q(["h","hh"],function(t,e,n){e[mr]=x(t),m(n).bigHour=!0}),Q("hmm",function(t,e,n){var i=t.length-2;e[mr]=x(t.substr(0,i)),e[vr]=x(t.substr(i)),m(n).bigHour=!0}),Q("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[mr]=x(t.substr(0,i)),e[vr]=x(t.substr(i,2)),e[gr]=x(t.substr(r)),m(n).bigHour=!0}),Q("Hmm",function(t,e,n){var i=t.length-2;e[mr]=x(t.substr(0,i)),e[vr]=x(t.substr(i))}),Q("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[mr]=x(t.substr(0,i)),e[vr]=x(t.substr(i,2)),e[gr]=x(t.substr(r))});var Mr,Lr=/[ap]\.?m?\.?/i,Ir=rt("Hours",!0),Rr={calendar:Mi,longDateFormat:Li,invalidDate:Ii,ordinal:Ri,dayOfMonthOrdinalParse:Fi,relativeTime:Ui,months:Er,monthsShort:Cr,week:Tr,weekdays:Dr,weekdaysMin:jr,weekdaysShort:Ar,meridiemParse:Lr},Fr={},Ur={},qr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Br=/Z|[+-]\d\d(?::?\d\d)?/,Hr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wr=/^\/?Date\((\-?\d+)/i,Yr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Zr=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Xr=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}),Jr=function(){return Date.now?Date.now():+new Date},Qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ie("Z",":"),Ie("ZZ",""),G("Z",ar),G("ZZ",ar),Q(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Re(ar,t)});var Kr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var to=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,eo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qe.fn=Ne.prototype,Qe.invalid=Oe;var no=nn(1,"add"),io=nn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ro=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rn("gggg","weekYear"),Rn("ggggg","weekYear"),Rn("GGGG","isoWeekYear"),Rn("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),G("G",or),G("g",or),G("GG",Qi,Gi),G("gg",Qi,Gi),G("GGGG",nr,Xi),G("gggg",nr,Xi),G("GGGGG",ir,Ji),G("ggggg",ir,Ji),K(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=x(t)}),K(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),I("quarter","Q"),U("quarter",7),G("Q",Yi),Q("Q",function(t,e){e[dr]=3*(x(t)-1)}),B("D",["DD",2],"Do","date"),I("date","D"),U("date",9),G("D",Qi),G("DD",Qi,Gi),G("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],pr),Q("Do",function(t,e){e[pr]=x(t.match(Qi)[0])});var oo=rt("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),U("dayOfYear",4),G("DDD",er),G("DDDD",Zi),Q(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),B("m",["mm",2],0,"minute"),I("minute","m"),U("minute",14),G("m",Qi),G("mm",Qi,Gi),Q(["m","mm"],vr);var so=rt("Minutes",!1);B("s",["ss",2],0,"second"),I("second","s"),U("second",15),G("s",Qi),G("ss",Qi,Gi),Q(["s","ss"],gr);var ao=rt("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),U("millisecond",16),G("S",er,Yi),G("SS",er,Gi),G("SSS",er,Zi);var uo;for(uo="SSSS";uo.length<=9;uo+="S")G(uo,rr);for(uo="S";uo.length<=9;uo+="S")Q(uo,Yn);var co=rt("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var lo=_.prototype;lo.add=no,lo.calendar=sn,lo.clone=an,lo.diff=pn,lo.endOf=Sn,lo.format=_n,lo.from=bn,lo.fromNow=wn,lo.to=xn,lo.toNow=kn,lo.get=at,lo.invalidAt=Ln,lo.isAfter=un,lo.isBefore=cn,lo.isBetween=ln,lo.isSame=hn,lo.isSameOrAfter=fn,lo.isSameOrBefore=dn,lo.isValid=Nn,lo.lang=ro,lo.locale=En,lo.localeData=Cn,lo.max=Xr,lo.min=Zr,lo.parsingFlags=Mn,lo.set=ut,lo.startOf=$n,lo.subtract=io,lo.toArray=jn,lo.toObject=Pn,lo.toDate=An,lo.toISOString=gn,lo.inspect=yn,lo.toJSON=On,lo.toString=vn,lo.unix=Dn,lo.valueOf=Tn,lo.creationData=In,lo.year=xr,lo.isLeapYear=it,lo.weekYear=Fn,lo.isoWeekYear=Un,lo.quarter=lo.quarters=zn,lo.month=vt,lo.daysInMonth=gt,lo.week=lo.weeks=At,lo.isoWeek=lo.isoWeeks=jt,lo.weeksInYear=Vn,lo.isoWeeksInYear=qn,lo.date=oo,lo.day=lo.days=Ft,lo.weekday=Ut,lo.isoWeekday=qt,lo.dayOfYear=Wn,lo.hour=lo.hours=Ir,lo.minute=lo.minutes=so,lo.second=lo.seconds=ao,lo.millisecond=lo.milliseconds=co,lo.utcOffset=qe,lo.utc=Be,lo.local=He,lo.parseZone=ze,lo.hasAlignedHourOffset=We,lo.isDST=Ye,lo.isLocal=Ze,lo.isUtcOffset=Xe,lo.isUtc=Je,lo.isUTC=Je,lo.zoneAbbr=Gn,lo.zoneName=Zn,lo.dates=C("dates accessor is deprecated. Use date instead.",oo),lo.months=C("months accessor is deprecated. Use month instead",vt),lo.years=C("years accessor is deprecated. Use year instead",xr),lo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ve),lo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ge);var ho=A.prototype;ho.calendar=j,ho.longDateFormat=P,ho.invalidDate=O,ho.ordinal=N,ho.preparse=Qn,ho.postformat=Qn,ho.relativeTime=M,ho.pastFuture=L,ho.set=T,ho.months=ht,ho.monthsShort=ft,ho.monthsParse=pt,ho.monthsRegex=_t,ho.monthsShortRegex=yt,ho.week=St,ho.firstDayOfYear=Dt,ho.firstDayOfWeek=Tt,ho.weekdays=Nt,ho.weekdaysMin=Lt,ho.weekdaysShort=Mt,ho.weekdaysParse=Rt,ho.weekdaysRegex=Vt,ho.weekdaysShortRegex=Bt,ho.weekdaysMinRegex=Ht,ho.isPM=Xt,ho.meridiem=Jt,ee("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",ee),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",re);var fo=Math.abs,po=gi("ms"),mo=gi("s"),vo=gi("m"),go=gi("h"),yo=gi("d"),_o=gi("w"),bo=gi("M"),wo=gi("y"),xo=bi("milliseconds"),ko=bi("seconds"),Eo=bi("minutes"),Co=bi("hours"),$o=bi("days"),So=bi("months"),To=bi("years"),Do=Math.round,Ao={ss:44,s:45,m:45,h:22,d:26,M:11},jo=Math.abs,Po=Ne.prototype;return Po.isValid=Pe,Po.abs=ai,Po.add=ci,Po.subtract=li,Po.as=mi,Po.asMilliseconds=po,Po.asSeconds=mo,Po.asMinutes=vo,Po.asHours=go,Po.asDays=yo,Po.asWeeks=_o,Po.asMonths=bo,Po.asYears=wo,Po.valueOf=vi,Po._bubble=fi,Po.clone=yi,Po.get=_i,Po.milliseconds=xo,Po.seconds=ko,Po.minutes=Eo,Po.hours=Co,Po.days=$o,Po.weeks=wi,Po.months=So,Po.years=To,Po.humanize=$i,Po.toISOString=Ti,Po.toString=Ti,Po.toJSON=Ti,Po.locale=En,Po.localeData=Cn,Po.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),Po.lang=ro,B("X",0,0,"unix"),B("x",0,0,"valueOf"),G("x",or),G("X",ur),Q("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,n){n._d=new Date(x(t))}),n.version="2.21.0",i(Se),n.fn=lo,n.min=De,n.max=Ae,n.now=Jr,n.utc=d,n.unix=Xn,n.months=ni,n.isDate=c,n.locale=ee,n.invalid=g,n.duration=Qe,n.isMoment=b,n.weekdays=ri,n.parseZone=Jn,n.localeData=re,n.isDuration=Me,n.monthsShort=ii,n.weekdaysMin=si,n.defineLocale=ne,n.updateLocale=ie,n.locales=oe,n.weekdaysShort=oi,n.normalizeUnits=R,n.relativeTimeRounding=Ei,n.relativeTimeThreshold=Ci,n.calendarFormat=on,n.prototype=lo,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n})},{}],78:[function(t,e,n){function i(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return s(t,l,"day")||s(t,c,"hour")||s(t,u,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,h=365.25*l;e.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return i(t);if("number"===n&&isNaN(t)===!1)return e["long"]?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],79:[function(t,e,n){(function(n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t["default"]:t}function r(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function o(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),i=new Uint8Array(t);return n.set(i),e}function s(t){if(t instanceof ArrayBuffer)return o(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function a(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&xr.call(n)==kr}function u(t){var e,n,i;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,i=t.length;n<i;n++)e[n]=u(t[n]);return e}if(t instanceof Date)return t.toISOString();if(r(t))return s(t);if(!a(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=u(t[n]);"undefined"!=typeof o&&(e[n]=o)}return e}function c(t){var e=!1;return dr(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function l(t){return dr(function(e){e=u(e);var n=this,i="function"==typeof e[e.length-1]&&e.pop(),r=new wr(function(i,r){var o;try{var s=c(function(t,e){t?r(t):i(e)});e.push(s),o=t.apply(n,e),o&&"function"==typeof o.then&&i(o)}catch(a){r(a)}});return i&&r.then(function(t){i(null,t)},i),r})}function h(t,e,n){if(t.constructor.listeners("debug").length){for(var i=["api",t.name,e],r=0;r<n.length-1;r++)i.push(n[r]);t.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",t.name,e];r=r.concat(n?["error",n]:["success",i]),t.constructor.emit("debug",r),o(n,i)}}}function f(t,e){return l(dr(function(n){if(this._closed)return wr.reject(new Error("database is closed"));if(this._destroyed)return wr.reject(new Error("database is destroyed"));var i=this;return h(i,t,n),this.taskqueue.isReady?e.apply(this,n):new wr(function(e,r){i.taskqueue.addTask(function(o){o?r(o):e(i[t].apply(i,n))})})}))}function d(t){return"$"+t}function p(t){return t.substring(1)}function m(){this._store={}}function v(t){if(this._store=new m,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function g(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}function y(t,e){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];o in t&&(n[o]=t[o])}return n}function _(t){return t}function b(t){return[{ok:t}]}function w(t,e,n){function i(){var t=[];f.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function r(){++h===l&&i()}function o(t,e,n){f[t]={id:e,docs:n},r()}function s(){if(!(p>=d.length)){var t=Math.min(p+Sr,d.length),e=d.slice(p,t);a(e,p),p+=e.length}}function a(n,i){n.forEach(function(n,r){var a=i+r,u=c.get(n),l=y(u[0],["atts_since","attachments"]);l.open_revs=u.map(function(t){return t.rev}),l.open_revs=l.open_revs.filter(_);var h=_;0===l.open_revs.length&&(delete l.open_revs,h=b),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(l[t]=e[t])}),t.get(n,l,function(t,e){var i;i=t?[{error:t}]:h(e),o(a,n,i),s()})})}var u=e.docs,c=new Cr;u.forEach(function(t){c.has(t.id)?c.get(t.id).push(t):c.set(t.id,[t])});var l=c.size,h=0,f=new Array(l),d=[];c.forEach(function(t,e){d.push(e)});var p=0;s()}function x(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function k(){return $r}function E(t){x()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):k()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function C(){mr.EventEmitter.call(this),this._listeners={},E(this)}function $(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function S(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=n>>1,e=n);var i=Math.random(),r=e-t;return~~(r*i+t)}function T(t){var e=0;return t||(e=2e3),S(t,e)}function D(t,e){$("info","The above "+t+" is totally normal. "+e)}function A(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}function j(t,e){function n(e){for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=A.prototype,new n(e)}function P(t){if("object"!=typeof t){var e=t;t=Ir,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function O(t,e,n){try{return!t(e,n)}catch(i){var r="Filter function threw: "+i.toString();return j(qr,r)}}function N(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(i){i.doc||(i.doc={});var r=n&&O(t.filter,i.doc,e);if("object"==typeof r)return r;if(r)return!1;if(t.include_docs){if(!t.attachments)for(var o in i.doc._attachments)i.doc._attachments.hasOwnProperty(o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function M(t){for(var e=[],n=0,i=t.length;n<i;n++)e=e.concat(t[n]);return e}function L(t){var e;if(t?"string"!=typeof t?e=j(Nr):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=j(Lr)):e=j(Mr),e)throw e}function I(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&($("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function R(t,e){return"listenerCount"in t?t.listenerCount(e):mr.EventEmitter.listenerCount(t,e)}function F(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function U(t){var e=F(t);return e?e.join("/"):null}function q(t){for(var e=Xr.exec(t),n={},i=14;i--;){var r=Yr[i],o=e[i]||"",s=["user","password"].indexOf(r)!==-1;n[r]=s?decodeURIComponent(o):o}return n[Gr]={},n[Yr[12]].replace(Zr,function(t,e,i){e&&(n[Gr][e]=i)}),n}function V(t,e){var n=[],i=[];for(var r in e)e.hasOwnProperty(r)&&(n.push(r),i.push(e[r]));return n.push(t),Function.apply(null,n).apply(null,i)}function B(t,e,n){return new wr(function(i,r){t.get(e,function(o,s){if(o){if(404!==o.status)return r(o);s={}}var a=s._rev,u=n(s);return u?(u._id=e,u._rev=a,void i(H(t,u,n))):i({updated:!1,rev:a})})})}function H(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(i){if(409!==i.status)throw i;return B(t,e._id,n)})}function z(){return gr.v4().replace(/-/g,"").toLowerCase()}function W(t){for(var e,n,i,r,o=t.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],u=r.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});else{var h=!!s[1].deleted,f=s[0];e&&!(i!==h?i:n!==u?n<u:e<f)||(e=f,n=u,i=h)}}return n+"-"+e}function Y(t,e){for(var n,i=t.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=e(0===s.length,r,o[0],n.ctx,o[1]),u=0,c=s.length;u<c;u++)i.push({pos:r+1,ids:s[u],ctx:a})}function G(t,e){return t.pos-e.pos}function Z(t){var e=[];Y(t,function(t,n,i,r,o){t&&e.push({rev:n+"-"+i,pos:n,opts:o})}),e.sort(G).reverse();for(var n=0,i=e.length;n<i;n++)delete e[n].pos;return e}function X(t){for(var e=W(t),n=Z(t.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===e||s.opts.deleted||i.push(s.rev)}return i}function J(t){var e=[];return Y(t.rev_tree,function(t,n,i,r,o){"available"!==o.status||t||(e.push(n+"-"+i),o.status="missing")}),e}function Q(t){for(var e,n=[],i=t.slice();e=i.pop();){var r=e.pos,o=e.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:r+1-l.length,ids:l});for(var h=0,f=u.length;h<f;h++)i.push({pos:r+1,ids:u[h],history:l})}return n.reverse()}function K(t,e){return t.pos-e.pos}function tt(t,e,n){for(var i,r=0,o=t.length;r<o;)i=r+o>>>1,n(t[i],e)<0?r=i+1:o=i;return r}function et(t,e,n){var i=tt(t,e,n);t.splice(i,0,e)}function nt(t,e){for(var n,i,r=e,o=t.length;r<o;r++){var s=t[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function it(t,e){return t[0]<e[0]?-1:1}function rt(t,e){for(var n=[{tree1:t,tree2:e}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===s[2][a][0]&&(n.push({tree1:o[2][c],tree2:s[2][a]}),u=!0);u||(i="new_branch",et(o[2],s[2][a],it))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:t}}function ot(t,e,n){var i,r=[],o=!1,s=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,u=t.length;a<u;a++){var c=t[a];if(c.pos===e.pos&&c.ids[0]===e.ids[0])i=rt(c.ids,e.ids),r.push({pos:c.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(n!==!0){var l=c.pos<e.pos?c:e,h=c.pos<e.pos?e:c,f=h.pos-l.pos,d=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var v=m.ids[2],g=0,y=v.length;g<y;g++)p.push({ids:v[g],diff:m.diff-1,parent:m.ids,parentIdx:g});else m.ids[0]===h.ids[0]&&d.push(m)}var _=d[0];_?(i=rt(_.ids,h.ids),_.parent[2][_.parentIdx]=i.tree,r.push({pos:l.pos,ids:l.ids}),o=o||i.conflicts,s=!0):r.push(c)}else r.push(c)}return s||r.push(e),r.sort(K),{tree:r,conflicts:o||"internal_node"}}function st(t,e){for(var n,i,r=Q(t),o=0,s=r.length;o<s;o++){var a,u=r[o],c=u.ids;if(c.length>e){n||(n={});var l=c.length-e;a={pos:u.pos+l,ids:nt(c,l)};for(var h=0;h<l;h++){var f=u.pos+h+"-"+c[h].id;n[f]=!0}}else a={pos:u.pos,ids:nt(c,0)};i=i?ot(i,a,!0).tree:[a]}return n&&Y(i,function(t,e,i){delete n[e+"-"+i]}),{tree:i,revs:n?Object.keys(n):[]}}function at(t,e,n){var i=ot(t,e),r=st(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function ut(t,e){for(var n,i=t.slice(),r=e.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)i.push({pos:n.pos+1,ids:a[u]})}return!1}function ct(t){return t.ids}function lt(t,e){e||(e=W(t));for(var n,i=e.substring(e.indexOf("-")+1),r=t.rev_tree.map(ct);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function ht(t){return/^_local/.test(t)}function ft(t,e){for(var n,i=e.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:r,opts:a}),c)for(var h=0,f=l.length;h<f;h++){var d=l[h],p=d.pos+"-"+d.id;if(p===t)return r+"-"+s}for(var m=0,v=u.length;m<v;m++)i.push({pos:r+1,ids:u[m],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function dt(t,e,n,i){try{t.emit("change",e,n,i)}catch(r){$("error",'Error in .on("change", function):',r)}}function pt(t,e,n){function i(){r.cancel()}mr.EventEmitter.call(this);var r=this;this.db=t,e=e?u(e):{};var o=e.complete=c(function(e,n){e?R(r,"error")>0&&r.emit("error",e):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",i)});n&&(r.on("complete",function(t){n(null,t)}),r.on("error",n)),t.once("destroyed",i),e.onChange=function(t,e,n){r.isCancelled||dt(r,t,e,n)};var s=new wr(function(t,n){e.complete=function(e,i){e?n(e):t(i)}});r.once("cancel",function(){t.removeListener("destroyed",i),e.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this["catch"]=s["catch"].bind(s),this.then(function(t){o(null,t)},o),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}function mt(t,e,n){var i=[{rev:t._rev}];"all_docs"===n.style&&(i=Z(e.rev_tree).map(function(t){return{rev:t.rev}}));var r={id:e.id,changes:i,doc:t};return lt(e,t._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=X(e),r.doc._conflicts.length||delete r.doc._conflicts),r}function vt(t,e){return t<e?-1:t>e?1:0}function gt(t,e){return function(n,i){n||i[0]&&i[0].error?(n=n||i[0],n.docId=e,t(n)):t(null,i.length?i[0]:i)}}function yt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=y(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function _t(t,e){var n=vt(t._id,e._id);if(0!==n)return n;var i=t._revisions?t._revisions.start:0,r=e._revisions?e._revisions.start:0;return vt(i,r)}function bt(t){var e={},n=[];return Y(t,function(t,i,r,o){var s=i+"-"+r;return t&&(e[s]=0),void 0!==o&&n.push({from:o,to:s}),s}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function wt(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}function xt(t){var e=t._compactionQueue[0],n=e.opts,i=e.callback;t.get("_local/compaction")["catch"](function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?i(e):i(null,n),pr(function(){t._compactionQueue.shift(),t._compactionQueue.length&&xt(t)})})})}function kt(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function Et(){mr.EventEmitter.call(this)}function Ct(){this.isReady=!1,this.failed=!1,this.queue=[]}function $t(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=Tt.adapters,r=Tt.preferredAdapters,o=Tt.prefix,s=e.adapter;if(!s)for(var a=0;a<r.length;++a){s=r[a];{if(!("idb"===s&&"websql"in i&&k()&&localStorage["_pouch__websqldb_"+o+t]))break;$("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var u=i[s],c=!(u&&"use_prefix"in u)||u.use_prefix;return{name:c?o+t:t,adapter:s}}function St(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}function Tt(t,e){if(!(this instanceof Tt))return new Tt(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=u(e),n.auto_compaction=e.auto_compaction,n.prefix=Tt.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var i=(e.prefix||"")+t,r=$t(i,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Tt.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Tt.adapters[e.adapter]||!Tt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);
Et.call(n),n.taskqueue=new Ct,n.adapter=e.adapter,Tt.adapters[e.adapter].call(n,e,function(t){return t?n.taskqueue.fail(t):(St(n),n.emit("created",n),Tt.emit("created",n.name),void n.taskqueue.ready(n))})}function Dt(t){Object.keys(mr.EventEmitter.prototype).forEach(function(e){"function"==typeof mr.EventEmitter.prototype[e]&&(t[e]=Qr[e].bind(Qr))});var e=t._destructionListeners=new Cr;t.on("ref",function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)}),t.on("unref",function(t){if(e.has(t.name)){var n=e.get(t.name),i=n.indexOf(t);i<0||(n.splice(i,1),n.length>1?e.set(t.name,n):e["delete"](t.name))}}),t.on("destroyed",function(t){if(e.has(t)){var n=e.get(t);e["delete"](t),n.forEach(function(t){t.emit("destroyed",!0)})}})}function At(t){t.debug=yr;var e={};t.on("debug",function(t){var n=t[0],i=t.slice(1);e[n]||(e[n]=yr("pouchdb:"+n)),e[n].apply(null,i)})}function jt(t,e){for(var n=t,i=0,r=e.length;i<r;i++){var o=e[i];if(n=n[o],!n)break}return n}function Pt(t,e){return t<e?-1:t>e?1:0}function Ot(t){for(var e=[],n="",i=0,r=t.length;i<r;i++){var o=t[i];"."===o?i>0&&"\\"===t[i-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=o}return e.push(n),e}function Nt(t){return to.indexOf(t)>-1}function Mt(t){return Object.keys(t)[0]}function Lt(t){return t[Mt(t)]}function It(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var i=t[n];if("object"!=typeof i&&(i={$eq:i}),Nt(n))i instanceof Array?e[n]=i.map(function(t){return It([t])}):e[n]=It([i]);else{var r=e[n]=e[n]||{};Object.keys(i).forEach(function(t){var e=i[t];return"$gt"===t||"$gte"===t?Rt(t,e,r):"$lt"===t||"$lte"===t?Ft(t,e,r):"$ne"===t?Ut(e,r):"$eq"===t?qt(e,r):void(r[t]=e)})}})}),e}function Rt(t,e,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):"undefined"!=typeof n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function Ft(t,e,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):"undefined"!=typeof n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function Ut(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function qt(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function Vt(t){var e=u(t),n=!1;"$and"in e&&(e=It(e.$and),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n],r=t[i];"object"==typeof r&&null!==r||(t[i]={$eq:r})}})}),"$not"in e&&(e.$not=It([e.$not]));for(var i=Object.keys(e),r=0;r<i.length;r++){var o=i[r],s=e[o];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!n&&(s.$ne=[s.$ne]),e[o]=s}return e}function Bt(t,e,n){for(var i="",r=n-t.length;i.length<r;)i+=e;return i}function Ht(t,e,n){var i=Bt(t,e,n);return i+t}function zt(t,e){if(t===e)return 0;t=Wt(t),e=Wt(e);var n=ee(t),i=ee(e);if(n-i!==0)return n-i;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Kt(t,e)}return Array.isArray(t)?Qt(t,e):te(t,e)}function Wt(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-(1/0)||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var i=0;i<n;i++)t[i]=Wt(e[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];"undefined"!=typeof o&&(t[r]=Wt(o))}}}}return t}function Yt(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return ne(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),i=-1,r=n.length,o="";if(e)for(;++i<r;)o+=Gt(n[i]);else for(;++i<r;){var s=n[i];o+=Gt(s)+Gt(t[s])}return o}return""}function Gt(t){var e="\0";return t=Wt(t),ee(t)+io+Yt(t)+e}function Zt(t,e){var n,i=e,r="1"===t[e];if(r)n=0,e++;else{var o="0"===t[e];e++;var s="",a=t.substring(e,e+no),u=parseInt(a,10)+eo;for(o&&(u=-u),e+=no;;){var c=t[e];if("\0"===c)break;s+=c,e++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:e-i}}function Xt(t,e){var n=t.pop();if(e.length){var i=e[e.length-1];n===i.element&&(e.pop(),i=e[e.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===t.length-2){var s=t.pop();r[s]=n}else t.push(n)}}function Jt(t){for(var e=[],n=[],i=0;;){var r=t[i++];if("\0"!==r)switch(r){case"1":e.push(null);break;case"2":e.push("1"===t[i]),i++;break;case"3":var o=Zt(t,i);e.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=t[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(s);break;case"5":var u={element:[],index:e.length};e.push(u.element),n.push(u);break;case"6":var c={element:{},index:e.length};e.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===e.length)return e.pop();Xt(e,n)}}}function Qt(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=zt(t[i],e[i]);if(0!==r)return r}return t.length===e.length?0:t.length>e.length?1:-1}function Kt(t,e){return t===e?0:t>e?1:-1}function te(t,e){for(var n=Object.keys(t),i=Object.keys(e),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=zt(n[o],i[o]);if(0!==s)return s;if(s=zt(t[n[o]],e[i[o]]),0!==s)return s}return n.length===i.length?0:n.length>i.length?1:-1}function ee(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function ne(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),i=t<0,r=i?"0":"2",o=(i?-n:n)-eo,s=Ht(o.toString(),"0",no);r+=io+s;var a=Math.abs(parseFloat(e[0]));i&&(a=10-a);var u=a.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=io+u}function ie(t){function e(e){return t.map(function(t){var n=Mt(t),i=Ot(n),r=jt(e,i);return r})}return function(t,n){var i=e(t.doc),r=e(n.doc),o=zt(i,r);return 0!==o?o:Pt(t.doc._id,n.doc._id)}}function re(t,e,n){if(t=t.filter(function(t){return oe(t.doc,e.selector,n)}),e.sort){var i=ie(e.sort);t=t.sort(i),"string"!=typeof e.sort[0]&&"desc"===Lt(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0,o=("limit"in e?e.limit:t.length)+r;t=t.slice(r,o)}return t}function oe(t,e,n){return n.every(function(n){var i=e[n],r=Ot(n),o=jt(t,r);return Nt(n)?ae(n,i,t):se(i,t,r,o)})}function se(t,e,n,i){return!t||Object.keys(t).every(function(r){var o=t[r];return ue(r,e,o,n,i)})}function ae(t,e,n){return"$or"===t?e.some(function(t){return oe(n,t,Object.keys(t))}):"$not"===t?!oe(n,e,Object.keys(e)):!e.find(function(t){return oe(n,t,Object.keys(t))})}function ue(t,e,n,i,r){if(!ro[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ro[t](e,n,i,r)}function ce(t){return"undefined"!=typeof t&&null!==t}function le(t){return"undefined"!=typeof t}function he(t,e){var n=e[0],i=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(i,10)!==i)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===i}function fe(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function de(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function pe(t,e){return t.length===e}function me(t,e){var n=new RegExp(e);return n.test(t)}function ve(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function ge(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");e=Vt(e);var n={doc:t},i=re([n],{selector:e},Object.keys(e));return i&&1===i.length}function ye(t){return V('"use strict";\nreturn '+t+";",{})}function _e(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return V(e,{})}function be(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function we(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=U(t.view):t.filter=U(t.filter))}function xe(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!I(t.db)}function ke(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var i=j(qr,"`view` filter parameter not found or invalid.");return n(i)}var r=F(e.view);t.db.get("_design/"+r[0],function(i,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(i)return n(P(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;return s?(e.filter=_e(s),void t.doChanges(e)):n(j(Pr,o.views?"missing json key: "+r[1]:"missing json key: views"))})}else if(e.selector)e.filter=function(t){return ge(t,e.selector)},t.doChanges(e);else{var o=F(e.filter);t.db.get("_design/"+o[0],function(i,r){if(t.isCancelled)return n(null,{status:"cancelled"});if(i)return n(P(i));var s=r&&r.filters&&r.filters[o[1]];return s?(e.filter=ye(s),void t.doChanges(e)):n(j(Pr,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"))})}}function Ee(t){t._changesFilterPlugin={validate:be,normalize:we,shouldFilter:xe,filter:ke}}function Ce(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function $e(t){if(!/^\d+-./.test(t))return j(zr);var e=t.indexOf("-"),n=t.substring(0,e),i=t.substring(e+1);return{prefix:parseInt(n,10),id:i}}function Se(t,e){for(var n=t.start-t.ids.length+1,i=t.ids,r=[i[0],e,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}function Te(t,e){var n,i,r,o={status:"available"};if(t._deleted&&(o.deleted=!0),e)if(t._id||(t._id=Jr()),i=z(),t._rev){if(r=$e(t._rev),r.error)return r;t._rev_tree=[{pos:r.prefix,ids:[r.id,{status:"missing"},[[i,o,[]]]]}],n=r.prefix+1}else t._rev_tree=[{pos:1,ids:[i,o,[]]}],n=1;else if(t._revisions&&(t._rev_tree=Se(t._revisions,o),n=t._revisions.start,i=t._revisions.ids[0]),!t._rev_tree){if(r=$e(t._rev),r.error)return r;n=r.prefix,i=r.id,t._rev_tree=[{pos:n,ids:[i,o,[]]}]}L(t._id),t._rev=n+"-"+i;var s={metadata:{},data:{}};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u="_"===a[0];if(u&&!so[a]){var c=j(Ur,a);throw c.message=Ur.message+": "+a,c}u&&!ao[a]?s.metadata[a.slice(1)]=t[a]:s.data[a]=t[a]}return s}function De(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if("TypeError"!==n.name)throw n;for(var i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new i,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function Ae(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function je(t,e){return De([Ae(t)],{type:e})}function Pe(t,e){return je(uo(t),e)}function Oe(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;r<i;r++)e+=String.fromCharCode(n[r]);return e}function Ne(t,e){if("undefined"==typeof FileReader)return e(Oe((new FileReaderSync).readAsArrayBuffer(t)));var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";return i?e(n):void e(Oe(n))},i?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Me(t,e){Ne(t,function(t){e(t)})}function Le(t,e){Me(t,function(t){e(co(t))})}function Ie(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}function Re(t){return co(t)}function Fe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function Ue(t,e,n,i,r){(n>0||i<e.size)&&(e=Fe(e,n,i)),Ie(e,function(e){t.append(e),r()})}function qe(t,e,n,i,r){(n>0||i<e.length)&&(e=e.substring(n,i)),t.appendBinary(e),r()}function Ve(t,e){function n(){lo(r)}function i(){var t=l.end(!0),n=Re(t);e(n),l.destroy()}function r(){var e=c*a,r=e+a;c++,c<u?h(l,t,e,r,n):h(l,t,e,r,i)}var o="string"==typeof t,s=o?t.length:t.size,a=Math.min(ho,s),u=Math.ceil(s/a),c=0,l=o?new _r:new _r.ArrayBuffer,h=o?qe:Ue;r()}function Be(t){return _r.hash(t)}function He(t){try{return uo(t)}catch(e){var n=j(Rr,"Attachment is not a valid base64 string");return{error:n}}}function ze(t,e,n){var i=He(t.data);return i.error?n(i.error):(t.length=i.length,"blob"===e?t.data=je(i,t.content_type):"base64"===e?t.data=co(i):t.data=i,void Ve(i,function(e){t.digest="md5-"+e,n()}))}function We(t,e,n){Ve(t.data,function(i){t.digest="md5-"+i,t.length=t.data.size||t.data.length||0,"binary"===e?Me(t.data,function(e){t.data=e,n()}):"base64"===e?Le(t.data,function(e){t.data=e,n()}):n()})}function Ye(t,e,n){return t.stub?n():void("string"==typeof t.data?ze(t,e,n):We(t,e,n))}function Ge(t,e,n){function i(){o++,t.length===o&&(r?n(r):n())}if(!t.length)return n();var r,o=0;t.forEach(function(t){function n(t){r=t,s++,s===o.length&&i()}var o=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],s=0;if(!o.length)return i();for(var a in t.data._attachments)t.data._attachments.hasOwnProperty(a)&&Ye(t.data._attachments[a],e,n)})}function Ze(t,e,n,i,r,o,s,a){if(ut(e.rev_tree,n.metadata.rev))return i[r]=n,o();var u=e.winningRev||W(e),c="deleted"in e?e.deleted:lt(e,u),l="deleted"in n.metadata?n.metadata.deleted:lt(n.metadata),h=/^1-/.test(n.metadata.rev);if(c&&!l&&a&&h){var f=n.data;f._rev=u,f._id=n.metadata.id,n=Te(f,a)}var d=at(e.rev_tree,n.metadata.rev_tree[0],t),p=a&&(c&&l&&"new_leaf"!==d.conflicts||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts);if(p){var m=j(Or);return i[r]=m,o()}var v=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g,y=W(n.metadata),_=lt(n.metadata,y),b=c===_?0:c<_?-1:1;g=v===y?_:lt(n.metadata,v),s(n,y,_,g,!0,b,r,o)}function Xe(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function Je(t,e,n,i,r,o,s,a,u){function c(t,e,n){var i=W(t.metadata),r=lt(t.metadata,i);if("was_delete"in a&&r)return o[e]=j(Pr,"deleted"),n();var u=h&&Xe(t);if(u){var c=j(Or);return o[e]=c,n()}var l=r?0:1;s(t,i,r,r,!1,l,e,n)}function l(){++d===p&&u&&u()}t=t||1e3;var h=a.new_edits,f=new Cr,d=0,p=e.length;e.forEach(function(t,e){if(t._id&&ht(t._id)){var i=t._deleted?"_removeLocal":"_putLocal";return void n[i](t,{ctx:r},function(t,n){o[e]=t||n,l()})}var s=t.metadata.id;f.has(s)?(p--,f.get(s).push([t,e])):f.set(s,[[t,e]])}),f.forEach(function(e,n){function r(){++u<e.length?a():l()}function a(){var a=e[u],l=a[0],f=a[1];if(i.has(n))Ze(t,i.get(n),l,o,f,r,s,h);else{var d=at([],l.metadata.rev_tree[0],t);l.metadata.rev_tree=d.tree,l.stemmedRevs=d.stemmedRevs||[],c(l,f,r)}}var u=0;a()})}function Qe(t){try{return JSON.parse(t)}catch(e){return br.parse(t)}}function Ke(t){try{return JSON.stringify(t)}catch(e){return br.stringify(t)}}function tn(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(j(Br,n,e.type))}}function en(t,e,n){return{data:Ke(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function nn(t){if(!t)return null;var e=Qe(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function rn(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function on(t,e,n,i){n?i(t?"string"!=typeof t?t:Pe(t,e):De([""],{type:e})):t?"string"!=typeof t?Ne(t,function(t){i(co(t))}):i(t):i("")}function sn(t,e,n,i){function r(){++a===s.length&&i&&i()}function o(t,e){var i=t._attachments[e],o=i.digest,s=n.objectStore(vo).get(o);s.onsuccess=function(t){i.body=t.target.result.body,r()}}var s=Object.keys(t._attachments||{});if(!s.length)return i&&i();var a=0;s.forEach(function(n){e.attachments&&e.include_docs?o(t,n):(t._attachments[n].stub=!0,r())})}function an(t,e){return wr.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return wr.all(n.map(function(n){var i=t.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new wr(function(s){on(r,o,e,function(e){t.doc._attachments[n]=Ar(y(i,["digest","content_type"]),{data:e}),s()})})}}))}}))}function un(t,e,n){function i(){c--,c||r()}function r(){o.length&&o.forEach(function(t){var e=u.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1));e.onsuccess=function(e){var n=e.target.result;n||a["delete"](t)}})}var o=[],s=n.objectStore(mo),a=n.objectStore(vo),u=n.objectStore(go),c=t.length;t.forEach(function(t){var n=s.index("_doc_id_rev"),r=e+"::"+t;n.getKey(r).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return i();s["delete"](e);var n=u.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];o.push(n),u["delete"](e.primaryKey),e["continue"]()}else i()}}})}function cn(t,e,n){try{return{txn:t.transaction(e,n)}}catch(i){return{error:i}}}function ln(t,e,n,i,r,o){function s(){var t=[po,mo,vo,_o,go,yo],e=cn(r,t,"readwrite");return e.error?o(e.error):(_=e.txn,_.onabort=tn(o),_.ontimeout=tn(o),_.oncomplete=h,b=_.objectStore(po),w=_.objectStore(mo),x=_.objectStore(vo),k=_.objectStore(go),E=_.objectStore(yo),E.get(yo).onsuccess=function(t){$=t.target.result,c()},void d(function(t){return t?(L=!0,o(t)):void l()}))}function a(){P=!0,c()}function u(){Je(t.revs_limit,S,i,M,_,N,p,n,a)}function c(){$&&P&&($.docCount+=O,E.put($))}function l(){function t(){++n===S.length&&u()}function e(e){var n=nn(e.target.result);n&&M.set(n.id,n),t()}if(S.length)for(var n=0,i=0,r=S.length;i<r;i++){var o=S[i];if(o._id&&ht(o._id))t();else{var s=b.get(o.metadata.id);s.onsuccess=e}}}function h(){L||(wo.notify(i._meta.name),o(null,N))}function f(t,e){var n=x.get(t);n.onsuccess=function(n){if(n.target.result)e();else{var i=j(Wr,"unknown stub attachment with digest "+t);i.status=412,e(i)}}}function d(t){function e(){++r===n.length&&t(i)}var n=[];if(S.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var i=t.data._attachments[e];i.stub&&n.push(i.digest)})}),!n.length)return t();var i,r=0;n.forEach(function(t){f(t,function(t){t&&!i&&(i=t),e()})})}function p(t,e,n,i,r,o,s,a){t.metadata.winningRev=e,t.metadata.deleted=n;var u=t.data;u._id=t.metadata.id,u._rev=t.metadata.rev,i&&(u._deleted=!0);var l=u._attachments&&Object.keys(u._attachments).length;return l?v(t,e,n,r,s,a):(O+=o,c(),void m(t,e,n,r,s,a))}function m(t,e,n,r,o,s){function a(o){var s=t.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(J(t.metadata))),s&&s.length&&un(s,t.metadata.id,_),h.seq=o.target.result;var a=en(h,e,n),u=b.put(a);u.onsuccess=c}function u(t){t.preventDefault(),t.stopPropagation();var e=w.index("_doc_id_rev"),n=e.getKey(l._doc_id_rev);n.onsuccess=function(t){var e=w.put(l,t.target.result);e.onsuccess=a}}function c(){N[o]={ok:!0,id:h.id,rev:h.rev},M.set(t.metadata.id,t.metadata),g(t,h.seq,s)}var l=t.data,h=t.metadata;l._doc_id_rev=h.id+"::"+h.rev,delete l._id,delete l._rev;var f=w.put(l);f.onsuccess=a,f.onerror=u}function v(t,e,n,i,r,o){function s(){c===l.length&&m(t,e,n,i,r,o)}function a(){c++,s()}var u=t.data,c=0,l=Object.keys(u._attachments);l.forEach(function(n){var i=t.data._attachments[n];if(i.stub)c++,s();else{var r=i.data;delete i.data,i.revpos=parseInt(e,10);var o=i.digest;y(o,r,a)}})}function g(t,e,n){function i(){++o===s.length&&n()}function r(n){var r=t.data._attachments[n].digest,o=k.put({seq:e,digestSeq:r+"::"+e});o.onsuccess=i,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),i()}}var o=0,s=Object.keys(t.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)r(s[a])}function y(t,e,n){var i=x.count(t);i.onsuccess=function(i){var r=i.target.result;if(r)return n();var o={digest:t,body:e},s=x.put(o);s.onsuccess=n}}for(var _,b,w,x,k,E,C,$,S=e.docs,T=0,D=S.length;T<D;T++){var A=S[T];A._id&&ht(A._id)||(A=S[T]=Te(A,n.new_edits),A.error&&!C&&(C=A))}if(C)return o(C);var P=!1,O=0,N=new Array(S.length),M=new Cr,L=!1,I=i._meta.blobSupport?"blob":"base64";Ge(S,I,function(t){return t?o(t):void s()})}function hn(t,e,n,i,r){function o(t){l=t.target.result,c&&r(c,l,h)}function s(t){c=t.target.result,l&&r(c,l,h)}function a(){if(!c.length)return r();var n,a=c[c.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(a,e.upper,!0,e.upperOpen)}catch(u){if("DataError"===u.name&&0===u.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);e=n,c=null,l=null,t.getAll(e,i).onsuccess=o,t.getAllKeys(e,i).onsuccess=s}function u(t){var e=t.target.result;return e?void r([e.key],[e.value],e):r()}var c,l,h,f="function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&i>1&&!n;f?(h={"continue":a},t.getAll(e,i).onsuccess=o,t.getAllKeys(e,i).onsuccess=s):n?t.openCursor(e,"prev").onsuccess=u:t.openCursor(e).onsuccess=u}function fn(t,e,n){function i(t){var e=t.target.result;e?(r.push(e.value),e["continue"]()):n({target:{result:r}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=n);var r=[];t.openCursor(e).onsuccess=i}function dn(t,e,n){var i=[],r=0;t.forEach(function(o,s){e.get(o).onsuccess=function(e){e.target.result?i[s]=e.target.result:i[s]={key:o,error:"not_found"},r++,r===t.length&&n(t,i,{})}})}function pn(t,e,n,i,r){try{if(t&&e)return r?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return r?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return r?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(i)return IDBKeyRange.only(i)}catch(o){return{error:o}}return null}function mn(t,e,n){function i(t,e){function n(t){var n=t.target.result,i=void 0;return n&&n.key&&(i=n.key),e({target:{result:[i]}})}t.openCursor(null,"prev").onsuccess=n}function r(e,n,i){var r=e.id+"::"+i;T.get(r).onsuccess=function(i){if(n.doc=rn(i.target.result),t.conflicts){var r=X(e);r.length&&(n.doc._conflicts=r)}sn(n.doc,t,x)}}function o(e,n){var i={id:n.id,key:n.id,value:{rev:e}},o=n.deleted;o?v&&(D.push(i),i.value.deleted=!0,i.doc=null):g--<=0&&(D.push(i),t.include_docs&&r(n,i,e))}function s(t){for(var e=0,n=t.length;e<n&&D.length!==y;e++){var i=t[e];if(i.error&&v)D.push(i);else{var r=nn(i),s=r.winningRev;o(s,r)}}}function a(t,e,n){n&&(s(e),D.length<y&&n["continue"]())}function u(e){var n=e.target.result;t.descending&&(n=n.reverse()),s(n)}function c(){var e={total_rows:k,offset:t.skip,rows:D};t.update_seq&&void 0!==E&&(e.update_seq=E),n(null,e)}function l(){t.attachments?an(D,t.binary).then(c):c()}var h,f,d="startkey"in t&&t.startkey,p="endkey"in t&&t.endkey,m="key"in t&&t.key,v="keys"in t&&t.keys,g=t.skip||0,y="number"==typeof t.limit?t.limit:-1,_=t.inclusive_end!==!1;if(!v&&(h=pn(d,p,_,m,t.descending),f=h&&h.error,f&&("DataError"!==f.name||0!==f.code)))return n(j(Br,f.name,f.message));var b=[po,mo,yo];t.attachments&&b.push(vo);var w=cn(e,b,"readonly");if(w.error)return n(w.error);var x=w.txn;x.oncomplete=l,x.onabort=tn(n);var k,E,C=x.objectStore(po),$=x.objectStore(mo),S=x.objectStore(yo),T=$.index("_doc_id_rev"),D=[];return S.get(yo).onsuccess=function(t){k=t.target.result.docCount},t.update_seq&&i($,function(t){t.target.result&&t.target.result.length>0&&(E=t.target.result[0])}),f||0===y?void 0:v?dn(t.keys,C,a):y===-1?fn(C,h,u):void hn(C,h,t.descending,y+g,a)}function vn(t){return new wr(function(e){var n=De([""]),i=t.objectStore(bo).put(n,"key");i.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}})["catch"](function(){return!1})}function gn(t,e){var n=t.objectStore(po).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function yn(t,e,n,i){try{t(e,n)}catch(e){i.emit("error",e)}}function _n(){!xo&&ko.length&&(xo=!0,ko.shift()())}function bn(t,e,n){ko.push(function(){t(function(t,i){yn(e,t,i,n),xo=!1,pr(function(){_n(n)})})}),_n()}function wn(t,e,n,i){function r(e,n,i){function r(e,n){var i=t.processChange(n,e,t);f=i.seq=e.seq;var r=w(i);return"object"==typeof r?t.complete(r):void(r&&(b++,p&&_.push(i),t.attachments&&t.include_docs?sn(n,t,m,function(){an([i],t.binary).then(function(){t.onChange(i)})}):t.onChange(i)))}function o(){for(var t=0,e=a.length;t<e&&b!==d;t++){var n=a[t];if(n){var o=u[t];r(o,n)}}b!==d&&i["continue"]()}if(i&&e.length){var a=new Array(e.length),u=new Array(e.length),c=0;n.forEach(function(t,n){var i=rn(t),r=e[n];s(i,r,function(t,i){u[n]=t,a[n]=i,++c===e.length&&o()})})}}function o(t,e,n,i){if(n.seq!==e)return i();if(n.winningRev===t._rev)return i(n,t);var r=t._id+"::"+n.winningRev,o=y.get(r);o.onsuccess=function(t){i(n,rn(t.target.result))}}function s(t,e,n){if(h&&!h.has(t._id))return n();var i=x.get(t._id);return i?o(t,e,i,n):void(g.get(t._id).onsuccess=function(r){i=nn(r.target.result),x.set(t._id,i),o(t,e,i,n)})}function a(){t.complete(null,{results:_,last_seq:f})}function c(){!t.continuous&&t.attachments?an(_).then(a):a()}if(t=u(t),t.continuous){var l=n+":"+Jr();return wo.addListener(n,l,e,t),wo.notify(n),{cancel:function(){wo.removeListener(n,l)}}}var h=t.doc_ids&&new Er(t.doc_ids);t.since=t.since||0;var f=t.since,d="limit"in t?t.limit:-1;0===d&&(d=1);var p;p="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var m,v,g,y,_=[],b=0,w=N(t),x=new Cr,k=[po,mo];t.attachments&&k.push(vo);var E=cn(i,k,"readonly");if(E.error)return t.complete(E.error);m=E.txn,m.onabort=tn(t.complete),m.oncomplete=c,v=m.objectStore(mo),g=m.objectStore(po),y=v.index("_doc_id_rev");var C=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;hn(v,C,t.descending,d,r)}function xn(t,e){var n=this;bn(function(e){kn(n,t,e)},e,n.constructor)}function kn(t,e,n){function i(t){var e=t.createObjectStore(po,{keyPath:"id"});t.createObjectStore(mo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(vo,{keyPath:"digest"}),t.createObjectStore(yo,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(bo),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(_o,{keyPath:"_id"});var n=t.createObjectStore(go,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function r(t,e){var n=t.objectStore(po);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var r=i.value,o=lt(r);r.deletedOrLocal=o?"1":"0",n.put(r),i["continue"]()}else e()}}function o(t){t.createObjectStore(_o,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function s(t,e){var n=t.objectStore(_o),i=t.objectStore(po),r=t.objectStore(mo),o=i.openCursor();o.onsuccess=function(t){var o=t.target.result;if(o){var s=o.value,a=s.id,u=ht(a),c=W(s);if(u){var l=a+"::"+c,h=a+"::",f=a+"::~",d=r.index("_doc_id_rev"),p=IDBKeyRange.bound(h,f,!1,!1),m=d.openCursor(p);m.onsuccess=function(t){if(m=t.target.result){var e=m.value;e._doc_id_rev===l&&n.put(e),r["delete"](m.primaryKey),m["continue"]()}else i["delete"](o.primaryKey),o["continue"]()}}else o["continue"]()}else e&&e()}}function a(t){var e=t.createObjectStore(go,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function u(t,e){var n=t.objectStore(mo),i=t.objectStore(vo),r=t.objectStore(go),o=i.count();o.onsuccess=function(t){var i=t.target.result;return i?void(n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},u=0;u<s.length;u++){var c=i._attachments[s[u]];a[c.digest]=!0}var l=Object.keys(a);for(u=0;u<l.length;u++){var h=l[u];r.put({seq:o,digestSeq:h+"::"+o})}n["continue"]()}):e()}}function c(t){function e(t){return t.data?nn(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(mo),i=t.objectStore(po),r=i.openCursor();r.onsuccess=function(t){function r(){var t=a.id+"::",e=a.id+"::",i=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),r=0;i.onsuccess=function(t){var e=t.target.result;if(!e)return a.seq=r,o();var n=e.primaryKey;n>r&&(r=n),e["continue"]()}}function o(){var t=en(a,a.winningRev,a.deleted),e=i.put(t);e.onsuccess=function(){s["continue"]()}}var s=t.target.result;if(s){var a=e(s.value);return a.winningRev=a.winningRev||W(a),a.seq?o():void r()}}}var h=e.name,f=null;t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=l(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,i,r){ln(e,n,i,t,f,r)},t._get=function(t,e,n){function i(){n(s,{doc:r,metadata:o,ctx:a})}var r,o,s,a=e.ctx;if(!a){var u=cn(f,[po,mo,vo],"readonly");if(u.error)return n(u.error);a=u.txn}a.objectStore(po).get(t).onsuccess=function(t){if(o=nn(t.target.result),!o)return s=j(Pr,"missing"),i();var n;if(e.rev)n=e.latest?ft(e.rev,o):e.rev;else{n=o.winningRev;var u=lt(o);if(u)return s=j(Pr,"deleted"),i()}var c=a.objectStore(mo),l=o.id+"::"+n;c.index("_doc_id_rev").get(l).onsuccess=function(t){return r=t.target.result,r&&(r=rn(r)),r?void i():(s=j(Pr,"missing"),i())}}},t._getAttachment=function(t,e,n,i,r){var o;if(i.ctx)o=i.ctx;else{var s=cn(f,[po,mo,vo],"readonly");if(s.error)return r(s.error);o=s.txn}var a=n.digest,u=n.content_type;o.objectStore(vo).get(a).onsuccess=function(t){var e=t.target.result.body;on(e,u,i.binary,function(t){r(null,t)})}},t._info=function(e){var n,i,r=cn(f,[yo,mo],"readonly");if(r.error)return e(r.error);var o=r.txn;o.objectStore(yo).get(yo).onsuccess=function(t){i=t.target.result.docCount},o.objectStore(mo).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},o.oncomplete=function(){e(null,{doc_count:i,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){mn(t,f,e)},t._changes=function(e){return wn(e,t,h,f)},t._close=function(t){f.close(),Eo["delete"](h),t()},t._getRevisionTree=function(t,e){var n=cn(f,[po],"readonly");if(n.error)return e(n.error);var i=n.txn,r=i.objectStore(po).get(t);r.onsuccess=function(t){var n=nn(t.target.result);n?e(null,n.rev_tree):e(j(Pr))}},t._doCompaction=function(t,e,n){var i=[po,mo,vo,go],r=cn(f,i,"readwrite");if(r.error)return n(r.error);var o=r.txn,s=o.objectStore(po);s.get(t).onsuccess=function(n){var i=nn(n.target.result);Y(i.rev_tree,function(t,n,i,r,o){var s=n+"-"+i;e.indexOf(s)!==-1&&(o.status="missing")}),un(e,t,o);var r=i.winningRev,s=i.deleted;o.objectStore(po).put(en(i,r,s))},o.onabort=tn(n),o.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=cn(f,[_o],"readonly");if(n.error)return e(n.error);var i=n.txn,r=i.objectStore(_o).get(t);r.onerror=tn(e),r.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(j(Pr))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var i=t._rev,r=t._id;i?t._rev="0-"+(parseInt(i.split("-")[1],10)+1):t._rev="0-1";var o,s=e.ctx;if(!s){var a=cn(f,[_o],"readwrite");if(a.error)return n(a.error);s=a.txn,s.onerror=tn(n),s.oncomplete=function(){o&&n(null,o)}}var u,c=s.objectStore(_o);i?(u=c.get(r),u.onsuccess=function(r){var s=r.target.result;if(s&&s._rev===i){var a=c.put(t);a.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o)}}else n(j(Or))}):(u=c.add(t),u.onerror=function(t){n(j(Or)),t.preventDefault(),t.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o);
})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var i=e.ctx;if(!i){var r=cn(f,[_o],"readwrite");if(r.error)return n(r.error);i=r.txn,i.oncomplete=function(){o&&n(null,o)}}var o,s=t._id,a=i.objectStore(_o),u=a.get(s);u.onerror=tn(n),u.onsuccess=function(i){var r=i.target.result;r&&r._rev===t._rev?(a["delete"](s),o={ok:!0,id:s,rev:"0-0"},e.ctx&&n(null,o)):n(j(Pr))}},t._destroy=function(t,e){wo.removeAllListeners(h);var n=Co.get(h);n&&n.result&&(n.result.close(),Eo["delete"](h));var i=indexedDB.deleteDatabase(h);i.onsuccess=function(){Co["delete"](h),k()&&h in localStorage&&delete localStorage[h],e(null,{ok:!0})},i.onerror=tn(e)};var d=Eo.get(h);if(d)return f=d.idb,t._meta=d.global,pr(function(){n(null,t)});var p;p=e.storage?En(h,e.storage):indexedDB.open(h,fo),Co.set(h,p),p.onupgradeneeded=function(t){function e(){var t=h[f-1];f++,t&&t(l,e)}var n=t.target.result;if(t.oldVersion<1)return i(n);var l=t.currentTarget.transaction;t.oldVersion<3&&o(n),t.oldVersion<4&&a(n);var h=[r,s,u,c],f=t.oldVersion;e()},p.onsuccess=function(e){function i(){"undefined"!=typeof a&&l&&(t._meta={name:h,instanceId:u,blobSupport:a},Eo.set(h,{idb:f,global:t._meta}),n(null,t))}function r(){if("undefined"!=typeof s&&"undefined"!=typeof o){var t=h+"_id";t in o?u=o[t]:o[t]=u=Jr(),o.docCount=s,c.objectStore(yo).put(o)}}f=e.target.result,f.onversionchange=function(){f.close(),Eo["delete"](h)},f.onabort=function(t){$("error","Database has a global failure",t.target.error),f.close(),Eo["delete"](h)};var o,s,a,u,c=f.transaction([yo,bo,po],"readwrite"),l=!1;c.objectStore(yo).get(yo).onsuccess=function(t){o=t.target.result||{id:yo},r()},gn(c,function(t){s=t,r()}),oo||(oo=vn(c)),oo.then(function(t){a=t,i()}),c.oncomplete=function(){l=!0,i()},c.onabort=tn(n)},p.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";$("error",t),n(j(Br,t))}}function En(t,e){try{return indexedDB.open(t,{version:fo,storage:e})}catch(n){return indexedDB.open(t,fo)}}function Cn(t){t.adapter("idb",xn,!0)}function $n(t){return decodeURIComponent(escape(t))}function Sn(t){return t<65?t-48:t-55}function Tn(t,e,n){for(var i="";e<n;)i+=String.fromCharCode(Sn(t.charCodeAt(e++))<<4|Sn(t.charCodeAt(e++)));return i}function Dn(t,e,n){for(var i="";e<n;)i+=String.fromCharCode(Sn(t.charCodeAt(e+2))<<12|Sn(t.charCodeAt(e+3))<<8|Sn(t.charCodeAt(e))<<4|Sn(t.charCodeAt(e+1))),e+=4;return i}function An(t,e){return"UTF-8"===e?$n(Tn(t,0,t.length)):Dn(t,0,t.length)}function jn(t){return"'"+t+"'"}function Pn(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function On(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Nn(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Mn(t,e,n){return t=JSON.parse(t),t._id=e,t._rev=n,t}function Ln(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function In(t,e,n,i,r){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(n?" ON "+n:"")+(i?" WHERE "+("string"==typeof i?i:i.join(" AND ")):"")+(r?" ORDER BY "+r:"")}function Rn(t,e,n){function i(){++o===t.length&&r()}function r(){if(s.length){var t="SELECT DISTINCT digest AS digest FROM "+Po+" WHERE seq IN "+Ln(s.length);n.executeSql(t,s,function(t,e){for(var n=[],i=0;i<e.rows.length;i++)n.push(e.rows.item(i).digest);if(n.length){var r="DELETE FROM "+Po+" WHERE seq IN ("+s.map(function(){return"?"}).join(",")+")";t.executeSql(r,s,function(t){var e="SELECT digest FROM "+Po+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";t.executeSql(e,n,function(t,e){for(var i=new Er,r=0;r<e.rows.length;r++)i.add(e.rows.item(r).digest);n.forEach(function(e){i.has(e)||(t.executeSql("DELETE FROM "+Po+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Do+" WHERE digest=?",[e]))})})})}})}}if(t.length){var o=0,s=[];t.forEach(function(t){var r="SELECT seq FROM "+To+" WHERE doc_id=? AND rev=?";n.executeSql(r,[e,t],function(t,e){if(!e.rows.length)return i();var n=e.rows.item(0).seq;s.push(n),t.executeSql("DELETE FROM "+To+" WHERE seq=?",[n],i)})})}}function Fn(t){return function(e){$("error","WebSQL threw an error",e);var n=e&&e.constructor.toString().match(/function ([^(]+)/),i=n&&n[1]||e.type,r=e.target||e.message;t(j(Hr,r,i))}}function Un(t){if("size"in t)return 1e6*t.size;var e="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return e?5e6:1}function qn(t,e,n,i,r,o,s){function a(){return _?s(_):(o.notify(i._name),void s(null,b))}function u(t,e){var n="SELECT count(*) as cnt FROM "+Do+" WHERE digest=?";y.executeSql(n,[t],function(n,i){if(0===i.rows.item(0).cnt){var r=j(Wr,"unknown stub attachment with digest "+t);e(r)}else e()})}function c(t){function e(){++r===n.length&&t(i)}var n=[];if(v.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var i=t.data._attachments[e];i.stub&&n.push(i.digest)})}),!n.length)return t();var i,r=0;n.forEach(function(t){u(t,function(t){t&&!i&&(i=t),e()})})}function l(t,e,n,r,o,s,a,u){function c(){function e(t,e){function i(){return++o===s.length&&e(),!1}function r(e){var r="INSERT INTO "+Po+" (digest, seq) VALUES (?,?)",o=[n._attachments[e].digest,t];y.executeSql(r,o,i,i)}var o=0,s=Object.keys(n._attachments||{});if(!s.length)return e();for(var a=0;a<s.length;a++)r(s[a])}var n=t.data,i=r?1:0,o=n._id,s=n._rev,a=Nn(n),u="INSERT INTO "+To+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,s,a,i];y.executeSql(u,c,function(t,n){var i=n.insertId;e(i,function(){f(t,i)})},function(){var t=In("seq",To,null,"doc_id=? AND rev=?");return y.executeSql(t,[o,s],function(t,n){var r=n.rows.item(0).seq,u="UPDATE "+To+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[a,i,o,s];t.executeSql(u,c,function(t){e(r,function(){f(t,r)})})}),!1})}function l(t){p||(t?(p=t,u(p)):m===v.length&&c())}function h(t){m++,l(t)}function f(n,r){var s=t.metadata.id,c=t.stemmedRevs||[];o&&i.auto_compaction&&(c=J(t.metadata).concat(c)),c.length&&Rn(c,s,n),t.metadata.seq=r;var l=t.metadata.rev;delete t.metadata.rev;var h=o?"UPDATE "+So+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+To+" WHERE doc_id="+So+".id AND rev=?) WHERE id=?":"INSERT INTO "+So+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=Ke(t.metadata),d=o?[f,r,e,s]:[s,r,r,f];n.executeSql(h,d,function(){b[a]={ok:!0,id:t.metadata.id,rev:l},w.set(s,t.metadata),u()})}var p=null,m=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var v=Object.keys(t.data._attachments||{});r&&(t.data._deleted=!0),v.forEach(function(n){var i=t.data._attachments[n];if(i.stub)m++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(e,10);var o=i.digest;d(o,r,h)}}),v.length||c()}function h(){Je(t.revs_limit,v,i,w,y,b,l,n)}function f(t){function e(){++n===v.length&&t()}if(!v.length)return t();var n=0;v.forEach(function(t){if(t._id&&ht(t._id))return e();var n=t.metadata.id;y.executeSql("SELECT json FROM "+So+" WHERE id = ?",[n],function(t,i){if(i.rows.length){var r=Qe(i.rows.item(0).json);w.set(n,r)}e()})})}function d(t,e,n){var i="SELECT digest FROM "+Do+" WHERE digest=?";y.executeSql(i,[t],function(r,o){return o.rows.length?n():(i="INSERT INTO "+Do+" (digest, body, escaped) VALUES (?,?,1)",void r.executeSql(i,[t,Pn(e)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,m=e.docs,v=m.map(function(t){if(t._id&&ht(t._id))return t;var e=Te(t,p);return e}),g=v.filter(function(t){return t.error});if(g.length)return s(g[0]);var y,_,b=new Array(v.length),w=new Cr;Ge(v,"binary",function(t){return t?s(t):void r.transaction(function(t){y=t,c(function(t){t?_=t:f(h)})},Fn(s),a)})}function Vn(t){return t.websql(t.name,t.version,t.description,t.size)}function Bn(t){try{return{db:Vn(t)}}catch(e){return{error:e}}}function Hn(t){var e=Oo.get(t.name);return e||(e=Bn(t),Oo.set(t.name,e)),e}function zn(t,e,n,i,r){function o(){++u===a.length&&r&&r()}function s(t,r){var s=t._attachments[r],a={binary:e.binary,ctx:i};n._getAttachment(t._id,r,s,a,function(e,n){t._attachments[r]=Ar(y(s,["digest","content_type"]),{data:n}),o()})}var a=Object.keys(t._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){e.attachments&&e.include_docs?s(t,n):(t._attachments[n].stub=!0,o())})}function Wn(t,e){function n(){k()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),e(null,b)}function i(t,e){t.executeSql(Ro),t.executeSql("ALTER TABLE "+To+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(Lo),t.executeSql("ALTER TABLE "+So+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+So+" (local, id)");var n="SELECT "+So+".winningseq AS seq, "+So+".json AS metadata FROM "+To+" JOIN "+So+" ON "+To+".seq = "+So+".winningseq";t.executeSql(n,[],function(t,n){for(var i=[],r=[],o=0;o<n.rows.length;o++){var s=n.rows.item(o),a=s.seq,u=JSON.parse(s.metadata);lt(u)&&i.push(a),ht(u.id)&&r.push(u.id)}t.executeSql("UPDATE "+So+"SET local = 1 WHERE id IN "+Ln(r.length),r,function(){t.executeSql("UPDATE "+To+" SET deleted = 1 WHERE seq IN "+Ln(i.length),i,e)})})})})}function r(t,e){var n="CREATE TABLE IF NOT EXISTS "+Ao+" (id UNIQUE, rev, json)";t.executeSql(n,[],function(){var n="SELECT "+So+".id AS id, "+To+".json AS data FROM "+To+" JOIN "+So+" ON "+To+".seq = "+So+".winningseq WHERE local = 1";t.executeSql(n,[],function(t,n){function i(){if(!r.length)return e(t);var n=r.shift(),o=JSON.parse(n.data)._rev;t.executeSql("INSERT INTO "+Ao+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(t){t.executeSql("DELETE FROM "+So+" WHERE id=?",[n.id],function(t){t.executeSql("DELETE FROM "+To+" WHERE seq=?",[n.seq],function(){i()})})})}for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o));i()})})}function o(t,e){function n(n){function i(){if(!n.length)return e(t);var r=n.shift(),o=An(r.hex,_),s=o.lastIndexOf("::"),a=o.substring(0,s),u=o.substring(s+2),c="UPDATE "+To+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(c,[a,u,o],function(){i()})}i()}var i="ALTER TABLE "+To+" ADD COLUMN doc_id";t.executeSql(i,[],function(t){var e="ALTER TABLE "+To+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(Io,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+To;t.executeSql(e,[],function(t,e){for(var i=[],r=0;r<e.rows.length;r++)i.push(e.rows.item(r));n(i)})})})})}function s(t,e){function n(t){var n="SELECT COUNT(*) AS cnt FROM "+Do;t.executeSql(n,[],function(t,n){function i(){var n=In(Vo+", "+So+".id AS id",[So,To],qo,null,So+".id ");n+=" LIMIT "+s+" OFFSET "+o,o+=s,t.executeSql(n,[],function(t,n){function r(t,e){var n=o[t]=o[t]||[];n.indexOf(e)===-1&&n.push(e)}if(!n.rows.length)return e(t);for(var o={},s=0;s<n.rows.length;s++)for(var a=n.rows.item(s),u=Mn(a.data,a.id,a.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var h=u._attachments[c[l]];r(h.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(t){var e=o[t];e.forEach(function(e){f.push([t,e])})}),!f.length)return i();var d=0;f.forEach(function(e){var n="INSERT INTO "+Po+" (digest, seq) VALUES (?,?)";t.executeSql(n,e,function(){++d===f.length&&i()})})})}var r=n.rows.item(0).cnt;if(!r)return e(t);var o=0,s=10;i()})}var i="CREATE TABLE IF NOT EXISTS "+Po+" (digest, seq INTEGER)";t.executeSql(i,[],function(t){t.executeSql(Uo,[],function(t){t.executeSql(Fo,[],n)})})}function a(t,e){var n="ALTER TABLE "+Do+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(n,[],e)}function c(t,e){var n="ALTER TABLE "+So+" ADD COLUMN max_seq INTEGER";t.executeSql(n,[],function(t){var n="UPDATE "+So+" SET max_seq=(SELECT MAX(seq) FROM "+To+" WHERE doc_id=id)";t.executeSql(n,[],function(t){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+So+" (max_seq)";t.executeSql(n,[],e)})})}function h(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,n){var i=n.rows.item(0).hex;_=2===i.length?"UTF-8":"UTF-16",e()})}function f(){for(;E.length>0;){var t=E.pop();t(null,w)}}function d(t,e){if(0===e){var n="CREATE TABLE IF NOT EXISTS "+jo+" (dbid, db_version INTEGER)",u="CREATE TABLE IF NOT EXISTS "+Do+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+Po+" (digest, seq INTEGER)",h="CREATE TABLE IF NOT EXISTS "+So+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+To+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Ao+" (id UNIQUE, rev, json)";t.executeSql(u),t.executeSql(p),t.executeSql(l,[],function(){t.executeSql(Fo),t.executeSql(Uo)}),t.executeSql(h,[],function(){t.executeSql(Ro),t.executeSql(d,[],function(){t.executeSql(Lo),t.executeSql(Io),t.executeSql(n,[],function(){var e="INSERT INTO "+jo+" (db_version, dbid) VALUES (?,?)";w=Jr();var n=[$o,w];t.executeSql(e,n,function(){f()})})})})}else{var m=function(){var n=e<$o;n&&t.executeSql("UPDATE "+jo+" SET db_version = "+$o);var i="SELECT dbid FROM "+jo;t.executeSql(i,[],function(t,e){w=e.rows.item(0).dbid,f()})},v=[i,r,o,s,a,c,m],g=e,y=function(t){v[g-1](t,y),g++};y(t)}}function p(){S.transaction(function(t){h(t,function(){m(t)})},Fn(e),n)}function m(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+jo;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+jo,[],function(t,e){var n=e.rows.item(0).db_version;d(t,n)}):t.executeSql("ALTER TABLE "+jo+" ADD COLUMN db_version INTEGER",[],function(){d(t,1)}):d(t,0)})}function v(t,e){var n="SELECT MAX(seq) AS seq FROM "+To;t.executeSql(n,[],function(t,n){var i=n.rows.item(0).seq||0;e(i)})}function g(t,e){var n=In("COUNT("+So+".id) AS 'num'",[So,To],qo,To+".deleted=0");t.executeSql(n,[],function(t,n){e(n.rows.item(0).num)})}function y(t,e,n,i,r){var o=In(Vo,[So,To],qo,So+".id=?"),s=[e];t.executeSql(o,s,function(t,e){if(!e.rows.length){var o=j(Pr,"missing");return r(o)}var s=e.rows.item(0),a=Qe(s.metadata);i(ft(n,a))})}var _,b=this,w=null,x=Un(t),E=[];b._name=t.name;var C=Ar({},t,{version:Mo,description:t.name,size:x}),$=Hn(C);if($.error)return Fn(e)($.error);var S=$.db;"function"!=typeof S.readTransaction&&(S.readTransaction=S.transaction),p(),b._remote=!1,b.type=function(){return"websql"},b._id=l(function(t){t(null,w)}),b._info=function(t){var e,n;S.readTransaction(function(t){v(t,function(t){e=t}),g(t,function(t){n=t})},Fn(t),function(){t(null,{doc_count:n,update_seq:e,websql_encoding:_})})},b._bulkDocs=function(e,n,i){qn(t,e,n,b,S,No,i)},b._get=function(t,e,n){function i(t){n(t,{doc:r,metadata:o,ctx:s})}var r,o,s=e.ctx;if(!s)return S.readTransaction(function(i){b._get(t,Ar({ctx:i},e),n)});var a,u;if(e.rev){if(e.latest)return void y(s,t,e.rev,function(i){e.latest=!1,e.rev=i,b._get(t,e,n)},i);a=In(Vo,[So,To],So+".id="+To+".doc_id",[To+".doc_id=?",To+".rev=?"]),u=[t,e.rev]}else a=In(Vo,[So,To],qo,So+".id=?"),u=[t];s.executeSql(a,u,function(t,n){if(!n.rows.length){var s=j(Pr,"missing");return i(s)}var a=n.rows.item(0);if(o=Qe(a.metadata),a.deleted&&!e.rev){var u=j(Pr,"deleted");return i(u)}r=Mn(a.data,o.id,a.rev),i()})},b._allDocs=function(t,e){var n,i,r=[],o="startkey"in t&&t.startkey,s="endkey"in t&&t.endkey,a="key"in t&&t.key,u="keys"in t&&t.keys,c="descending"in t&&t.descending,l="limit"in t?t.limit:-1,h="skip"in t?t.skip:0,f=t.inclusive_end!==!1,d=[],p=[];if(u){var m=[],y="";u.forEach(function(t){m.indexOf(t)===-1&&(m.push(t),y+="?,")}),y=y.substring(0,y.length-1),p.push(So+".id IN ("+y+")"),d=d.concat(m)}else if(a!==!1)p.push(So+".id = ?"),d.push(a);else if(o!==!1||s!==!1){if(o!==!1&&(p.push(So+".id "+(c?"<=":">=")+" ?"),d.push(o)),s!==!1){var _=c?">":"<";f&&(_+="="),p.push(So+".id "+_+" ?"),d.push(s)}a!==!1&&(p.push(So+".id = ?"),d.push(a))}u||p.push(To+".deleted = 0"),S.readTransaction(function(e){if(g(e,function(t){n=t}),t.update_seq&&v(e,function(t){i=t}),0!==l){var o=In(Vo,[So,To],qo,p,So+".id "+(c?"DESC":"ASC"));o+=" LIMIT "+l+" OFFSET "+h,e.executeSql(o,d,function(e,n){for(var i=0,o=n.rows.length;i<o;i++){var s=n.rows.item(i),a=Qe(s.metadata),c=a.id,l=Mn(s.data,c,s.rev),h=l._rev,f={id:c,key:c,value:{rev:h}};if(t.include_docs){if(f.doc=l,f.doc._rev=h,t.conflicts){var d=X(a);d.length&&(f.doc._conflicts=d)}zn(f.doc,t,b,e)}if(s.deleted){if(!u)continue;f.value.deleted=!0,f.doc=null}if(u){var p=u.indexOf(c,p);do r[p]=f,p=u.indexOf(c,p+1);while(p>-1&&p<u.length)}else r.push(f)}u&&u.forEach(function(t,e){r[e]||(r[e]={key:t,error:"not_found"})})})}},Fn(e),function(){var o={total_rows:n,offset:t.skip,rows:r};t.update_seq&&(o.update_seq=i),e(null,o)})},b._changes=function(t){function e(){var e=So+".json AS metadata, "+So+".max_seq AS maxSeq, "+To+".json AS winningDoc, "+To+".rev AS winningRev ",n=So+" JOIN "+To,u=So+".id="+To+".doc_id AND "+So+".winningseq="+To+".seq",c=["maxSeq > ?"],l=[t.since];t.doc_ids&&(c.push(So+".id IN "+Ln(t.doc_ids.length)),l=l.concat(t.doc_ids));var h="maxSeq "+(i?"DESC":"ASC"),f=In(e,n,u,c,h),d=N(t);t.view||t.filter||(f+=" LIMIT "+r);var p=t.since||0;S.readTransaction(function(e){e.executeSql(f,l,function(e,n){function i(e){return function(){t.onChange(e)}}for(var u=0,c=n.rows.length;u<c;u++){var l=n.rows.item(u),h=Qe(l.metadata);p=l.maxSeq;var f=Mn(l.winningDoc,h.id,l.winningRev),m=t.processChange(f,h,t);m.seq=l.maxSeq;var v=d(m);if("object"==typeof v)return t.complete(v);if(v&&(a++,o&&s.push(m),t.attachments&&t.include_docs?zn(f,t,b,e,i(m)):i(m)()),a===r)break}})},Fn(t.complete),function(){t.continuous||t.complete(null,{results:s,last_seq:p})})}if(t=u(t),t.continuous){var n=b._name+":"+Jr();return No.addListener(b._name,n,b,t),No.notify(b._name),{cancel:function(){No.removeListener(b._name,n)}}}var i=t.descending;t.since=t.since&&!i?t.since:0;var r="limit"in t?t.limit:-1;0===r&&(r=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var s=[],a=0;e()},b._close=function(t){t()},b._getAttachment=function(t,e,n,i,r){var o,s=i.ctx,a=n.digest,u=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Do+" WHERE digest=?";s.executeSql(c,[a],function(t,e){var n=e.rows.item(0),s=n.escaped?On(n.body):An(n.body,_);o=i.binary?je(s,u):co(s),r(null,o)})},b._getRevisionTree=function(t,e){S.readTransaction(function(n){var i="SELECT json AS metadata FROM "+So+" WHERE id = ?";n.executeSql(i,[t],function(t,n){if(n.rows.length){var i=Qe(n.rows.item(0).metadata);e(null,i.rev_tree)}else e(j(Pr))})})},b._doCompaction=function(t,e,n){return e.length?void S.transaction(function(n){var i="SELECT json AS metadata FROM "+So+" WHERE id = ?";n.executeSql(i,[t],function(n,i){var r=Qe(i.rows.item(0).metadata);Y(r.rev_tree,function(t,n,i,r,o){var s=n+"-"+i;e.indexOf(s)!==-1&&(o.status="missing")});var o="UPDATE "+So+" SET json = ? WHERE id = ?";n.executeSql(o,[Ke(r),t])}),Rn(e,t,n)},Fn(n),function(){n()}):n()},b._getLocal=function(t,e){S.readTransaction(function(n){var i="SELECT json, rev FROM "+Ao+" WHERE id=?";n.executeSql(i,[t],function(n,i){if(i.rows.length){var r=i.rows.item(0),o=Mn(r.json,t,r.rev);e(null,o)}else e(j(Pr))})})},b._putLocal=function(t,e,n){function i(t){var i,c;o?(i="UPDATE "+Ao+" SET rev=?, json=? WHERE id=? AND rev=?",c=[r,u,s,o]):(i="INSERT INTO "+Ao+" (id, rev, json) VALUES (?,?,?)",c=[s,r,u]),t.executeSql(i,c,function(t,i){i.rowsAffected?(a={ok:!0,id:s,rev:r},e.ctx&&n(null,a)):n(j(Or))},function(){return n(j(Or)),!1})}"function"==typeof e&&(n=e,e={}),delete t._revisions;var r,o=t._rev,s=t._id;r=o?t._rev="0-"+(parseInt(o.split("-")[1],10)+1):t._rev="0-1";var a,u=Nn(t);e.ctx?i(e.ctx):S.transaction(i,Fn(n),function(){a&&n(null,a)})},b._removeLocal=function(t,e,n){function i(i){var o="DELETE FROM "+Ao+" WHERE id=? AND rev=?",s=[t._id,t._rev];i.executeSql(o,s,function(i,o){return o.rowsAffected?(r={ok:!0,id:t._id,rev:"0-0"},void(e.ctx&&n(null,r))):n(j(Pr))})}"function"==typeof e&&(n=e,e={});var r;e.ctx?i(e.ctx):S.transaction(i,Fn(n),function(){r&&n(null,r)})},b._destroy=function(t,e){No.removeAllListeners(b._name),S.transaction(function(t){var e=[So,To,Do,jo,Ao,Po];e.forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Fn(e),function(){k()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),e(null,{ok:!0})})}}function Yn(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function Gn(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=k(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var n=Yn();return t&&(localStorage[e]=n?"1":"0"),n}function Zn(){return"function"==typeof openDatabase&&Gn()}function Xn(t,e,n,i){return openDatabase(t,e,n,i)}function Jn(t,e){var n="WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html";$("warn",n);var i=Ar({websql:Xn},t);Wn.call(this,i,e)}function Qn(t){t.adapter("websql",Jn,!0)}function Kn(){for(var t={},e=new wr(function(e,n){t.resolve=e,t.reject=n}),n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.promise=e,wr.resolve().then(function(){return fetch.apply(null,n)}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t}function ti(t,e){var n,i,r,o=new Headers,s={method:t.method,credentials:"include",headers:o};return t.json&&(o.set("Accept","application/json"),o.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?s.body=JSON.stringify(t.body):"body"in t?s.body=t.body:s.body=null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&o.set(e,t.headers[e])}),n=Kn(t.url,s),t.timeout>0&&(i=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),n.promise.then(function(e){return r={statusCode:e.status},t.timeout>0&&clearTimeout(i),r.statusCode>=200&&r.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){r.statusCode>=200&&r.statusCode<300?e(null,r,t):(t.status=r.statusCode,e(t))})["catch"](function(t){t||(t=new Error("canceled")),e(t)}),{abort:n.reject}}function ei(t,e){var n,i,r=!1,o=function(){n.abort(),u()},s=function(){r=!0,n.abort(),u()},a={abort:o},u=function(){clearTimeout(i),a.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=t.xhr?new t.xhr:new XMLHttpRequest;try{n.open(t.method,t.url)}catch(c){return e(new Error(c.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(n.responseType="arraybuffer"),"body"in t||(t.body=null);for(var l in t.headers)t.headers.hasOwnProperty(l)&&n.setRequestHeader(l,t.headers[l]);return t.timeout>0&&(i=setTimeout(s,t.timeout),n.onprogress=function(){clearTimeout(i),4!==n.readyState&&(i=setTimeout(s,t.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var i={statusCode:n.status};if(n.status>=200&&n.status<300){var o;o=t.binary?De([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,e(null,i,o)}else{var s={};if(r)s=new Error("ETIMEDOUT"),s.code="ETIMEDOUT";else if("string"==typeof n.response&&""!==n.response)try{s=JSON.parse(n.response)}catch(a){}s.status=n.status,e(s)}u()}},t.body&&t.body instanceof Blob?Ie(t.body,function(t){n.send(t)}):n.send(t.body),a}function ni(){try{return new XMLHttpRequest,!0}catch(t){return!1}}function ii(t,e){return Bo||t.xhr?ei(t,e):ti(t,e)}function ri(){return""}function oi(t,e){function n(e,n,i){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(r){return i(r)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?P(t):t})),t.binary,i(null,e,n)}t=u(t);var i={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return t=Ar(i,t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),ii(t,function(i,r,o){if(i)return e(P(i));var s,a=r.headers&&r.headers["content-type"],u=o||ri();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof u&&(/json/.test(a)||/^[\s]*\{/.test(u)&&/\}[\s]*$/.test(u)))try{u=JSON.parse(u.toString())}catch(c){}r.statusCode>=200&&r.statusCode<300?n(u,r,e):(s=P(u),s.status=r.statusCode,e(s))})}function si(t,e){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,r=n.indexOf("msie")!==-1,o=n.indexOf("trident")!==-1,s=n.indexOf("edge")!==-1,a=i||(r||o||s)&&"GET"===t.method,u=!("cache"in t)||t.cache,c=/^blob:/.test(t.url);if(!c&&(a||!u)){var l=t.url.indexOf("?")!==-1;t.url+=(l?"&":"?")+"_nonce="+Date.now()}return oi(t,e)}function ai(t,e){return new wr(function(n,i){function r(){l++,t[h++]().then(s,a)}function o(){++f===d?c?i(c):n():u()}function s(){l--,o()}function a(t){l--,c=c||t,o()}function u(){for(;l<e&&h<d;)r()}var c,l=0,h=0,f=0,d=t.length;u()})}function ui(t){var e=t.doc||t.ok,n=e._attachments;n&&Object.keys(n).forEach(function(t){var e=n[t];e.data=Pe(e.data,e.content_type)})}function ci(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function li(t){return t._attachments&&Object.keys(t._attachments)?wr.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new wr(function(t){Le(n.data,t)}).then(function(t){n.data=t})})):wr.resolve()}function hi(t){if(!t.prefix)return!1;var e=q(t.prefix).protocol;return"http"===e||"https"===e}function fi(t,e){if(hi(e)){var n=e.name.substr(e.prefix.length);t=e.prefix+encodeURIComponent(n)}var i=q(t);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),i.db.indexOf("%")===-1&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function di(t,e){return pi(t,t.db+"/"+e)}function pi(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function mi(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function vi(t,e){function n(t,e,n){var i=(t||{}).ajax||{},r=Ar(u(h),i,e),o=u(h.headers||{});return r.headers=Ar(o,i.headers,e.headers||{}),a.constructor.listeners("debug").length&&a.constructor.emit("debug",["http",r.method,r.url]),a._ajax(r,n)}function i(t,e){return new wr(function(i,r){n(t,e,function(t,e){return t?r(t):void i(e)})})}function r(t,e){return f(t,dr(function(t){o().then(function(){return e.apply(this,t)})["catch"](function(e){var n=t.pop();n(e)})}))}function o(){if(t.skipSetup||t.skip_setup)return wr.resolve();if(v)return v;var e={method:"GET",url:l};return v=i({},e)["catch"](function(t){return t&&t.status&&404===t.status?(D(404,"PouchDB is just detecting if the remote exists."),i({},{method:"PUT",url:l})):wr.reject(t)})["catch"](function(t){return!(!t||!t.status||412!==t.status)||wr.reject(t)}),v["catch"](function(){v=null}),v}function s(t){return t.split("/").map(encodeURIComponent).join("/")}var a=this,c=fi(t.name,t),l=di(c,"");t=u(t);var h=t.ajax||{};if(t.auth||c.auth){var d=t.auth||c.auth,p=d.username+":"+d.password,m=co(unescape(encodeURIComponent(p)));h.headers=h.headers||{},h.headers.Authorization="Basic "+m}a._ajax=si;var v;pr(function(){e(null,a)}),a._remote=!0,a.type=function(){return"http"},a.id=r("id",function(t){n({},{method:"GET",url:pi(c,"")},function(e,n){var i=n&&n.uuid?n.uuid+c.db:di(c,"");t(null,i)})}),a.request=r("request",function(t,e){t.url=di(c,t.url),n({},t,e)}),a.compact=r("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=u(t),n(t,{url:di(c,"_compact"),method:"POST"},function(){function n(){a.info(function(i,r){r&&!r.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)})}n()})}),a.bulkGet=f("bulkGet",function(t,e){function i(e){var i={};t.revs&&(i.revs=!0),t.attachments&&(i.attachments=!0),t.latest&&(i.latest=!0),n(t,{url:di(c,"_bulk_get"+mi(i)),method:"POST",body:{docs:t.docs}},function(n,i){!n&&t.attachments&&t.binary&&i.results.forEach(function(t){t.docs.forEach(ui)}),e(n,i)})}function r(){function n(t){return function(n,i){a[t]=i.results,++s===r&&e(null,{results:M(a)})}}for(var i=zo,r=Math.ceil(t.docs.length/i),s=0,a=new Array(r),u=0;u<r;u++){var c=y(t,["revs","attachments","binary","latest"]);c.ajax=h,c.docs=t.docs.slice(u*i,Math.min(t.docs.length,(u+1)*i)),w(o,c,n(u))}}var o=this,s=pi(c,""),a=Go[s];"boolean"!=typeof a?i(function(t,n){t?(Go[s]=!1,D(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),r()):(Go[s]=!0,e(null,n))}):a?i(e):r()}),a._info=function(t){o().then(function(){n({},{method:"GET",url:di(c,"")},function(e,n){return e?t(e):(n.host=di(c,""),void t(null,n))})})["catch"](t)},a.get=r("get",function(t,e,n){function r(t){function n(n){var o=r[n],a=ci(t._id)+"/"+s(n)+"?rev="+t._rev;return i(e,{method:"GET",url:di(c,a),binary:!0}).then(function(t){return e.binary?t:new wr(function(e){Le(t,e)})}).then(function(t){delete o.stub,delete o.length,o.data=t})}var r=t._attachments,o=r&&Object.keys(r);if(r&&o.length){var a=o.map(function(t){return function(){return n(t)}});return ai(a,5)}}function o(t){return Array.isArray(t)?wr.all(t.map(function(t){if(t.ok)return r(t.ok)})):r(t)}"function"==typeof e&&(n=e,e={}),e=u(e);var a={};e.revs&&(a.revs=!0),e.revs_info&&(a.revs_info=!0),e.latest&&(a.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),a.open_revs=e.open_revs),e.rev&&(a.rev=e.rev),e.conflicts&&(a.conflicts=e.conflicts),e.update_seq&&(a.update_seq=e.update_seq),t=ci(t);var l={method:"GET",url:di(c,t+mi(a))};i(e,l).then(function(t){return wr.resolve().then(function(){if(e.attachments)return o(t)}).then(function(){n(null,t)})})["catch"](function(e){e.docId=t,n(e)})}),a.remove=r("remove",function(t,e,i,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof i&&(r=i,i={})):(o=t,"function"==typeof e?(r=e,i={}):(r=i,i=e));var s=o._rev||i.rev;n(i,{method:"DELETE",url:di(c,ci(o._id))+"?rev="+s},r)}),a.getAttachment=r("getAttachment",function(t,e,i,r){"function"==typeof i&&(r=i,i={});var o=i.rev?"?rev="+i.rev:"",a=di(c,ci(t))+"/"+s(e)+o;n(i,{method:"GET",url:a,binary:!0},r)}),a.removeAttachment=r("removeAttachment",function(t,e,i,r){var o=di(c,ci(t)+"/"+s(e))+"?rev="+i;n({},{method:"DELETE",url:o},r)}),a.putAttachment=r("putAttachment",function(t,e,i,r,o,a){"function"==typeof o&&(a=o,o=r,r=i,i=null);var u=ci(t)+"/"+s(e),l=di(c,u);if(i&&(l+="?rev="+i),"string"==typeof r){var f;try{f=uo(r)}catch(d){return a(j(Rr,"Attachment is not a valid base64 string"))}r=f?je(f,o):""}var p={headers:{"Content-Type":o},method:"PUT",url:l,processData:!1,body:r,timeout:h.timeout||6e4};n({},p,a)}),a._bulkDocs=function(t,e,i){t.new_edits=e.new_edits,o().then(function(){return wr.all(t.docs.map(li))}).then(function(){n(e,{method:"POST",url:di(c,"_bulk_docs"),timeout:e.timeout,body:t},function(t,e){return t?i(t):(e.forEach(function(t){t.ok=!0}),void i(null,e))})})["catch"](i)},a._put=function(t,e,i){o().then(function(){return li(t)}).then(function(){n(e,{method:"PUT",url:di(c,ci(t._id)),body:t},function(e,n){return e?(e.docId=t&&t._id,i(e)):void i(null,n)})})["catch"](i)},a.allDocs=r("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=u(t);var n,r={},o="GET";t.conflicts&&(r.conflicts=!0),t.update_seq&&(r.update_seq=!0),t.descending&&(r.descending=!0),t.include_docs&&(r.include_docs=!0),t.attachments&&(r.attachments=!0),t.key&&(r.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(r.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(r.endkey=JSON.stringify(t.endkey)),"undefined"!=typeof t.inclusive_end&&(r.inclusive_end=!!t.inclusive_end),
"undefined"!=typeof t.limit&&(r.limit=t.limit),"undefined"!=typeof t.skip&&(r.skip=t.skip);var s=mi(r);"undefined"!=typeof t.keys&&(o="POST",n={keys:t.keys}),i(t,{method:o,url:di(c,"_all_docs"+s),body:n}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.rows.forEach(ui),e(null,n)})["catch"](e)}),a._changes=function(t){var e="batch_size"in t?t.batch_size:Ho;t=u(t),!t.continuous||"heartbeat"in t||(t.heartbeat=Yo);var i="timeout"in t?t.timeout:"timeout"in h?h.timeout:3e4;"timeout"in t&&t.timeout&&i-t.timeout<Wo&&(i=t.timeout+Wo),"heartbeat"in t&&t.heartbeat&&i-t.heartbeat<Wo&&(i=t.heartbeat+Wo);var r={};"timeout"in t&&t.timeout&&(r.timeout=t.timeout);var s,a="undefined"!=typeof t.limit&&t.limit;s="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var l=a;if(t.style&&(r.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(r.include_docs=!0),t.attachments&&(r.attachments=!0),t.continuous&&(r.feed="longpoll"),t.seq_interval&&(r.seq_interval=t.seq_interval),t.conflicts&&(r.conflicts=!0),t.descending&&(r.descending=!0),t.update_seq&&(r.update_seq=!0),"heartbeat"in t&&t.heartbeat&&(r.heartbeat=t.heartbeat),t.filter&&"string"==typeof t.filter&&(r.filter=t.filter),t.view&&"string"==typeof t.view&&(r.filter="_view",r.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var f in t.query_params)t.query_params.hasOwnProperty(f)&&(r[f]=t.query_params[f]);var d,p="GET";t.doc_ids?(r.filter="_doc_ids",p="POST",d={doc_ids:t.doc_ids}):t.selector&&(r.filter="_selector",p="POST",d={selector:t.selector});var m,v,g=function(s,u){if(!t.aborted){r.since=s,"object"==typeof r.since&&(r.since=JSON.stringify(r.since)),t.descending?a&&(r.limit=l):r.limit=!a||l>e?e:l;var h={method:p,url:di(c,"_changes"+mi(r)),timeout:i,body:d};v=s,t.aborted||o().then(function(){m=n(t,h,u)})["catch"](u)}},y={results:[]},_=function(n,i){if(!t.aborted){var r=0;if(i&&i.results){r=i.results.length,y.last_seq=i.last_seq;var o=null,u=null;"number"==typeof i.pending&&(o=i.pending),"string"!=typeof y.last_seq&&"number"!=typeof y.last_seq||(u=y.last_seq);var c={};c.query=t.query_params,i.results=i.results.filter(function(e){l--;var n=N(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&ui(e),s&&y.results.push(e),t.onChange(e,o,u)),n})}else if(n)return t.aborted=!0,void t.complete(n);i&&i.last_seq&&(v=i.last_seq);var h=a&&l<=0||i&&r<e||t.descending;(!t.continuous||a&&l<=0)&&h?t.complete(null,y):pr(function(){g(v,_)})}};return g(t.since||0,_),{cancel:function(){t.aborted=!0,m&&m.abort()}}},a.revsDiff=r("revsDiff",function(t,e,i){"function"==typeof e&&(i=e,e={}),n(e,{method:"POST",url:di(c,"_revs_diff"),body:t},i)}),a._close=function(t){t()},a._destroy=function(t,e){n(t,{url:di(c,""),method:"DELETE"},function(t,n){return t&&t.status&&404!==t.status?e(t):void e(null,n)})}}function gi(t){t.adapter("http",vi,!1),t.adapter("https",vi,!1)}function yi(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,yi)}catch(e){}}function _i(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,_i)}catch(e){}}function bi(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,bi)}catch(e){}}function wi(t,e){return e&&t.then(function(t){pr(function(){e(null,t)})},function(t){pr(function(){e(t)})}),t}function xi(t){return dr(function(e){var n=e.pop(),i=t.apply(this,e);return"function"==typeof n&&wi(i,n),i})}function ki(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function Ei(t,e){return function(){var n=arguments,i=this;return t.add(function(){return e.apply(i,n)})}}function Ci(t){var e=new Er(t),n=new Array(e.size),i=-1;return e.forEach(function(t){n[++i]=t}),n}function $i(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,i){e[++n]=i}),e}function Si(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new bi(e)}function Ti(t){for(var e=0,n=0,i=t.length;n<i;n++){var r=t[n];if("number"!=typeof r){if(!Array.isArray(r))throw Si("_sum");e="number"==typeof e?[e]:e;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Si("_sum");"undefined"==typeof e[o]?e.push(a):e[o]+=a}}else"number"==typeof e?e+=r:e[0]+=r}return e}function Di(t,e){return V("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Ti,log:Zo,isArray:Xo,toJSON:Jo})}function Ai(){this.promise=new wr(function(t){t()})}function ji(t){if(!t)return"undefined";switch(typeof t){case"function":return t.toString();case"string":return t.toString();default:return JSON.stringify(t)}}function Pi(t,e){return ji(t)+ji(e)+"undefined"}function Oi(t,e,n,i,r,o){var s,a=Pi(n,i);if(!r&&(s=t._cachedViews=t._cachedViews||{},s[a]))return s[a];var u=t.info().then(function(u){function c(t){t.views=t.views||{};var n=e;n.indexOf("/")===-1&&(n=e+"/"+e);var i=t.views[n]=t.views[n]||{};if(!i[l])return i[l]=!0,t}var l=u.db_name+"-mrview-"+(r?"temp":Be(a));return B(t,"_local/"+o,c).then(function(){return t.registerDependentDatabase(l).then(function(e){var r=e.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq")["catch"](function(t){if(404!==t.status)throw t}).then(function(t){return o.seq=t?t.seq:0,s&&o.db.once("destroyed",function(){delete s[a]}),o})})})});return s&&(s[a]=u),u}function Ni(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function Mi(t){return 1===t.length&&/^1-/.test(t[0].rev)}function Li(t,e){try{t.emit("error",e)}catch(n){$("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),$("error",e)}}function Ii(t,e,n,i){function r(t,e,n){try{e(n)}catch(i){Li(t,i)}}function o(t,e,n,i,r){try{return{output:e(n,i,r)}}catch(o){return Li(t,o),{error:o}}}function s(t,e){var n=zt(t.key,e.key);return 0!==n?n:zt(t.value,e.value)}function a(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function u(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function c(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Pe(n.data,n.content_type)})})}function l(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&c(e),e}}function h(t,e,n,i){var r=e[t];"undefined"!=typeof r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(t+"="+r))}function f(t){if("undefined"!=typeof t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function d(t){return t.group_level=f(t.group_level),t.limit=f(t.limit),t.skip=f(t.skip),t}function p(t){if(t){if("number"!=typeof t)return new yi('Invalid value for integer: "'+t+'"');if(t<0)return new yi('Invalid value for positive integer: "'+t+'"')}}function m(t,e){var n=t.descending?"endkey":"startkey",i=t.descending?"startkey":"endkey";if("undefined"!=typeof t[n]&&"undefined"!=typeof t[i]&&zt(t[n],t[i])>0)throw new yi("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new yi("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new yi("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=p(t[e]);if(n)throw n})}function v(t,e,n){var i,r=[],o="GET";if(h("reduce",n,r),h("include_docs",n,r),h("attachments",n,r),h("limit",n,r),h("descending",n,r),h("group",n,r),h("group_level",n,r),h("skip",n,r),h("stale",n,r),h("conflicts",n,r),h("startkey",n,r,!0),h("start_key",n,r,!0),h("endkey",n,r,!0),h("end_key",n,r,!0),h("inclusive_end",n,r),h("key",n,r,!0),h("update_seq",n,r),r=r.join("&"),r=""===r?"":"?"+r,"undefined"!=typeof n.keys){var s=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+r.length+1<=s?r+=("?"===r[0]?"&":"?")+a:(o="POST","string"==typeof e?i={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var u=Ni(e);return t.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+r,body:i}).then(function(t){return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(l(n))}return i=i||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?i[t]=e[t]:i[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+r,body:i}).then(l(n))}function g(t,e,n){return new wr(function(i,r){t._query(e,n,function(t,e){return t?r(t):void i(e)})})}function y(t){return new wr(function(e,n){t._viewCleanup(function(t,i){return t?n(t):void e(i)})})}function _(t){return function(e){if(404===e.status)return t;throw e}}function b(t,e,n){function i(){return Mi(l)?wr.resolve(a):e.db.get(s)["catch"](_(a))}function r(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):wr.resolve({rows:[]})}function o(t,e){for(var n=[],i=new Er,r=0,o=e.rows.length;r<o;r++){var s=e.rows[r],a=s.doc;if(a&&(n.push(a),i.add(a._id),a._deleted=!c.has(a._id),!a._deleted)){var u=c.get(a._id);"value"in u&&(a.value=u.value)}}var l=$i(c);return l.forEach(function(t){if(!i.has(t)){var e={_id:t},r=c.get(t);"value"in r&&(e.value=r.value),n.push(e)}}),t.keys=Ci(l.concat(t.keys)),n.push(t),n}var s="_local/doc_"+t,a={_id:s,keys:[]},u=n.get(t),c=u[0],l=u[1];return i().then(function(t){return r(t).then(function(e){return o(t,e)})})}function w(t,e,n){var i="_local/lastSeq";return t.db.get(i)["catch"](_({_id:i,seq:0})).then(function(i){var r=$i(e);return wr.all(r.map(function(n){return b(n,t,e)})).then(function(e){var r=M(e);return i.seq=n,r.push(i),t.db.bulkDocs({docs:r})})})}function x(t){var e="string"==typeof t?t:t.name,n=Qo[e];return n||(n=Qo[e]=new Ai),n}function k(t){return Ei(x(t),function(){return E(t)})()}function E(t){function n(t,e){var n={id:h._id,key:Wt(t)};"undefined"!=typeof e&&null!==e&&(n.value=Wt(e)),l.push(n)}function i(e,n){return function(){return w(t,e,n)}}function o(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:ts}).then(a)}function a(t){var e=t.results;if(e.length){var n=u(e);if(p.add(i(n,d)),!(e.length<ts))return o()}}function u(e){for(var n=new Cr,i=0,o=e.length;i<o;i++){var a=e[i];if("_"!==a.doc._id[0]){l=[],h=a.doc,h._deleted||r(t.sourceDB,f,h),l.sort(s);var u=c(l);n.set(a.doc._id,[u,a.changes])}d=a.seq}return n}function c(t){for(var e,n=new Cr,i=0,r=t.length;i<r;i++){var o=t[i],s=[o.key,o.id];i>0&&0===zt(o.key,e)&&s.push(i),n.set(Gt(s),o),e=o.key}return n}var l,h,f=e(t.mapFun,n),d=t.seq||0,p=new Ai;return o().then(function(){return p.finish()}).then(function(){t.seq=d})}function C(t,e,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(t.reduceFun),u=[],c=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;e.forEach(function(t){var e=u[u.length-1],n=r?t.key:null;return r&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===zt(e.groupKey,n)?(e.keys.push([t.key,t.id]),void e.values.push(t.value)):void u.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var l=0,h=u.length;l<h;l++){var f=u[l],d=o(t.sourceDB,s,f.keys,f.values,!1);if(d.error&&d.error instanceof bi)throw d.error;e.push({value:d.error?null:d.output,key:f.groupKey})}return{rows:a(e,i.limit,i.skip)}}function $(t,e){return Ei(x(t),function(){return S(t,e)})()}function S(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return r=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var i=Jt(t.doc._id);return{key:i[0],id:i[1],value:"value"in t.doc?t.doc.value:null}})})}function i(n){var i;if(i=o?C(t,n,e):{total_rows:r,offset:s,rows:n},e.update_seq&&(i.update_seq=t.seq),e.include_docs){var a=Ci(n.map(u));return t.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new Cr;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),n.forEach(function(t){var n=u(t),i=e.get(n);i&&(t.doc=i)}),i})}return i}var r,o=t.reduceFun&&e.reduce!==!1,s=e.skip||0;if("undefined"==typeof e.keys||e.keys.length||(e.limit=0,delete e.keys),"undefined"!=typeof e.keys){var a=e.keys,c=a.map(function(t){var i={startkey:Gt([t]),endkey:Gt([t,{}])};return e.update_seq&&(i.update_seq=!0),n(i)});return wr.all(c).then(M).then(i)}var l={descending:e.descending};e.update_seq&&(l.update_seq=!0);var h,f;if("start_key"in e&&(h=e.start_key),"startkey"in e&&(h=e.startkey),"end_key"in e&&(f=e.end_key),"endkey"in e&&(f=e.endkey),"undefined"!=typeof h&&(l.startkey=Gt(e.descending?[h,{}]:[h])),"undefined"!=typeof f){var d=e.inclusive_end!==!1;e.descending&&(d=!d),l.endkey=Gt(d?[f,{}]:[f])}if("undefined"!=typeof e.key){var p=Gt([e.key]),m=Gt([e.key,{}]);l.descending?(l.endkey=p,l.startkey=m):(l.startkey=p,l.endkey=m)}return o||("number"==typeof e.limit&&(l.limit=e.limit),l.skip=s),n(l).then(i)}function T(t){return t.request({method:"POST",url:"_view_cleanup"})}function D(e){return e.get("_local/"+t).then(function(t){var n=new Cr;Object.keys(t.views).forEach(function(t){var e=Ni(t),i="_design/"+e[0],r=e[1],o=n.get(i);o||(o=new Er,n.set(i,o)),o.add(r)});var i={keys:$i(n),include_docs:!0};return e.allDocs(i).then(function(i){var r={};i.rows.forEach(function(e){var i=e.key.substring(8);n.get(e.key).forEach(function(n){var o=i+"/"+n;t.views[o]||(o=n);var s=Object.keys(t.views[o]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(t){r[t]=r[t]||a})})});var o=Object.keys(r).filter(function(t){return!r[t]}),s=o.map(function(t){return Ei(x(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return wr.all(s).then(function(){return{ok:!0}})})},_({ok:!0}))}function A(e,n,r){if("function"==typeof e._query)return g(e,n,r);if(I(e))return v(e,n,r);if("string"!=typeof n)return m(r,n),Ko.add(function(){var i=Oi(e,"temp_view/temp_view",n.map,n.reduce,!0,t);return i.then(function(t){return ki(k(t).then(function(){return $(t,r)}),function(){return t.db.destroy()})})}),Ko.finish();var o=n,s=Ni(o),a=s[0],u=s[1];return e.get("_design/"+a).then(function(n){var s=n.views&&n.views[u];if(!s)throw new _i("ddoc "+n._id+" has no view named "+u);i(n,u),m(r,s);var a=Oi(e,o,s.map,s.reduce,!1,t);return a.then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&pr(function(){k(t)}),$(t,r)):k(t).then(function(){return $(t,r)})})})}function j(t,e,n){var i=this;"function"==typeof e&&(n=e,e={}),e=e?d(e):{},"function"==typeof t&&(t={map:t});var r=wr.resolve().then(function(){return A(i,t,e)});return wi(r,n),r}var P=xi(function(){var t=this;return"function"==typeof t._viewCleanup?y(t):I(t)?T(t):D(t)});return{query:j,viewCleanup:P}}function Ri(t){if(/^_sum/.test(t))return es._sum;if(/^_count/.test(t))return es._count;if(/^_stats/.test(t))return es._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}function Fi(t,e){if("function"==typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return Di(t.toString(),e)}function Ui(t){var e=t.toString(),n=Ri(e);return n?n:Di(e)}function qi(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new _i("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}function Vi(t,e,n){return is.query.call(this,t,e,n)}function Bi(t){return is.viewCleanup.call(this,t)}function Hi(t){return/^1-/.test(t)}function zi(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function Wi(t,e){var n=Object.keys(e._attachments);return wr.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function Yi(t,e,n){var i=I(e)&&!I(t),r=Object.keys(n._attachments);return i?t.get(n._id).then(function(i){return wr.all(r.map(function(r){return zi(i,n,r)?e.getAttachment(n._id,r):t.getAttachment(i._id,r)}))})["catch"](function(t){if(404!==t.status)throw t;return Wi(e,n)}):Wi(e,n)}function Gi(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n].missing;i.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}function Zi(t,e,n,i){function r(){var r=Gi(n);if(r.docs.length)return t.bulkGet(r).then(function(n){if(i.cancelled)throw new Error("cancelled");return wr.all(n.results.map(function(n){return wr.all(n.docs.map(function(n){var i=n.ok;return n.error&&(f=!1),i&&i._attachments?Yi(e,t,i).then(function(t){var e=Object.keys(i._attachments);return t.forEach(function(t,n){var r=i._attachments[e[n]];delete r.stub,delete r.length,r.data=t}),i}):i}))})).then(function(t){h=h.concat(M(t).filter(Boolean))})})}function o(t){return t._attachments&&Object.keys(t._attachments).length>0}function s(t){return t._conflicts&&t._conflicts.length>0}function a(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(i.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Hi(t.value.rev)||o(t.doc)||s(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,h.push(t.doc),delete n[t.id])})})}function c(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Hi(e[0])});if(t.length>0)return a(t)}function l(){return{ok:f,docs:h}}n=u(n);var h=[],f=!0;return wr.resolve().then(c).then(r).then(l)}function Xi(t,e,n,i,r){return t.get(e)["catch"](function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:e,history:[],replicator:ss,version:os};throw n}).then(function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(t){return t.session_id!==i}),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,as),o.version=os,o.replicator=ss,o.session_id=i,o.last_seq=n,t.put(o)["catch"](function(o){if(409===o.status)return Xi(t,e,n,i,r);throw o})})}function Ji(t,e,n,i,r){this.src=t,this.target=e,this.id=n,this.returnValue=i,this.opts=r||{}}function Qi(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Ki(t.history,e.history)}function Ki(t,e){var n=t[0],i=t.slice(1),r=e[0],o=e.slice(1);if(!n||0===e.length)return{last_seq:us,history:[]};var s=n.session_id;if(tr(s,e))return{last_seq:n.last_seq,history:t};var a=r.session_id;return tr(a,i)?{last_seq:r.last_seq,history:o}:Ki(i,o)}function tr(t,e){var n=e[0],i=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||tr(t,i))}function er(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function nr(t,e,n,i){if(t.retry===!1)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=T),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var r=function(){t.current_back_off=ls},o=function(){e.removeListener("active",r)};e.once("paused",o),e.once("active",r)}t.current_back_off=t.current_back_off||ls,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(i,t.current_back_off)}function ir(t){return Object.keys(t).sort(zt).reduce(function(e,n){return e[n]=t[n],e},{})}function rr(t,e,n){var i=n.doc_ids?n.doc_ids.sort(zt):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(ir(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),wr.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+r+s+o+i+a;return new wr(function(t){Ve(e,t)})}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function or(t,e,n,i,r){function o(){return k?wr.resolve():rr(t,e,n).then(function(r){x=r;var o={};o=n.checkpoint===!1?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},k=new Ji(t,e,x,i,o)})}function s(){if(R=[],0!==w.docs.length){var t=w.docs,o={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},o).then(function(e){if(i.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=t.length-o,t.forEach(function(t){var e=n[t._id];if(e){r.errors.push(e);var o=(e.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw e;i.emit("denied",u(e))}else R.push(t)})},function(e){throw r.doc_write_failures+=t.length,e})}}function a(){if(w.error)throw new Error("There was a problem getting docs.");r.last_seq=D=w.seq;var t=u(r);return R.length&&(t.docs=R,"number"==typeof w.pending&&(t.pending=w.pending,delete w.pending),i.emit("change",t)),$=!0,k.writeCheckpoint(w.seq,F).then(function(){if($=!1,i.cancelled)throw p(),new Error("cancelled");w=void 0,y()})["catch"](function(t){throw b(t),t})}function c(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(i.cancelled)throw p(),new Error("cancelled");w.diffs=t})}function l(){return Zi(t,e,w.diffs,i).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],r.docs_read++,w.docs.push(t)})})}function h(){if(!i.cancelled&&!w){if(0===E.length)return void f(!0);w=E.shift(),c().then(l).then(s).then(a).then(h)["catch"](function(t){d("batch processing terminated with error",t)})}}function f(t){return 0===C.changes.length?void(0!==E.length||w||((A&&q.live||S)&&(i.state="pending",i.emit("paused")),S&&p())):void((t||S||C.changes.length>=P)&&(E.push(C),C={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),h()))}function d(t,e){T||(e.message||(e.message=t),r.ok=!1,r.status="aborting",E=[],C={seq:0,changes:[],docs:[]},p(e))}function p(o){if(!(T||i.cancelled&&(r.status="cancelled",$)))if(r.status=r.status||"complete",r.end_time=new Date,r.last_seq=D,T=!0,o){o=j(o),o.result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):nr(n,i,o,function(){or(t,e,n,i)})}else i.emit("complete",r),i.removeAllListeners()}function m(t,e,r){if(i.cancelled)return p();"number"==typeof e&&(C.pending=e);var o=N(n)(t);o&&(C.seq=t.seq||r,C.changes.push(t),f(0===E.length&&q.live))}function v(t){if(M=!1,i.cancelled)return p();if(t.results.length>0)q.since=t.last_seq,y(),f(!0);else{var e=function(){A?(q.live=!0,y()):S=!0,f(!0)};w||0!==t.results.length?e():($=!0,k.writeCheckpoint(t.last_seq,F).then(function(){$=!1,r.last_seq=D=t.last_seq,e()})["catch"](b))}}function g(t){return M=!1,i.cancelled?p():void d("changes rejected",t)}function y(){function e(){o.cancel()}function r(){i.removeListener("cancel",e)}if(!M&&!S&&E.length<O){M=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",e);var o=t.changes(q).on("change",m);o.then(r,r),o.then(v)["catch"](g),n.retry&&(i._changes=o,i._abortChanges=e)}}function _(){o().then(function(){return i.cancelled?void p():k.getCheckpoint().then(function(t){D=t,q={since:D,limit:P,batch_size:P,style:"all_docs",doc_ids:L,selector:I,return_docs:!0},U!==!1&&(q.seq_interval=U||P),n.filter&&("string"!=typeof n.filter?q.include_docs=!0:q.filter=n.filter),"heartbeat"in n&&(q.heartbeat=n.heartbeat),"timeout"in n&&(q.timeout=n.timeout),n.query_params&&(q.query_params=n.query_params),n.view&&(q.view=n.view),y()})})["catch"](function(t){d("getCheckpoint rejected with ",t)})}function b(t){$=!1,d("writeCheckpoint completed with error",t)}var w,x,k,E=[],C={seq:0,changes:[],docs:[]},$=!1,S=!1,T=!1,D=0,A=n.continuous||n.live||!1,P=n.batch_size||100,O=n.batches_limit||10,M=!1,L=n.doc_ids,I=n.selector,R=[],F=Jr(),U=n.seq_interval;r=r||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var q={};return i.ready(t,e),i.cancelled?void p():(i._addedListeners||(i.once("cancel",p),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",function(t){n.complete(null,t)})),i._addedListeners=!0),void("undefined"==typeof n.since?_():o().then(function(){return $=!0,k.writeCheckpoint(n.since,F)}).then(function(){return $=!1,i.cancelled?void p():(D=n.since,void _())})["catch"](b)))}function sr(){mr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new wr(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t["catch"]=function(t){return e["catch"](t)},t["catch"](function(){})}function ar(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function ur(t,e,n,i){if("function"==typeof n&&(i=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw j(qr,"`doc_ids` filter parameter is not a list.");n.complete=i,n=u(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new sr(n),o=ar(t,n),s=ar(e,n);return or(o,s,n,r),r}function cr(t,e,n,i){return"function"==typeof n&&(i=n,n={}),"undefined"==typeof n&&(n={}),n=u(n),n.PouchConstructor=n.PouchConstructor||this,t=ar(t,n),e=ar(e,n),new lr(t,e,n,i)}function lr(t,e,n,i){function r(t){p.emit("change",{direction:"pull",change:t})}function o(t){p.emit("change",{direction:"push",change:t})}function s(t){p.emit("denied",{direction:"push",doc:t})}function a(t){p.emit("denied",{direction:"pull",doc:t})}function u(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function h(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function f(t){return function(e,n){var i="change"===e&&(n===r||n===o),f="denied"===e&&(n===a||n===s),d="paused"===e&&(n===c||n===u),m="active"===e&&(n===h||n===l);(i||f||d||m)&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&p.removeAllListeners(e))}}function d(t,e,n){t.listeners(e).indexOf(n)==-1&&t.on(e,n)}var p=this;this.canceled=!1;var m=n.push?Ar({},n,n.push):n,v=n.pull?Ar({},n,n.pull):n;this.push=ur(t,e,m),this.pull=ur(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var g={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(t){"change"===t?(d(p.pull,"change",r),d(p.push,"change",o)):"denied"===t?(d(p.pull,"denied",a),d(p.push,"denied",s)):"active"===t?(d(p.pull,"active",h),d(p.push,"active",l)):"paused"===t&&(d(p.pull,"paused",c),d(p.push,"paused",u))}),this.on("removeListener",function(t){"change"===t?(p.pull.removeListener("change",r),p.push.removeListener("change",o)):"denied"===t?(p.pull.removeListener("denied",a),p.push.removeListener("denied",s)):"active"===t?(p.pull.removeListener("active",h),p.push.removeListener("active",l)):"paused"===t&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",u))}),this.pull.on("removeListener",f("pull")),this.push.on("removeListener",f("push"));var y=wr.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return p.emit("complete",e),i&&i(null,e),p.removeAllListeners(),e},function(t){if(p.cancel(),i?i(t):p.emit("error",t),p.removeAllListeners(),i)throw t});this.then=function(t,e){return y.then(t,e)},this["catch"]=function(t){return y["catch"](t)}}function hr(t){t.replicate=ur,t.sync=cr,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return"undefined"==typeof this.replicateMethods&&(this.replicateMethods={from:function(e,n,i){return t.constructor.replicate(e,t,n,i)},to:function(e,n,i){return t.constructor.replicate(t,e,n,i)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}var fr=i(t("lie")),dr=i(t("argsarray")),pr=i(t("immediate")),mr=t("events"),vr=i(t("inherits")),gr=i(t("uuid")),yr=i(t("debug")),_r=i(t("spark-md5")),br=i(t("vuvuzela")),wr="function"==typeof Promise?Promise:fr,xr=Function.prototype.toString,kr=xr.call(Object);m.prototype.get=function(t){var e=d(t);return this._store[e]},m.prototype.set=function(t,e){var n=d(t);return this._store[n]=e,!0},m.prototype.has=function(t){var e=d(t);return e in this._store},m.prototype["delete"]=function(t){var e=d(t),n=e in this._store;return delete this._store[e],n},m.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,i=e.length;n<i;n++){var r=e[n],o=this._store[r];r=p(r),t(o,r)}},Object.defineProperty(m.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(t){return this._store.set(t,!0)},v.prototype.has=function(t){return this._store.has(t)},v.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var Er,Cr;g()?(Er=Set,Cr=Map):(Er=v,Cr=m);var $r,Sr=6;if(x())$r=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),$r=!!localStorage.getItem("_pouch_check_localstorage")}catch(Tr){$r=!1}vr(C,mr.EventEmitter),C.prototype.addListener=function(t,e,n,i){function r(){function t(){s=!1}if(o._listeners[e]){if(s)return void(s="waiting");s=!0;var a=y(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(t){t.seq>i.since&&!i.cancelled&&(i.since=t.seq,i.onChange(t))}).on("complete",function(){"waiting"===s&&pr(r),s=!1}).on("error",t)}}if(!this._listeners[e]){var o=this,s=!1;this._listeners[e]=r,this.on(t,r)}},C.prototype.removeListener=function(t,e){e in this._listeners&&(mr.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},C.prototype.notifyLocalWindows=function(t){x()?chrome.storage.local.set({dbName:t}):k()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},C.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Dr;Dr="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var Ar=Dr;vr(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var jr=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),Pr=new A(404,"not_found","missing"),Or=new A(409,"conflict","Document update conflict"),Nr=new A(400,"bad_request","_id field must contain a string"),Mr=new A(412,"missing_id","_id is required for puts"),Lr=new A(400,"bad_request","Only reserved document ids may start with underscore."),Ir=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),Rr=new A(500,"badarg","Some query argument is invalid"),Fr=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),Ur=new A(500,"doc_validation","Bad special document member"),qr=new A(400,"bad_request","Something wrong with the request"),Vr=new A(400,"bad_request","Document must be a JSON object"),Br=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),Hr=new A(500,"web_sql_went_bad","unknown"),zr=(new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),Wr=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),Yr=(new A(413,"invalid_url","Provided URL is invalid"),["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]),Gr="queryKey",Zr=/(?:^|&)([^&=]*)=?([^&]*)/g,Xr=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jr=gr.v4;
vr(pt,mr.EventEmitter),pt.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pt.prototype.validateChanges=function(t){var e=t.complete,n=this;Tt._changesFilterPlugin?Tt._changesFilterPlugin.validate(t,function(i){return i?e(i):void n.doChanges(t)}):n.doChanges(t)},pt.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=u(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=mt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(i){return e.isCancelled?void n(null,{status:"cancelled"}):(t.since=i.update_seq,void e.doChanges(t))},n);if(Tt._changesFilterPlugin){if(Tt._changesFilterPlugin.normalize(t),Tt._changesFilterPlugin.shouldFilter(this,t))return Tt._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&$("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var i=this.db._changes(t);if(i&&"function"==typeof i.cancel){var r=e.cancel;e.cancel=dr(function(t){i.cancel(),r.apply(this,t)})}},vr(Et,mr.EventEmitter),Et.prototype.post=f("post",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(j(Vr)):void this.bulkDocs({docs:[t]},e,gt(n,t._id))}),Et.prototype.put=f("put",function(t,e,n){function i(){var n=t._rev.split("-"),i=n[1],r=parseInt(n[0],10),o=r+1,s=z();t._revisions={start:o,ids:[s,i]},t._rev=o+"-"+s,e.new_edits=!1}function r(n){"function"==typeof o._put&&e.new_edits!==!1?o._put(t,e,n):o.bulkDocs({docs:[t]},e,gt(n,t._id))}if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(j(Vr));if(L(t._id),ht(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var o=this;e.force&&t._rev?(i(),r(function(e){var i=e?null:{ok:!0,id:t._id,rev:t._rev};n(e,i)})):r(n)}),Et.prototype.putAttachment=f("putAttachment",function(t,e,n,i,r){function o(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:r,data:i,revpos:++n},s.put(t)}var s=this;return"function"==typeof r&&(r=i,i=n,n=null),"undefined"==typeof r&&(r=i,i=n,n=null),r||$("warn","Attachment",e,"on document",t,"is missing content_type"),s.get(t).then(function(t){if(t._rev!==n)throw j(Or);return o(t)},function(e){if(e.reason===Pr.message)return o({_id:t});throw e})}),Et.prototype.removeAttachment=f("removeAttachment",function(t,e,n,i){var r=this;r.get(t,function(t,o){return t?void i(t):o._rev!==n?void i(j(Or)):o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void r.put(o,i)):i()})}),Et.prototype.remove=f("remove",function(t,e,n,i){var r;"string"==typeof e?(r={_id:t,_rev:e},"function"==typeof n&&(i=n,n={})):(r=t,"function"==typeof e?(i=e,n={}):(i=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev};return o._deleted=!0,ht(o._id)&&"function"==typeof this._removeLocal?this._removeLocal(r,i):void this.bulkDocs({docs:[o]},n,gt(i,o._id))}),Et.prototype.revsDiff=f("revsDiff",function(t,e,n){function i(t,e){a.has(t)||a.set(t,{missing:[]}),a.get(t).missing.push(e)}function r(e,n){var r=t[e].slice(0);Y(n,function(t,n,o,s,a){var u=n+"-"+o,c=r.indexOf(u);c!==-1&&(r.splice(c,1),"available"!==a.status&&i(e,u))}),r.forEach(function(t){i(e,t)})}"function"==typeof e&&(n=e,e={});var o=Object.keys(t);if(!o.length)return n(null,{});var s=0,a=new Cr;o.map(function(e){this._getRevisionTree(e,function(i,u){if(i&&404===i.status&&"missing"===i.message)a.set(e,{missing:t[e]});else{if(i)return n(i);r(e,u)}if(++s===o.length){var c={};return a.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),Et.prototype.bulkGet=f("bulkGet",function(t,e){w(this,t,e)}),Et.prototype.compactDocument=f("compactDocument",function(t,e,n){var i=this;this._getRevisionTree(t,function(r,o){if(r)return n(r);var s=bt(o),a=[],u=[];Object.keys(s).forEach(function(t){s[t]>e&&a.push(t)}),Y(o,function(t,e,n,i,r){var o=e+"-"+n;"available"===r.status&&a.indexOf(o)!==-1&&u.push(o)}),i._doCompaction(t,u,n)})}),Et.prototype.compact=f("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&xt(n)}),Et.prototype._compact=function(t,e){function n(t){s.push(r.compactDocument(t.id,0))}function i(t){var n=t.last_seq;wr.all(s).then(function(){return B(r,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})})["catch"](e)}var r=this,o={return_docs:!1,last_seq:t.last_seq||0},s=[];r.changes(o).on("change",n).on("complete",i).on("error",e)},Et.prototype.get=f("get",function(t,e,n){function i(){var i=[],s=r.length;return s?void r.forEach(function(r){o.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(t,e){if(t)i.push({missing:r});else{for(var o,a=0,u=i.length;a<u;a++)if(i[a].ok&&i[a].ok._rev===e._rev){o=!0;break}o||i.push({ok:e})}s--,s||n(null,i)})}):n(null,i)}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(j(Nr));if(ht(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],o=this;if(!e.open_revs)return this._get(t,e,function(i,r){if(i)return i.docId=t,n(i);var s=r.doc,a=r.metadata,u=r.ctx;if(e.conflicts){var c=X(a);c.length&&(s._conflicts=c)}if(lt(a,s._rev)&&(s._deleted=!0),e.revs||e.revs_info){for(var l=s._rev.split("-"),h=parseInt(l[0],10),f=l[1],d=Q(a.rev_tree),p=null,m=0;m<d.length;m++){var v=d[m],g=v.ids.map(function(t){return t.id}).indexOf(f),y=g===h-1;(y||!p&&g!==-1)&&(p=v)}var _=p.ids.map(function(t){return t.id}).indexOf(s._rev.split("-")[1])+1,b=p.ids.length-_;if(p.ids.splice(_,b),p.ids.reverse(),e.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(t){return t.id})}),e.revs_info){var w=p.pos+p.ids.length;s._revs_info=p.ids.map(function(t){return w--,{rev:w+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&s._attachments){var x=s._attachments,k=Object.keys(x).length;if(0===k)return n(null,s);Object.keys(x).forEach(function(t){this._getAttachment(s._id,t,x[t],{rev:s._rev,binary:e.binary,ctx:u},function(e,i){var r=s._attachments[t];r.data=i,delete r.stub,delete r.length,--k||n(null,s)})},o)}else{if(s._attachments)for(var E in s._attachments)s._attachments.hasOwnProperty(E)&&(s._attachments[E].stub=!0);n(null,s)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){return t?n(t):(r=Z(e).map(function(t){return t.rev}),void i())});else{if(!Array.isArray(e.open_revs))return n(j(Ir,"function_clause"));r=e.open_revs;for(var s=0;s<r.length;s++){var a=r[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(j(zr))}i()}}),Et.prototype.getAttachment=f("getAttachment",function(t,e,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(t,n,function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[e]?(n.ctx=s.ctx,n.binary=!0,r._getAttachment(t,e,s.doc._attachments[e],n,i),void 0):i(j(Pr))})}),Et.prototype.allDocs=f("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip="undefined"!=typeof t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(j(Fr,"Query parameter `"+n+"` is not compatible with multi-get"));if(!I(this)&&(wt(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)}),Et.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new pt(this,t,e)},Et.prototype.close=f("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Et.prototype.info=f("info",function(t){var e=this;this._info(function(n,i){return n?t(n):(i.db_name=i.db_name||e.name,i.auto_compaction=!(!e.auto_compaction||I(e)),i.adapter=e.adapter,void t(null,i))})}),Et.prototype.id=f("id",function(t){return this._id(t)}),Et.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Et.prototype.bulkDocs=f("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(j(jr));for(var i=0;i<t.docs.length;++i)if("object"!=typeof t.docs[i]||Array.isArray(t.docs[i]))return n(j(Vr));var r;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){r=r||kt(e),t._attachments[e].content_type||$("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),r)return n(j(qr,r));"new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0);var o=this;e.new_edits||I(o)||t.docs.sort(_t),yt(t.docs);var s=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,i){if(t)return n(t);if(e.new_edits||(i=i.filter(function(t){return t.error})),!I(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)})}),Et.prototype.registerDependentDatabase=f("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var i=new this.constructor(t,this.__opts);B(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:i})})["catch"](e)}),Et.prototype.destroy=f("destroy",function(t,e){function n(){i._destroy(t,function(t,n){return t?e(t):(i._destroyed=!0,i.emit("destroyed"),void e(null,n||{ok:!0}))})}"function"==typeof t&&(e=t,t={});var i=this,r=!("use_prefix"in i)||i.use_prefix;return I(i)?n():void i.get("_local/_pouch_dependentDbs",function(t,o){if(t)return 404!==t.status?e(t):n();var s=o.dependentDbs,a=i.constructor,u=Object.keys(s).map(function(t){var e=r?t.replace(new RegExp("^"+a.prefix),""):t;return new a(e,i.__opts).destroy()});wr.all(u).then(n,e)})}),Ct.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},Ct.prototype.fail=function(t){this.failed=t,this.execute()},Ct.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Ct.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},vr(Tt,Et),Tt.adapters={},Tt.preferredAdapters=[],Tt.prefix="_pouch_";var Qr=new mr.EventEmitter;Dt(Tt),Tt.adapter=function(t,e,n){e.valid()&&(Tt.adapters[t]=e,n&&Tt.preferredAdapters.push(t))},Tt.plugin=function(t){if("function"==typeof t)t(Tt);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Tt.prototype[e]=t[e]})}return this.__defaults&&(Tt.__defaults=Ar({},this.__defaults)),Tt},Tt.defaults=function(t){function e(t,n){return this instanceof e?(n=n||{},t&&"object"==typeof t&&(n=t,t=n.name,delete n.name),n=Ar({},e.__defaults,n),void Tt.call(this,t,n)):new e(t,n)}return vr(e,Tt),e.preferredAdapters=Tt.preferredAdapters.slice(),Object.keys(Tt).forEach(function(t){t in e||(e[t]=Tt[t])}),e.__defaults=Ar({},this.__defaults,t),e};var Kr="6.4.3",to=["$or","$nor","$not"],eo=-324,no=3,io="",ro={$elemMatch:function(t,e,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some(function(t){return oe(t,e,Object.keys(e))}):i.some(function(i){return se(e,t,n,i)})))},$allMatch:function(t,e,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every(function(t){return oe(t,e,Object.keys(e))}):i.every(function(i){return se(e,t,n,i)})))},$eq:function(t,e,n,i){return le(i)&&0===zt(i,e)},$gte:function(t,e,n,i){return le(i)&&zt(i,e)>=0},$gt:function(t,e,n,i){return le(i)&&zt(i,e)>0},$lte:function(t,e,n,i){return le(i)&&zt(i,e)<=0},$lt:function(t,e,n,i){return le(i)&&zt(i,e)<0},$exists:function(t,e,n,i){return e?le(i):!le(i)},$mod:function(t,e,n,i){return ce(i)&&he(i,e)},$ne:function(t,e,n,i){return e.every(function(t){return 0!==zt(i,t)})},$in:function(t,e,n,i){return ce(i)&&fe(i,e)},$nin:function(t,e,n,i){return ce(i)&&!fe(i,e)},$size:function(t,e,n,i){return ce(i)&&pe(i,e)},$all:function(t,e,n,i){return Array.isArray(i)&&de(i,e)},$regex:function(t,e,n,i){return ce(i)&&me(i,e)},$type:function(t,e,n,i){return ve(i,e)}};Tt.plugin(At),Tt.plugin(Ee),Tt.version=Kr;var oo,so=Ce(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ao=Ce(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),uo=function(t){return atob(t)},co=function(t){return btoa(t)},lo=n.setImmediate||n.setTimeout,ho=32768,fo=5,po="document-store",mo="by-sequence",vo="attach-store",go="attach-seq-store",yo="meta-store",_o="local-store",bo="detect-blob-support",wo=new C,xo=!1,ko=[],Eo=new Cr,Co=new Cr;xn.valid=function(){var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&fetch.toString().indexOf("[native code")!==-1;try{return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}};var $o=7,So=jn("document-store"),To=jn("by-sequence"),Do=jn("attach-store"),Ao=jn("local-store"),jo=jn("metadata-store"),Po=jn("attach-seq-store"),Oo=new Cr,No=new C,Mo=1,Lo="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+To+" (seq, deleted)",Io="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+To+" (doc_id, rev)",Ro="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+So+" (winningseq)",Fo="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Po+" (seq)",Uo="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Po+" (digest, seq)",qo=To+".seq = "+So+".winningseq",Vo=To+".seq AS seq, "+To+".deleted AS deleted, "+To+".json AS data, "+To+".rev AS rev, "+So+".json AS metadata";Jn.valid=Zn,Jn.use_prefix=!0;var Bo=ni(),Ho=25,zo=50,Wo=5e3,Yo=1e4,Go={};vi.valid=function(){return!0},vr(yi,Error),vr(_i,Error),vr(bi,Error);var Zo=$.bind(null,"log"),Xo=Array.isArray,Jo=JSON.parse;Ai.prototype.add=function(t){return this.promise=this.promise["catch"](function(){}).then(function(){return t()}),this.promise},Ai.prototype.finish=function(){return this.promise};var Qo={},Ko=new Ai,ts=50,es={_sum:function(t,e){return Ti(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(t){for(var e=0,n=0,i=t.length;n<i;n++){var r=t[n];e+=r*r}return e}return{sum:Ti(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}},ns="mrviews",is=Ii(ns,Fi,Ui,qi),rs={query:Vi,viewCleanup:Bi},os=1,ss="pouchdb",as=5,us=0;Ji.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},Ji.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?Xi(this.target,this.id,t,e,this.returnValue):wr.resolve(!0)},Ji.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return Xi(this.src,this.id,t,e,this.returnValue)["catch"](function(t){if(er(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t})}return wr.resolve(!0)};var cs={undefined:function(t,e){return 0===zt(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return Qi(e,t).last_seq}};Ji.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(t){return t.last_seq||us})["catch"](function(t){if(404!==t.status)throw t;return us}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||us:t.src.get(t.id).then(function(t){if(e.version!==t.version)return us;var n;return n=e.version?e.version.toString():"undefined",n in cs?cs[n](e,t):us},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:us}).then(function(){return us},function(n){return er(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):us});throw n})})["catch"](function(t){if(404!==t.status)throw t;return us})};var ls=0;vr(sr,mr.EventEmitter),sr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},sr.prototype.ready=function(t,e){function n(){r.cancel()}function i(){t.removeListener("destroyed",n),e.removeListener("destroyed",n)}var r=this;r._readyCalled||(r._readyCalled=!0,t.once("destroyed",n),e.once("destroyed",n),r.once("complete",i))},vr(lr,mr.EventEmitter),lr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Tt.plugin(Cn).plugin(Qn).plugin(gi).plugin(rs).plugin(hr),e.exports=Tt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{argsarray:3,debug:80,events:67,immediate:69,inherits:70,lie:74,"spark-md5":84,uuid:87,vuvuzela:95}],80:[function(t,e,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(e){}}function u(){var t;try{t=n.storage.debug}catch(e){}return!t&&"undefined"!=typeof i&&"env"in i&&(t=i.env.DEBUG),t}function c(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=s,n.formatArgs=o,n.save=a,n.load=u,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,t("_process"))},{"./debug":81,_process:82}],81:[function(t,e,n){function i(t){var e,i=0;for(e in t)i=(i<<5)-i+t.charCodeAt(e),i|=0;return n.colors[Math.abs(i)%n.colors.length]}function r(t){function e(){if(e.enabled){var t=e,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(e,i){if("%%"===e)return e;u++;var r=n.formatters[i];if("function"==typeof r){var o=s[u];e=r.call(t,o),s.splice(u,1),u--}return e}),n.formatArgs.call(t,s);var c=e.log||n.log||console.log.bind(console);c.apply(t,s)}}var r;return e.namespace=t,e.enabled=n.enabled(t),e.useColors=n.useColors(),e.color=i(t),e.destroy=o,"function"==typeof n.init&&n.init(e),n.instances.push(e),e}function o(){var t=n.instances.indexOf(this);return t!==-1&&(n.instances.splice(t,1),!0)}function s(t){n.save(t),n.names=[],n.skips=[];var e,i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(e=0;e<r;e++)i[e]&&(t=i[e].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var o=n.instances[e];o.enabled=n.enabled(o.namespace)}}function a(){n.enable("")}function u(t){if("*"===t[t.length-1])return!0;var e,i;for(e=0,i=n.skips.length;e<i;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;e<i;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r.debug=r["default"]=r,n.coerce=c,n.disable=a,n.enable=s,n.enabled=u,n.humanize=t("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}},{ms:78}],82:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?m=p.concat(m):g=-1,m.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=m.length;e;){for(p=m,m=[];++g<e;)p&&p[g].run();g=-1,e=m.length}p=null,v=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,f,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,m=[],v=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],83:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.SignaturePad=i()}(this,function(){"use strict";function t(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function e(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function n(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:Date.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=Date.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return i=this,r=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,l)),o}}function i(t,e){var r=this,o=e||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.throttle?this._strokeMoveUpdate=n(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onBegin=o.onBegin,this.onEnd=o.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){var e=t.target===r._canvas;e&&(t.preventDefault(),r._strokeEnd(t))},this.on()}return t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},e.prototype.length=function(){for(var t=10,e=0,n=void 0,i=void 0,r=0;r<=t;r+=1){var o=r/t,s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var u=s-n,c=a-i;e+=Math.sqrt(u*u+c*c)}n=s,i=a}return e},e.prototype._point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,r=n.ratio||window.devicePixelRatio||1,o=n.width||this._canvas.width/r,s=n.height||this._canvas.height/r;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,o,s)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1],o=r&&r[r.length-1],s=o&&i.distanceTo(o)<this.minDistance;if(!o||!s){var a=this._addPoint(i),u=a.curve,c=a.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],r=i[i.length-1];n.equals(r)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,n,i){var r=this._canvas.getBoundingClientRect();return new t(e-r.left,n-r.top,i||(new Date).getTime())},i.prototype._addPoint=function(t){var n=this.points,i=void 0;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]),i=this._calculateCurveControlPoints(n[0],n[1],n[2]);var r=i.c2;i=this._calculateCurveControlPoints(n[1],n[2],n[3]);var o=i.c1,s=new e(n[1],r,o,n[2]),a=this._calculateCurveWidths(s);return n.shift(),{curve:s,widths:a}}return{}},i.prototype._calculateCurveControlPoints=function(e,n,i){var r=e.x-n.x,o=e.y-n.y,s=n.x-i.x,a=n.y-i.y,u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c={x:(n.x+i.x)/2,y:(n.y+i.y)/2},l=Math.sqrt(r*r+o*o),h=Math.sqrt(s*s+a*a),f=u.x-c.x,d=u.y-c.y,p=h/(l+h),m={x:c.x+f*p,y:c.y+d*p},v=n.x-m.x,g=n.y-m.y;return{c1:new t(u.x+v,u.y+g),c2:new t(c.x+v,c.y+g)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},r=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r);return i.start=this._lastWidth,i.end=o,this._lastVelocity=r,this._lastWidth=o,i},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var i=this._ctx,r=n-e,o=Math.floor(t.length());i.beginPath();for(var s=0;s<o;s+=1){var a=s/o,u=a*a,c=u*a,l=1-a,h=l*l,f=h*l,d=f*t.startPoint.x;d+=3*h*a*t.control1.x,d+=3*l*u*t.control2.x,d+=c*t.endPoint.x;var p=f*t.startPoint.y;p+=3*h*a*t.control1.y,p+=3*l*u*t.control2.y,p+=c*t.endPoint.y;var m=e+c*r;this._drawPoint(d,p,m)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(e,n,i){for(var r=0;r<e.length;r+=1){var o=e[r];if(o.length>1)for(var s=0;s<o.length;s+=1){var a=o[s],u=new t(a.x,a.y,a.time),c=a.color;if(0===s)this.penColor=c,this._reset(),this._addPoint(u);else if(s!==o.length-1){var l=this._addPoint(u),h=l.curve,f=l.widths;h&&f&&n(h,f,c)}}else{this._reset();var d=o[0];i(d)}}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=0,o=0,s=n.width/i,a=n.height/i,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var r="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" "+("C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" ")+(t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" ")+(t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3));i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),u.appendChild(i)}},function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),u.appendChild(n)});var c="data:image/svg+xml;base64,",l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+r+" "+o+" "+s+" "+a+'"')+(' width="'+s+'"')+(' height="'+a+'"')+">",h=u.innerHTML;
if(void 0===h){var f=document.createElement("dummy"),d=u.childNodes;f.innerHTML="";for(var p=0;p<d.length;p+=1)f.appendChild(d[p].cloneNode(!0));h=f.innerHTML}var m="</svg>",v=l+h+m;return c+btoa(v)},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t,n){return e._drawCurve(t,n.start,n.end)},function(t){return e._drawDot(t)}),this._data=t},i.prototype.toData=function(){return this._data},i})},{}],84:[function(t,e,n){!function(t){if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var i;try{i=window}catch(r){i=self}i.SparkMD5=t()}}(function(t){"use strict";function e(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];n+=(i&r|~i&o)+e[0]-680876936|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[1]-389564586|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[2]+606105819|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[3]-1044525330|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[6]-1473231341|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[7]-45705983|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[10]-42063|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[11]-1990404162|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[13]-40341101|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[14]-1502002290|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[15]+1236535329|0,i=(i<<22|i>>>10)+r|0,n+=(i&o|r&~o)+e[1]-165796510|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[11]+643717713|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[0]-373897302|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[10]+38016083|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[15]-660478335|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[4]-405537848|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[9]+568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[3]-187363961|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[8]+1163531501|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[2]-51403784|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[7]+1735328473|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[12]-1926607734|0,i=(i<<20|i>>>12)+r|0,n+=(i^r^o)+e[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[11]+1839030562|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[14]-35309556|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[7]-155497632|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[10]-1094730640|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[13]+681279174|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[0]-358537222|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[3]-722521979|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[6]+76029189|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[12]-421815835|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[15]+530742520|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[2]-995338651|0,i=(i<<23|i>>>9)+r|0,n+=(r^(i|~o))+e[0]-198630844|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[14]-1416354905|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[5]-57434055|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[10]-1051523|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[1]-2054922799|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[15]-30611744|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[6]-1560198380|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[13]+1309151649|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[2]+718787259|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[9]-343485551|0,i=(i<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function n(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function r(t){var i,r,o,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=c;i+=64)e(l,n(t.substring(i-64,i)));for(t=t.substring(i-64),r=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r;i+=1)o[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(e(l,o),i=0;i<16;i+=1)o[i]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,e(l,o),l}function o(t){var n,r,o,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)e(l,i(t.subarray(n-64,n)));for(t=n-64<c?t.subarray(n-64):new Uint8Array(0),r=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<r;n+=1)o[n>>2]|=t[n]<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(l,o),n=0;n<16;n+=1)o[n]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,e(l,o),l}function s(t){var e,n="";for(e=0;e<4;e+=1)n+=m[t>>8*e+4&15]+m[t>>8*e&15];return n}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t,e){var n,i=t.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=t.charCodeAt(n);return e?o:r}function l(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function h(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}function f(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}var p=function(t,e){return t+e&4294967295},m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(r("hello"))&&(p=function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,u=this.byteLength,c=e(n,u),l=u;return i!==t&&(l=e(i,u)),c>l?new ArrayBuffer(0):(r=l-c,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,c,r),s.set(a),o)}}(),d.prototype.append=function(t){return this.appendBinary(u(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var i,r=this._buff.length;for(i=64;i<=r;i+=64)e(this._hash,n(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},d.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),n=a(this._hash),t&&(n=f(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,n){var i,r,o,s=n;if(t[s>>2]|=128<<(s%4<<3),s>55)for(e(this._hash,t),s=0;s<16;s+=1)t[s]=0;i=8*this._length,i=i.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,t[14]=r,t[15]=o,e(this._hash,t)},d.hash=function(t,e){return d.hashBinary(u(t),e)},d.hashBinary=function(t,e){var n=r(t),i=a(n);return e?f(i):i},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var n,r=h(this._buff.buffer,t,!0),o=r.length;for(this._length+=t.byteLength,n=64;n<=o;n+=64)e(this._hash,i(r.subarray(n-64,n)));return this._buff=n-64<o?new Uint8Array(r.buffer.slice(n-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,r),n=a(this._hash),t&&(n=f(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=l(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=c(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var n=o(new Uint8Array(t)),i=a(n);return e?f(i):i},d})},{}],85:[function(t,e,n){!function(t){t(["jquery"],function(t){return function(){function e(t,e,n){return p({type:w.error,iconClass:m().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=m()),g=t("#"+e.containerId),g.length?g:(n&&(g=h(e)),g)}function i(t,e,n){return p({type:w.info,iconClass:m().iconClasses.info,message:t,optionsOverride:n,title:e})}function r(t){y=t}function o(t,e,n){return p({type:w.success,iconClass:m().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return p({type:w.warning,iconClass:m().iconClasses.warning,message:t,optionsOverride:n,title:e})}function a(t,e){var i=m();g||n(i),l(t,i,e)||c(i)}function u(e){var i=m();return g||n(i),e&&0===t(":focus",e).length?void v(e):void(g.children().length&&g.remove())}function c(e){for(var n=g.children(),i=n.length-1;i>=0;i--)l(t(n[i]),e)}function l(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){v(e)}}),!0)}function h(e){return g=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),g.appendTo(t(e.target)),g}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function d(t){y&&y(t)}function p(e){function i(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(){u(),l(),h(),f(),p(),y(),c(),o()}function o(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}D.attr("aria-live",t)}function s(){$.closeOnHover&&D.hover(E,k),!$.onclick&&$.tapToDismiss&&D.click(x),$.closeButton&&O&&O.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),$.onCloseClick&&$.onCloseClick(t),x(!0)}),$.onclick&&D.click(function(t){$.onclick(t),x()})}function a(){D.hide(),D[$.showMethod]({duration:$.showDuration,easing:$.showEasing,complete:$.onShown}),$.timeOut>0&&(T=setTimeout(x,$.timeOut),N.maxHideTime=parseFloat($.timeOut),N.hideEta=(new Date).getTime()+N.maxHideTime,$.progressBar&&(N.intervalId=setInterval(C,10)))}function u(){e.iconClass&&D.addClass($.toastClass).addClass(S)}function c(){$.newestOnTop?g.prepend(D):g.append(D)}function l(){if(e.title){var t=e.title;$.escapeHtml&&(t=i(e.title)),A.append(t).addClass($.titleClass),D.append(A)}}function h(){if(e.message){var t=e.message;$.escapeHtml&&(t=i(e.message)),j.append(t).addClass($.messageClass),D.append(j)}}function f(){$.closeButton&&(O.addClass($.closeClass).attr("role","button"),D.prepend(O))}function p(){$.progressBar&&(P.addClass($.progressClass),D.prepend(P))}function y(){$.rtl&&D.addClass("rtl")}function w(t,e){if(t.preventDuplicates){if(e.message===_)return!0;_=e.message}return!1}function x(e){var n=e&&$.closeMethod!==!1?$.closeMethod:$.hideMethod,i=e&&$.closeDuration!==!1?$.closeDuration:$.hideDuration,r=e&&$.closeEasing!==!1?$.closeEasing:$.hideEasing;if(!t(":focus",D).length||e)return clearTimeout(N.intervalId),D[n]({duration:i,easing:r,complete:function(){v(D),clearTimeout(T),$.onHidden&&"hidden"!==M.state&&$.onHidden(),M.state="hidden",M.endTime=new Date,d(M)}})}function k(){($.timeOut>0||$.extendedTimeOut>0)&&(T=setTimeout(x,$.extendedTimeOut),N.maxHideTime=parseFloat($.extendedTimeOut),N.hideEta=(new Date).getTime()+N.maxHideTime)}function E(){clearTimeout(T),N.hideEta=0,D.stop(!0,!0)[$.showMethod]({duration:$.showDuration,easing:$.showEasing})}function C(){var t=(N.hideEta-(new Date).getTime())/N.maxHideTime*100;P.width(t+"%")}var $=m(),S=e.iconClass||$.iconClass;if("undefined"!=typeof e.optionsOverride&&($=t.extend($,e.optionsOverride),S=e.optionsOverride.iconClass||S),!w($,e)){b++,g=n($,!0);var T=null,D=t("<div/>"),A=t("<div/>"),j=t("<div/>"),P=t("<div/>"),O=t($.closeHtml),N={intervalId:null,hideEta:null,maxHideTime:null},M={toastId:b,state:"visible",startTime:new Date,options:$,map:e};return r(),a(),s(),d(M),$.debug&&console&&console.log(M),D}}function m(){return t.extend({},f(),x.options)}function v(t){g||(g=n()),t.is(":visible")||(t.remove(),t=null,0===g.children().length&&(g.remove(),_=void 0))}var g,y,_,b=0,w={error:"error",info:"info",success:"success",warning:"warning"},x={clear:a,remove:u,error:e,getContainer:n,info:i,options:{},subscribe:r,success:o,version:"2.1.4",warning:s};return x}()})}("function"==typeof define&&define.amd?define:function(n,i){"undefined"!=typeof e&&e.exports?e.exports=i(t("jquery")):window.toastr=i(window.jQuery)})},{jquery:72}],86:[function(t,e,n){(function(t){"use strict";function n(t){return encodeURIComponent(t).replace(a,l)}function i(t){return decodeURIComponent(t.replace(u," "))}function r(t){if(this[f]=Object.create(null),t)for(var e,n,r=(t||"").split("&"),o=0,s=r.length;o<s;o++)n=r[o],e=n.indexOf("="),-1<e&&this.append(i(n.slice(0,e)),i(n.slice(e+1)))}function o(){try{return!!Symbol.iterator}catch(t){return!1}}var s=r.prototype,a=/[!'\(\)~]|%20|%00/g,u=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l=function(t){return c[t]},h=o(),f="__URLSearchParams__:"+Math.random();s.append=function(t,e){var n=this[f];t in n?n[t].push(""+e):n[t]=[""+e]},s["delete"]=function(t){delete this[f][t]},s.get=function(t){var e=this[f];return t in e?e[t][0]:null},s.getAll=function(t){var e=this[f];return t in e?e[t].slice(0):[]},s.has=function(t){return t in this[f]},s.set=function(t,e){this[f][t]=[""+e]},s.forEach=function(t,e){var n=this[f];Object.getOwnPropertyNames(n).forEach(function(i){n[i].forEach(function(n){t.call(e,n,i,this)},this)},this)},s.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return h&&(e[Symbol.iterator]=function(){return e}),e},s.values=function(){var t=[];this.forEach(function(e){t.push(e)});var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return h&&(e[Symbol.iterator]=function(){return e}),e},s.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return h&&(e[Symbol.iterator]=function(){return e}),e},h&&(s[Symbol.iterator]=s.entries),s.toJSON=function(){return{}},s.toString=function(){var t,e,i,r,o=this[f],s=[];for(e in o)for(i=n(e),t=0,r=o[e];t<r.length;t++)s.push(i+"="+n(r[t]));return s.join("&")},e.exports=t.URLSearchParams||r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],87:[function(t,e,n){var i=t("./v1"),r=t("./v4"),o=r;o.v1=i,o.v4=r,e.exports=o},{"./v1":90,"./v4":91}],88:[function(t,e,n){function i(t,e){var n=e||0,i=r;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=i},{}],89:[function(t,e,n){var i="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(i){var r=new Uint8Array(16);e.exports=function(){return i(r),r}}else{var o=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},{}],90:[function(t,e,n){function i(t,e,n){var i=e&&n||0,l=e||[];t=t||{};var h=t.node||r,f=void 0!==t.clockseq?t.clockseq:o;if(null==h||null==f){var d=s();null==h&&(h=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=o=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,v=p-u+(m-c)/1e4;if(v<0&&void 0===t.clockseq&&(f=f+1&16383),(v<0||p>u)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=m,o=f,p+=122192928e5;var g=(1e4*(268435455&p)+m)%4294967296;l[i++]=g>>>24&255,l[i++]=g>>>16&255,l[i++]=g>>>8&255,l[i++]=255&g;var y=p/4294967296*1e4&268435455;l[i++]=y>>>8&255,l[i++]=255&y,l[i++]=y>>>24&15|16,l[i++]=y>>>16&255,l[i++]=f>>>8|128,l[i++]=255&f;for(var _=0;_<6;++_)l[i+_]=h[_];return e?e:a(l)}var r,o,s=t("./lib/rng"),a=t("./lib/bytesToUuid"),u=0,c=0;e.exports=i},{"./lib/bytesToUuid":88,"./lib/rng":89}],91:[function(t,e,n){function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||o(s)}var r=t("./lib/rng"),o=t("./lib/bytesToUuid");e.exports=i},{"./lib/bytesToUuid":88,"./lib/rng":89}],92:[function(t,e,n){!function(t){"use strict";function e(e){return{restrict:"E",transclude:!0,controller:n,scope:{control:"=?",expandCb:"&?onexpand",collapseCb:"&?oncollapse",id:"@?"},link:{pre:function(e,n,i){e.allowMultiple=t.isDefined(i.multiple)&&(""===i.multiple||"true"===i.multiple)},post:function(n,i,r,o,s){function a(){var e=["toggle","expand","collapse","expandAll","collapseAll","hasExpandedPane"];t.forEach(e,function(t){if(n.control[t])throw new Error("The `"+t+"` method can not be overwritten")})}if(s(n.$parent.$new(),function(t,e){e.$accordion=n.internalControl,n.id&&(e.$accordion.id=n.id),i.append(t)}),r.$set("role","tablist"),n.allowMultiple&&r.$set("aria-multiselectable","true"),t.isDefined(n.control)){a();var u=t.extend({},n.internalControl,n.control);n.control=n.internalControl=u}else n.control=n.internalControl;e(function(){var e=t.isDefined(o.getAccordionId())?o.getAccordionId()+":onReady":"vAccordion:onReady";n.$emit(e)},0)}}}}function n(e){var n=this,i=!1;e.panes=[],e.expandCb=t.isFunction(e.expandCb)?e.expandCb:t.noop,e.collapseCb=t.isFunction(e.collapseCb)?e.collapseCb:t.noop,n.hasExpandedPane=function(){for(var t=!1,n=0,i=e.panes.length;n<i;n++){var r=e.panes[n];if(r.isExpanded){t=!0;break}}return t},n.getPaneByIndex=function(n){var i;return t.forEach(e.panes,function(e){e.$parent&&t.isDefined(e.$parent.$index)&&e.$parent.$index===n&&(i=e)}),i?i:e.panes[n]},n.getPaneIndex=function(n){var i;return t.forEach(e.panes,function(e){e.$parent&&t.isDefined(e.$parent.$index)&&e===n&&(i=e.$parent.$index)}),t.isDefined(i)?i:e.panes.indexOf(n)},n.getPaneById=function(n){var i;return t.forEach(e.panes,function(t){t.id&&t.id===n&&(i=t)}),i},n.getPaneId=function(t){return t.id},n.getAccordionId=function(){return e.id},n.disable=function(){i=!0},n.enable=function(){i=!1},n.addPane=function(t){if(!e.allowMultiple&&n.hasExpandedPane()&&t.isExpanded)throw new Error("The `multiple` attribute can't be found");e.panes.push(t),t.isExpanded&&e.expandCb({index:n.getPaneIndex(t),id:t.id,pane:t})},n.focusNext=function(){for(var t=e.panes.length,n=0;n<t;n++){var i=e.panes[n];if(i.isFocused){var r=n+1;r>e.panes.length-1&&(r=0);var o=e.panes[r];o.paneElement.find("v-pane-header")[0].focus();break}}},n.focusPrevious=function(){for(var t=e.panes.length,n=0;n<t;n++){var i=e.panes[n];if(i.isFocused){var r=n-1;r<0&&(r=e.panes.length-1);var o=e.panes[r];o.paneElement.find("v-pane-header")[0].focus();break}}},n.toggle=function(t){!i&&t&&(e.allowMultiple||n.collapseAll(t),t.isExpanded=!t.isExpanded,t.isExpanded?e.expandCb({index:n.getPaneIndex(t),id:t.id,pane:t}):e.collapseCb({index:n.getPaneIndex(t),id:t.id,pane:t}))},n.expand=function(t){!i&&t&&(e.allowMultiple||n.collapseAll(t),t.isExpanded||(t.isExpanded=!0,e.expandCb({index:n.getPaneIndex(t),id:t.id,pane:t})))},n.collapse=function(t){!i&&t&&t.isExpanded&&(t.isExpanded=!1,e.collapseCb({index:n.getPaneIndex(t),id:t.id,pane:t}))},n.expandAll=function(){if(!i){if(!e.allowMultiple)throw new Error("The `multiple` attribute can't be found");t.forEach(e.panes,function(t){n.expand(t)})}},n.collapseAll=function(r){i||t.forEach(e.panes,function(t){t!==r&&n.collapse(t)})},e.internalControl={toggle:function(e){t.isString(e)?n.toggle(n.getPaneById(e)):n.toggle(n.getPaneByIndex(e))},expand:function(e){t.isString(e)?n.expand(n.getPaneById(e)):n.expand(n.getPaneByIndex(e))},collapse:function(e){t.isString(e)?n.collapse(n.getPaneById(e)):n.collapse(n.getPaneByIndex(e))},expandAll:n.expandAll,collapseAll:n.collapseAll,hasExpandedPane:n.hasExpandedPane}}function i(e,n,i){return{restrict:"E",require:"^vAccordion",transclude:!0,controller:r,scope:{isExpanded:"=?expanded",isDisabled:"=?ngDisabled",id:"@?"},link:function(e,r,o,s,a){function u(n){n=t.isDefined(m)?m+":"+n:"vAccordion:"+n,e.$emit(n)}function c(){s.disable(),d.attr("aria-hidden","false"),f.attr({"aria-selected":"true","aria-expanded":"true"}),u("onExpand"),n.addClass(r,h.expanded).then(function(){s.enable(),u("onExpandAnimationEnd")})}function l(){s.disable(),d.attr("aria-hidden","true"),f.attr({"aria-selected":"false","aria-expanded":"false"}),u("onCollapse"),n.removeClass(r,h.expanded).then(function(){s.enable(),u("onCollapseAnimationEnd")})}a(e.$parent.$new(),function(t,n){n.$pane=e.internalControl,e.id&&(n.$pane.id=e.id),r.append(t)}),t.isDefined(e.isExpanded)||(e.isExpanded=t.isDefined(o.expanded)&&""===o.expanded),t.isDefined(o.disabled)&&(e.isDisabled=!0);var h=i.states,f=r.find("v-pane-header"),d=r.find("v-pane-content"),p=d.find("div"),m=s.getAccordionId();if(!f[0])throw new Error("The `v-pane-header` directive can't be found");if(!d[0])throw new Error("The `v-pane-content` directive can't be found");e.paneElement=r,e.paneContentElement=d,e.paneInnerElement=p,e.accordionCtrl=s,s.addPane(e),e.$evalAsync(function(){e.isExpanded?(r.addClass(h.expanded),d.css("max-height","none").attr("aria-hidden","false"),f.attr({"aria-selected":"true","aria-expanded":"true"})):(d.css("max-height","0px").attr("aria-hidden","true"),f.attr({"aria-selected":"false","aria-expanded":"false"}))}),e.$watch("isExpanded",function(t,e){return t===e||void(t?c():l())})}}}function r(t){var e=this;e.isExpanded=function(){return t.isExpanded},e.toggle=function(){t.isAnimating||t.isDisabled||t.accordionCtrl.toggle(t)},e.expand=function(){t.isAnimating||t.isDisabled||t.accordionCtrl.expand(t)},e.collapse=function(){t.isAnimating||t.isDisabled||t.accordionCtrl.collapse(t)},e.focusPane=function(){t.isFocused=!0},e.blurPane=function(){t.isFocused=!1},t.internalControl={toggle:e.toggle,expand:e.expand,collapse:e.collapse,isExpanded:e.isExpanded}}function o(){return{restrict:"E",require:"^vPane",transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(t,e,n){n.$set("role","tabpanel"),n.$set("aria-hidden","true")}}}function s(){return{restrict:"E",require:["^vPane","^vAccordion"],transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(e,n,i,r){function o(){return!h&&void e.$apply(function(){c.toggle()})}function s(t){32===t.keyCode||13===t.keyCode?(e.$apply(function(){c.toggle()}),t.preventDefault()):39===t.keyCode||40===t.keyCode?(e.$apply(function(){l.focusNext()}),t.preventDefault()):37!==t.keyCode&&38!==t.keyCode||(e.$apply(function(){l.focusPrevious()}),t.preventDefault())}function a(){c.focusPane()}function u(){c.blurPane()}i.$set("role","tab"),i.$set("tabindex","0");var c=r[0],l=r[1],h=t.isDefined(i.inactive);n[0].onfocus=a,n[0].onblur=u,n.bind("click",o),n.bind("keydown",s),e.$on("$destroy",function(){n.unbind("click",o),n.unbind("keydown",s),n[0].onfocus=null,n[0].onblur=null})}}}t.module("vAccordion.config",[]).constant("accordionConfig",{states:{expanded:"is-expanded"},expandAnimationDuration:.5}).animation(".is-expanded",["$animateCss","accordionConfig",function(e,n){return{addClass:function(i,r,o){var s=t.element(i[0].querySelector("v-pane-content")),a=t.element(s[0].querySelector("div")),u=a[0].offsetHeight,c=e(s,{easing:"ease",from:{maxHeight:"0px"},to:{maxHeight:u+"px"},duration:n.expandAnimationDuration});return c.start().done(function(){s.css("max-height","none"),o()}),function(t){t&&s.css("max-height","none")}},removeClass:function(i,r,o){var s=t.element(i[0].querySelector("v-pane-content")),a=t.element(s[0].querySelector("div")),u=a[0].offsetHeight,c=e(s,{easing:"ease",from:{maxHeight:u+"px"},to:{maxHeight:"0px"},duration:n.expandAnimationDuration});return c.start().done(o),function(t){t&&s.css("max-height","0px")}}}}]),t.module("vAccordion.directives",[]),t.module("vAccordion",["vAccordion.config","vAccordion.directives"]),t.module("vAccordion.directives").directive("vAccordion",e),e.$inject=["$timeout"],n.$inject=["$scope"],t.module("vAccordion.directives").directive("vPane",i),i.$inject=["$timeout","$animate","accordionConfig"],r.$inject=["$scope"],t.module("vAccordion.directives").directive("vPaneContent",o),t.module("vAccordion.directives").directive("vPaneHeader",s)}(angular)},{}],93:[function(t,e,n){t("./dist/v-accordion"),e.exports="vAccordion"},{"./dist/v-accordion":92}],94:[function(t,e,n){(function(t){"use strict";function n(t,e,i){if(r(t,e))return void(t[e]=i);if(t._isVue)return void n(t._data,e,i);var o=t.__ob__;if(!o)return void(t[e]=i);if(o.convert(e,i),o.dep.notify(),o.vms)for(var s=o.vms.length;s--;){var a=o.vms[s];a._proxy(e),a._digest()}return i}function i(t,e){if(r(t,e)){delete t[e];var n=t.__ob__;if(!n)return void(t._isVue&&(delete t._data[e],t._digest()));if(n.dep.notify(),n.vms)for(var i=n.vms.length;i--;){var o=n.vms[i];o._unproxy(e),o._digest()}}}function r(t,e){return zn.call(t,e)}function o(t){return Wn.test(t)}function s(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function a(t){return null==t?"":t.toString()}function u(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function c(t){return"true"===t||"false"!==t&&t}function l(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function h(t){return t.replace(Yn,f)}function f(t,e){return e?e.toUpperCase():""}function d(t){return t.replace(Gn,"$1-$2").replace(Gn,"$1-$2").toLowerCase()}function p(t){return t.replace(Zn,f)}function m(t,e){return function(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}}function v(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function g(t,e){for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}function y(t){return null!==t&&"object"==typeof t}function _(t){return Xn.call(t)===Jn}function b(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function w(t,e){var n,i,r,o,s,a=function u(){var a=Date.now()-o;a<e&&a>=0?n=setTimeout(u,e-a):(n=null,s=t.apply(r,i),n||(r=i=null))};return function(){return r=this,i=arguments,o=Date.now(),n||(n=setTimeout(a,e)),s}}function x(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function k(t){var e=function n(){if(!n.cancelled)return t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function E(t,e){return t==e||!(!y(t)||!y(e))&&JSON.stringify(t)===JSON.stringify(e)}function C(t){return/native code/.test(t.toString())}function $(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function S(){return vi.charCodeAt(_i+1)}function T(){return vi.charCodeAt(++_i)}function D(){return _i>=yi}function A(){for(;S()===Pi;)T()}function j(t){return t===Ti||t===Di}function P(t){return Oi[t]}function O(t,e){return Ni[t]===e}function N(){for(var t,e=T();!D();)if(t=T(),t===ji)T();else if(t===e)break}function M(t){for(var e=0,n=t;!D();)if(t=S(),j(t))N();else if(n===t&&e++,O(n,t)&&e--,T(),0===e)break}function L(){for(var t=_i;!D();)if(bi=S(),j(bi))N();else if(P(bi))M(bi);else if(bi===Ai){if(T(),bi=S(),bi!==Ai){wi!==Ei&&wi!==Si||(wi=Ci);break}T()}else{if(bi===Pi&&(wi===$i||wi===Si)){A();break}wi===Ci&&(wi=$i),T()}return vi.slice(t+1,_i)||null}function I(){for(var t=[];!D();)t.push(R());return t}function R(){var t,e={};return wi=Ci,e.name=L().trim(),wi=Si,t=F(),t.length&&(e.args=t),e}function F(){for(var t=[];!D()&&wi!==Ci;){var e=L();if(!e)break;t.push(U(e))}return t}function U(t){if(ki.test(t))return{value:u(t),dynamic:!1};var e=l(t),n=e===t;return{value:n?t:e,dynamic:n}}function q(t){var e=xi.get(t);if(e)return e;vi=t,gi={},yi=vi.length,_i=-1,bi="",wi=Ei;var n;return vi.indexOf("|")<0?gi.expression=vi.trim():(gi.expression=L().trim(),n=I(),n.length&&(gi.filters=n)),xi.put(t,gi),gi}function V(t){return t.replace(Li,"\\$&")}function B(){var t=V(Hi.delimiters[0]),e=V(Hi.delimiters[1]),n=V(Hi.unsafeDelimiters[0]),i=V(Hi.unsafeDelimiters[1]);Ri=new RegExp(n+"((?:.|\\n)+?)"+i+"|"+t+"((?:.|\\n)+?)"+e,"g"),Fi=new RegExp("^"+n+"((?:.|\\n)+?)"+i+"$"),Ii=new $(1e3)}function H(t){Ii||B();var e=Ii.get(t);if(e)return e;if(!Ri.test(t))return null;for(var n,i,r,o,s,a,u=[],c=Ri.lastIndex=0;n=Ri.exec(t);)i=n.index,i>c&&u.push({value:t.slice(c,i)}),r=Fi.test(n[0]),o=r?n[1]:n[2],s=o.charCodeAt(0),a=42===s,o=a?o.slice(1):o,u.push({tag:!0,value:o.trim(),html:r,oneTime:a}),c=i+n[0].length;return c<t.length&&u.push({value:t.slice(c)}),Ii.put(t,u),u}function z(t,e){return t.length>1?t.map(function(t){return W(t,e)}).join("+"):W(t[0],e,!0)}function W(t,e,n){return t.tag?t.oneTime&&e?'"'+e.$eval(t.value)+'"':Y(t.value,n):'"'+t.value+'"'}function Y(t,e){if(Ui.test(t)){var n=q(t);return n.filters?"this._applyFilters("+n.expression+",null,"+JSON.stringify(n.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}function G(t,e,n,i){J(t,1,function(){e.appendChild(t)},n,i)}function Z(t,e,n,i){J(t,1,function(){it(t,e)},n,i)}function X(t,e,n){J(t,-1,function(){ot(t)},e,n)}function J(t,e,n,i,r){var o=t.__v_trans;if(!o||!o.hooks&&!ui||!i._isCompiled||i.$parent&&!i.$parent._isCompiled)return n(),void(r&&r());var s=e>0?"enter":"leave";o[s](n,r)}function Q(e){if("string"==typeof e){var n=e;e=document.querySelector(e),e||"production"!==t.env.NODE_ENV&&zi("Cannot find element: "+n)}return e}function K(t){if(!t)return!1;var e=t.ownerDocument.documentElement,n=t.parentNode;return e===t||e===n||!(!n||1!==n.nodeType||!e.contains(n))}function tt(t,e){var n=t.getAttribute(e);return null!==n&&t.removeAttribute(e),n}function et(t,e){var n=tt(t,":"+e);return null===n&&(n=tt(t,"v-bind:"+e)),n}function nt(t,e){return t.hasAttribute(e)||t.hasAttribute(":"+e)||t.hasAttribute("v-bind:"+e)}function it(t,e){e.parentNode.insertBefore(t,e)}function rt(t,e){e.nextSibling?it(t,e.nextSibling):e.parentNode.appendChild(t)}function ot(t){t.parentNode.removeChild(t)}function st(t,e){e.firstChild?it(t,e.firstChild):e.appendChild(t)}function at(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)}function ut(t,e,n,i){t.addEventListener(e,n,i)}function ct(t,e,n){t.removeEventListener(e,n)}function lt(t){var e=t.className;return"object"==typeof e&&(e=e.baseVal||""),
e}function ht(t,e){ri&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function ft(t,e){if(t.classList)t.classList.add(e);else{var n=" "+lt(t)+" ";n.indexOf(" "+e+" ")<0&&ht(t,(n+e).trim())}}function dt(t,e){if(t.classList)t.classList.remove(e);else{for(var n=" "+lt(t)+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");ht(t,n.trim())}t.className||t.removeAttribute("class")}function pt(t,e){var n,i;if(gt(t)&&xt(t.content)&&(t=t.content),t.hasChildNodes())for(mt(t),i=e?document.createDocumentFragment():document.createElement("div");n=t.firstChild;)i.appendChild(n);return i}function mt(t){for(var e;e=t.firstChild,vt(e);)t.removeChild(e);for(;e=t.lastChild,vt(e);)t.removeChild(e)}function vt(t){return t&&(3===t.nodeType&&!t.data.trim()||8===t.nodeType)}function gt(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function yt(t,e){var n=Hi.debug?document.createComment(t):document.createTextNode(e?" ":"");return n.__v_anchor=!0,n}function _t(t){if(t.hasAttributes())for(var e=t.attributes,n=0,i=e.length;n<i;n++){var r=e[n].name;if(Gi.test(r))return h(r.replace(Gi,""))}}function bt(t,e,n){for(var i;t!==e;)i=t.nextSibling,n(t),t=i;n(e)}function wt(t,e,n,i,r){function o(){if(a++,s&&a>=u.length){for(var t=0;t<u.length;t++)i.appendChild(u[t]);r&&r()}}var s=!1,a=0,u=[];bt(t,e,function(t){t===e&&(s=!0),u.push(t),X(t,n,o)})}function xt(t){return t&&11===t.nodeType}function kt(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function Et(e,n){var i=e.tagName.toLowerCase(),r=e.hasAttributes();if(Zi.test(i)||Xi.test(i)){if(r)return Ct(e,n)}else{if(Pt(n,"components",i))return{id:i};var o=r&&Ct(e,n);if(o)return o;if("production"!==t.env.NODE_ENV){var s=n._componentNameMap&&n._componentNameMap[i];s?zi("Unknown custom element: <"+i+"> - did you mean <"+s+">? HTML is case-insensitive, remember to use kebab-case in templates."):Ji(e,i)&&zi("Unknown custom element: <"+i+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.')}}}function Ct(t,e){var n=t.getAttribute("is");if(null!=n){if(Pt(e,"components",n))return t.removeAttribute("is"),{id:n}}else if(n=et(t,"is"),null!=n)return{id:n,dynamic:!0}}function $t(t,e){var i,o,s;for(i in e)o=t[i],s=e[i],r(t,i)?y(o)&&y(s)&&$t(o,s):n(t,i,s);return t}function St(t,e){var n=Object.create(t||null);return e?g(n,At(e)):n}function Tt(e){if(e.components){var n,i=e.components=At(e.components),r=Object.keys(i);if("production"!==t.env.NODE_ENV)var o=e._componentNameMap={};for(var s=0,a=r.length;s<a;s++){var u=r[s];Zi.test(u)||Xi.test(u)?"production"!==t.env.NODE_ENV&&zi("Do not use built-in or reserved HTML elements as component id: "+u):("production"!==t.env.NODE_ENV&&(o[u.replace(/-/g,"").toLowerCase()]=d(u)),n=i[u],_(n)&&(i[u]=Fn.extend(n)))}}}function Dt(t){var e,n,i=t.props;if(Qn(i))for(t.props={},e=i.length;e--;)n=i[e],"string"==typeof n?t.props[n]=null:n.name&&(t.props[n.name]=n);else if(_(i)){var r=Object.keys(i);for(e=r.length;e--;)n=i[r[e]],"function"==typeof n&&(i[r[e]]={type:n})}}function At(e){if(Qn(e)){for(var n,i={},r=e.length;r--;){n=e[r];var o="function"==typeof n?n.options&&n.options.name||n.id:n.name||n.id;o?i[o]=n:"production"!==t.env.NODE_ENV&&zi('Array-syntax assets must provide a "name" or "id" field.')}return i}return e}function jt(e,n,i){function o(t){var r=Qi[t]||Ki;a[t]=r(e[t],n[t],i,t)}Tt(n),Dt(n),"production"!==t.env.NODE_ENV&&n.propsData&&!i&&zi("propsData can only be used as an instantiation option.");var s,a={};if(n["extends"]&&(e="function"==typeof n["extends"]?jt(e,n["extends"].options,i):jt(e,n["extends"],i)),n.mixins)for(var u=0,c=n.mixins.length;u<c;u++){var l=n.mixins[u],h=l.prototype instanceof Fn?l.options:l;e=jt(e,h,i)}for(s in e)o(s);for(s in n)r(e,s)||o(s);return a}function Pt(e,n,i,r){if("string"==typeof i){var o,s=e[n],a=s[i]||s[o=h(i)]||s[o.charAt(0).toUpperCase()+o.slice(1)];return"production"!==t.env.NODE_ENV&&r&&!a&&zi("Failed to resolve "+n.slice(0,-1)+": "+i,e),a}}function Ot(){this.id=tr++,this.subs=[]}function Nt(t){rr=!1,t(),rr=!0}function Mt(t){if(this.value=t,this.dep=new Ot,b(t,"__ob__",this),Qn(t)){var e=Kn?Lt:It;e(t,nr,ir),this.observeArray(t)}else this.walk(t)}function Lt(t,e){t.__proto__=e}function It(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];b(t,o,e[o])}}function Rt(t,e){if(t&&"object"==typeof t){var n;return r(t,"__ob__")&&t.__ob__ instanceof Mt?n=t.__ob__:rr&&(Qn(t)||_(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Mt(t)),n&&e&&n.addVm(e),n}}function Ft(t,e,n){var i=new Ot,r=Object.getOwnPropertyDescriptor(t,e);if(!r||r.configurable!==!1){var o=r&&r.get,s=r&&r.set,a=Rt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):n;if(Ot.target&&(i.depend(),a&&a.dep.depend(),Qn(e)))for(var r,s=0,u=e.length;s<u;s++)r=e[s],r&&r.__ob__&&r.__ob__.dep.depend();return e},set:function(e){var r=o?o.call(t):n;e!==r&&(s?s.call(t,e):n=e,a=Rt(e),i.notify())}})}}function Ut(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=sr++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=jt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}}function qt(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function Vt(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(o(e)?l(e):"*"+e)}function Bt(t){function e(){var e=t[l+1];if(h===gr&&"'"===e||h===yr&&'"'===e)return l++,i="\\"+e,d[ur](),!0}var n,i,r,o,s,a,u,c=[],l=-1,h=fr,f=0,d=[];for(d[cr]=function(){void 0!==r&&(c.push(r),r=void 0)},d[ur]=function(){void 0===r?r=i:r+=i},d[lr]=function(){d[ur](),f++},d[hr]=function(){if(f>0)f--,h=vr,d[ur]();else{if(f=0,r=Vt(r),r===!1)return!1;d[cr]()}};null!=h;)if(l++,n=t[l],"\\"!==n||!e()){if(o=qt(n),u=wr[h],s=u[o]||u["else"]||br,s===br)return;if(h=s[0],a=d[s[1]],a&&(i=s[2],i=void 0===i?n:i,a()===!1))return;if(h===_r)return c.raw=t,c}}function Ht(t){var e=ar.get(t);return e||(e=Bt(t),e&&ar.put(t,e)),e}function zt(t,e){return te(e).get(t)}function Wt(e,i,r){var o=e;if("string"==typeof i&&(i=Bt(i)),!i||!y(e))return!1;for(var s,a,u=0,c=i.length;u<c;u++)s=e,a=i[u],"*"===a.charAt(0)&&(a=te(a.slice(1)).get.call(o,o)),u<c-1?(e=e[a],y(e)||(e={},"production"!==t.env.NODE_ENV&&s._isVue&&xr(i,s),n(s,a,e))):Qn(e)?e.$set(a,r):a in e?e[a]=r:("production"!==t.env.NODE_ENV&&e._isVue&&xr(i,e),n(e,a,r));return!0}function Yt(){}function Gt(t,e){var n=Lr.length;return Lr[n]=e?t.replace(Ar,"\\n"):t,'"'+n+'"'}function Zt(t){var e=t.charAt(0),n=t.slice(1);return $r.test(n)?t:(n=n.indexOf('"')>-1?n.replace(Pr,Xt):n,e+"scope."+n)}function Xt(t,e){return Lr[e]}function Jt(e){Tr.test(e)&&"production"!==t.env.NODE_ENV&&zi("Avoid using reserved keywords in expression: "+e),Lr.length=0;var n=e.replace(jr,Gt).replace(Dr,"");return n=(" "+n).replace(Nr,Zt).replace(Pr,Xt),Qt(n)}function Qt(e){try{return new Function("scope","return "+e+";")}catch(n){return"production"!==t.env.NODE_ENV&&zi(n.toString().match(/unsafe-eval|CSP/)?"It seems you are using the default build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. Use the CSP-compliant build instead: http://vuejs.org/guide/installation.html#CSP-compliant-build":"Invalid expression. Generated function body: "+e),Yt}}function Kt(e){var n=Ht(e);return n?function(t,e){Wt(t,n,e)}:void("production"!==t.env.NODE_ENV&&zi("Invalid setter expression: "+e))}function te(t,e){t=t.trim();var n=Er.get(t);if(n)return e&&!n.set&&(n.set=Kt(n.exp)),n;var i={exp:t};return i.get=ee(t)&&t.indexOf("[")<0?Qt("scope."+t):Jt(t),e&&(i.set=Kt(t)),Er.put(t,i),i}function ee(t){return Or.test(t)&&!Mr.test(t)&&"Math."!==t.slice(0,5)}function ne(){Rr.length=0,Fr.length=0,Ur={},qr={},Vr=!1}function ie(){for(var t=!0;t;)t=!1,re(Rr),re(Fr),Rr.length?t=!0:(ei&&Hi.devtools&&ei.emit("flush"),ne())}function re(e){for(var n=0;n<e.length;n++){var i=e[n],r=i.id;if(Ur[r]=null,i.run(),"production"!==t.env.NODE_ENV&&null!=Ur[r]&&(qr[r]=(qr[r]||0)+1,qr[r]>Hi._maxUpdateCount)){zi('You may have an infinite update loop for watcher with expression "'+i.expression+'"',i.vm);break}}e.length=0}function oe(t){var e=t.id;if(null==Ur[e]){var n=t.user?Fr:Rr;Ur[e]=n.length,n.push(t),Vr||(Vr=!0,di(ie))}}function se(t,e,n,i){i&&g(this,i);var r="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=e,this.cb=n,this.id=++Br,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pi,this.newDepIds=new pi,this.prevError=null,r)this.getter=e,this.setter=void 0;else{var o=te(e,this.twoWay);this.getter=o.get,this.setter=o.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function ae(t,e){var n=void 0,i=void 0;e||(e=Hr,e.clear());var r=Qn(t),o=y(t);if((r||o)&&Object.isExtensible(t)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r)for(n=t.length;n--;)ae(t[n],e);else if(o)for(i=Object.keys(t),n=i.length;n--;)ae(t[i[n]],e)}}function ue(t){return gt(t)&&xt(t.content)}function ce(t,e){var n=e?t:t.trim(),i=Wr.get(n);if(i)return i;var r=document.createDocumentFragment(),o=t.match(Zr),s=Xr.test(t),a=Jr.test(t);if(o||s||a){var u=o&&o[1],c=Gr[u]||Gr.efault,l=c[0],h=c[1],f=c[2],d=document.createElement("div");for(d.innerHTML=h+t+f;l--;)d=d.lastChild;for(var p;p=d.firstChild;)r.appendChild(p)}else r.appendChild(document.createTextNode(t));return e||mt(r),Wr.put(n,r),r}function le(t){if(ue(t))return ce(t.innerHTML);if("SCRIPT"===t.tagName)return ce(t.textContent);for(var e,n=he(t),i=document.createDocumentFragment();e=n.firstChild;)i.appendChild(e);return mt(i),i}function he(t){if(!t.querySelectorAll)return t.cloneNode();var e,n,i,r=t.cloneNode(!0);if(Qr){var o=r;if(ue(t)&&(t=t.content,o=r.content),n=t.querySelectorAll("template"),n.length)for(i=o.querySelectorAll("template"),e=i.length;e--;)i[e].parentNode.replaceChild(he(n[e]),i[e])}if(Kr)if("TEXTAREA"===t.tagName)r.value=t.value;else if(n=t.querySelectorAll("textarea"),n.length)for(i=r.querySelectorAll("textarea"),e=i.length;e--;)i[e].value=n[e].value;return r}function fe(t,e,n){var i,r;return xt(t)?(mt(t),e?he(t):t):("string"==typeof t?n||"#"!==t.charAt(0)?r=ce(t,n):(r=Yr.get(t),r||(i=document.getElementById(t.slice(1)),i&&(r=le(i),Yr.put(t,r)))):t.nodeType&&(r=le(t)),r&&e?he(r):r)}function de(t,e,n,i,r,o){this.children=[],this.childFrags=[],this.vm=e,this.scope=r,this.inserted=!1,this.parentFrag=o,o&&o.childFrags.push(this),this.unlink=t(e,n,i,r,this);var s=this.single=1===n.childNodes.length&&!n.childNodes[0].__v_anchor;s?(this.node=n.childNodes[0],this.before=pe,this.remove=me):(this.node=yt("fragment-start"),this.end=yt("fragment-end"),this.frag=n,st(this.node,n),n.appendChild(this.end),this.before=ve,this.remove=ge),this.node.__v_frag=this}function pe(t,e){this.inserted=!0;var n=e!==!1?Z:it;n(this.node,t,this.vm),K(this.node)&&this.callHook(ye)}function me(){this.inserted=!1;var t=K(this.node),e=this;this.beforeRemove(),X(this.node,this.vm,function(){t&&e.callHook(_e),e.destroy()})}function ve(t,e){this.inserted=!0;var n=this.vm,i=e!==!1?Z:it;bt(this.node,this.end,function(e){i(e,t,n)}),K(this.node)&&this.callHook(ye)}function ge(){this.inserted=!1;var t=this,e=K(this.node);this.beforeRemove(),wt(this.node,this.end,this.vm,this.frag,function(){e&&t.callHook(_e),t.destroy()})}function ye(t){!t._isAttached&&K(t.$el)&&t._callHook("attached")}function _e(t){t._isAttached&&!K(t.$el)&&t._callHook("detached")}function be(t,e){this.vm=t;var n,i="string"==typeof e;i||gt(e)&&!e.hasAttribute("v-if")?n=fe(e,!0):(n=document.createDocumentFragment(),n.appendChild(e)),this.template=n;var r,o=t.constructor.cid;if(o>0){var s=o+(i?e:kt(e));r=no.get(s),r||(r=Je(n,t.$options,!0),no.put(s,r))}else r=Je(n,t.$options,!0);this.linker=r}function we(t,e,n){var i=t.node.previousSibling;if(i){for(t=i.__v_frag;!(t&&t.forId===n&&t.inserted||i===e);){if(i=i.previousSibling,!i)return;t=i.__v_frag}return t}}function xe(t){for(var e=-1,n=new Array(Math.floor(t));++e<t;)n[e]=e;return n}function ke(t,e,n,i){return i?"$index"===i?t:i.charAt(0).match(/\w/)?zt(n,i):n[i]:e||n}function Ee(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function Ce(t,e,n){for(var i,r,o,s=e?[]:null,a=0,u=t.options.length;a<u;a++)if(i=t.options[a],o=n?i.hasAttribute("selected"):i.selected){if(r=i.hasOwnProperty("_value")?i._value:i.value,!e)return r;s.push(r)}return s}function $e(t,e){for(var n=t.length;n--;)if(E(t[n],e))return n;return-1}function Se(t,e){var n=e.map(function(t){var e=t.charCodeAt(0);return e>47&&e<58?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0),e>64&&e<91)?e:Eo[t]});return n=[].concat.apply([],n),function(e){if(n.indexOf(e.keyCode)>-1)return t.call(this,e)}}function Te(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function De(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Ae(t){return function(e){if(e.target===e.currentTarget)return t.call(this,e)}}function je(t){if(Do[t])return Do[t];var e=Pe(t);return Do[t]=Do[e]=e,e}function Pe(t){t=d(t);var e=h(t),n=e.charAt(0).toUpperCase()+e.slice(1);Ao||(Ao=document.createElement("div"));var i,r=$o.length;if("filter"!==e&&e in Ao.style)return{kebab:t,camel:e};for(;r--;)if(i=So[r]+n,i in Ao.style)return{kebab:$o[r]+t,camel:i}}function Oe(t){var e=[];if(Qn(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r)if("string"==typeof r)e.push(r);else for(var o in r)r[o]&&e.push(o)}else if(y(t))for(var s in t)t[s]&&e.push(s);return e}function Ne(t,e,n){if(e=e.trim(),e.indexOf(" ")===-1)return void n(t,e);for(var i=e.split(/\s+/),r=0,o=i.length;r<o;r++)n(t,i[r])}function Me(t,e,n){function i(){++o>=r?n():t[o].call(e,i)}var r=t.length,o=0;t[0].call(e,i)}function Le(e,n,i){for(var r,s,a,u,c,l,f,p=[],m=i.$options.propsData,v=Object.keys(n),g=v.length;g--;)if(s=v[g],r=n[s]||Wo,"production"===t.env.NODE_ENV||"$data"!==s)if(c=h(s),Yo.test(c)){if(f={name:s,path:c,options:r,mode:zo.ONE_WAY,raw:null},a=d(s),null===(u=et(e,a))&&(null!==(u=et(e,a+".sync"))?f.mode=zo.TWO_WAY:null!==(u=et(e,a+".once"))&&(f.mode=zo.ONE_TIME)),null!==u)f.raw=u,l=q(u),u=l.expression,f.filters=l.filters,o(u)&&!l.filters?f.optimizedLiteral=!0:(f.dynamic=!0,"production"===t.env.NODE_ENV||f.mode!==zo.TWO_WAY||Go.test(u)||(f.mode=zo.ONE_WAY,zi("Cannot bind two-way prop with non-settable parent path: "+u,i))),f.parentPath=u,"production"!==t.env.NODE_ENV&&r.twoWay&&f.mode!==zo.TWO_WAY&&zi('Prop "'+s+'" expects a two-way binding type.',i);else if(null!==(u=tt(e,a)))f.raw=u;else if(m&&null!==(u=m[s]||m[c]))f.raw=u;else if("production"!==t.env.NODE_ENV){var y=c.toLowerCase();u=/[A-Z\-]/.test(s)&&(e.getAttribute(y)||e.getAttribute(":"+y)||e.getAttribute("v-bind:"+y)||e.getAttribute(":"+y+".once")||e.getAttribute("v-bind:"+y+".once")||e.getAttribute(":"+y+".sync")||e.getAttribute("v-bind:"+y+".sync")),u?zi("Possible usage error for prop `"+y+"` - did you mean `"+a+"`? HTML is case-insensitive, remember to use kebab-case for props in templates.",i):!r.required||m&&(s in m||c in m)||zi("Missing required prop: "+s,i)}p.push(f)}else"production"!==t.env.NODE_ENV&&zi('Invalid prop key: "'+s+'". Prop keys must be valid identifiers.',i);else zi("Do not use $data as prop.",i);return Ie(p)}function Ie(t){return function(e,n){e._props={};for(var i,o,s,a,h,f=e.$options.propsData,p=t.length;p--;)if(i=t[p],h=i.raw,o=i.path,s=i.options,e._props[o]=i,f&&r(f,o)&&Fe(e,i,f[o]),null===h)Fe(e,i,void 0);else if(i.dynamic)i.mode===zo.ONE_TIME?(a=(n||e._context||e).$get(i.parentPath),Fe(e,i,a)):e._context?e._bindDir({name:"prop",def:Xo,prop:i},null,null,n):Fe(e,i,e.$get(i.parentPath));else if(i.optimizedLiteral){var m=l(h);a=m===h?c(u(h)):m,Fe(e,i,a)}else a=s.type===Boolean&&(""===h||h===d(i.name))||h,Fe(e,i,a)}}function Re(t,e,n,i){var r=e.dynamic&&ee(e.parentPath),o=n;void 0===o&&(o=qe(t,e)),o=Be(e,o,t);var s=o!==n;Ve(e,o,t)||(o=void 0),r&&!s?Nt(function(){i(o)}):i(o)}function Fe(t,e,n){Re(t,e,n,function(n){Ft(t,e.path,n)})}function Ue(t,e,n){Re(t,e,n,function(n){t[e.path]=n})}function qe(e,n){var i=n.options;if(!r(i,"default"))return i.type!==Boolean&&void 0;var o=i["default"];return y(o)&&"production"!==t.env.NODE_ENV&&zi('Invalid default value for prop "'+n.name+'": Props with type Object/Array must use a factory function to return the default value.',e),"function"==typeof o&&i.type!==Function?o.call(e):o}function Ve(e,n,i){if(!e.options.required&&(null===e.raw||null==n))return!0;var r=e.options,o=r.type,s=!o,a=[];if(o){Qn(o)||(o=[o]);for(var u=0;u<o.length&&!s;u++){var c=He(n,o[u]);a.push(c.expectedType),s=c.valid}}if(!s)return"production"!==t.env.NODE_ENV&&zi('Invalid prop: type check failed for prop "'+e.name+'". Expected '+a.map(ze).join(", ")+", got "+We(n)+".",i),!1;var l=r.validator;return!(l&&!l(n))||("production"!==t.env.NODE_ENV&&zi('Invalid prop: custom validator check failed for prop "'+e.name+'".',i),!1)}function Be(e,n,i){var r=e.options.coerce;return r?"function"==typeof r?r(n):("production"!==t.env.NODE_ENV&&zi('Invalid coerce for prop "'+e.name+'": expected function, got '+typeof r+".",i),n):n}function He(t,e){var n,i;return e===String?(i="string",n=typeof t===i):e===Number?(i="number",n=typeof t===i):e===Boolean?(i="boolean",n=typeof t===i):e===Function?(i="function",n=typeof t===i):e===Object?(i="object",n=_(t)):e===Array?(i="array",n=Qn(t)):n=t instanceof e,{valid:n,expectedType:i}}function ze(t){return t?t.charAt(0).toUpperCase()+t.slice(1):"custom type"}function We(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ye(t){Jo.push(t),Qo||(Qo=!0,di(Ge))}function Ge(){for(var t=document.documentElement.offsetHeight,e=0;e<Jo.length;e++)Jo[e]();return Jo=[],Qo=!1,t}function Ze(e,n,i,r){this.id=n,this.el=e,this.enterClass=i&&i.enterClass||n+"-enter",this.leaveClass=i&&i.leaveClass||n+"-leave",this.hooks=i,this.vm=r,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=i&&i.type,"production"!==t.env.NODE_ENV&&this.type&&this.type!==Ko&&this.type!==ts&&zi('invalid CSS transition type for transition="'+this.id+'": '+this.type,r);var o=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(t){o[t]=m(o[t],o)})}function Xe(t){if(/svg$/.test(t.namespaceURI)){var e=t.getBoundingClientRect();return!(e.width||e.height)}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function Je(t,e,n){var i=n||!e._asComponent?on(t,e):null,r=i&&i.terminal||xn(t)||!t.hasChildNodes()?null:hn(t.childNodes,e);return function(t,e,n,o,s){var a=v(e.childNodes),u=Qe(function(){i&&i(t,e,n,o,s),r&&r(t,a,n,o,s)},t);return tn(t,u)}}function Qe(e,n){"production"===t.env.NODE_ENV&&(n._directives=[]);var i=n._directives.length;e();var r=n._directives.slice(i);Ke(r);for(var o=0,s=r.length;o<s;o++)r[o]._bind();return r}function Ke(t){if(0!==t.length){var e,n,i,r,o={},s=0,a=[];for(e=0,n=t.length;e<n;e++){var u=t[e],c=u.descriptor.def.priority||ds,l=o[c];l||(l=o[c]=[],a.push(c)),l.push(u)}for(a.sort(function(t,e){return t>e?-1:t===e?0:1}),e=0,n=a.length;e<n;e++){var h=o[a[e]];for(i=0,r=h.length;i<r;i++)t[s++]=h[i]}}}function tn(t,e,n,i){function r(r){en(t,e,r),n&&i&&en(n,i)}return r.dirs=e,r}function en(e,n,i){for(var r=n.length;r--;)n[r]._teardown(),"production"===t.env.NODE_ENV||i||e._directives.$remove(n[r])}function nn(t,e,n,i){var r=Le(e,n,t),o=Qe(function(){r(t,i)},t);return tn(t,o)}function rn(e,n,i){var r,o,s=n._containerAttrs,a=n._replacerAttrs;if(11!==e.nodeType)n._asComponent?(s&&i&&(r=yn(s,i)),a&&(o=yn(a,n))):o=yn(e.attributes,n);else if("production"!==t.env.NODE_ENV&&s){var u=s.filter(function(t){return t.name.indexOf("_v-")<0&&!cs.test(t.name)&&"slot"!==t.name}).map(function(t){return'"'+t.name+'"'});if(u.length){var c=u.length>1,l=n.el.tagName.toLowerCase();"component"===l&&n.name&&(l+=":"+n.name),zi("Attribute"+(c?"s ":" ")+u.join(", ")+(c?" are":" is")+" ignored on component <"+l+"> because the component is a fragment instance: http://vuejs.org/guide/components.html#Fragment-Instance")}}return n._containerAttrs=n._replacerAttrs=null,function(t,e,n){var i,s=t._context;s&&r&&(i=Qe(function(){r(s,e,null,n)},s));var a=Qe(function(){o&&o(t,e)},t);return tn(t,a,s,i)}}function on(t,e){var n=t.nodeType;return 1!==n||xn(t)?3===n&&t.data.trim()?an(t,e):null:sn(t,e)}function sn(t,e){if("TEXTAREA"===t.tagName){if(null!==tt(t,"v-pre"))return vn;var n=H(t.value);n&&(t.setAttribute(":value",z(n)),t.value="")}var i,r=t.hasAttributes(),o=r&&v(t.attributes);return r&&(i=mn(t,o,e)),i||(i=dn(t,e)),i||(i=pn(t,e)),!i&&r&&(i=yn(o,e)),i}function an(t,e){if(t._skip)return un;var n=H(t.wholeText);if(!n)return null;for(var i=t.nextSibling;i&&3===i.nodeType;)i._skip=!0,i=i.nextSibling;for(var r,o,s=document.createDocumentFragment(),a=0,u=n.length;a<u;a++)o=n[a],r=o.tag?cn(o,e):document.createTextNode(o.value),s.appendChild(r);return ln(n,s,e)}function un(t,e){ot(e)}function cn(t,e){function n(e){if(!t.descriptor){var n=q(t.value);t.descriptor={name:e,def:Vo[e],expression:n.expression,filters:n.filters}}}var i;return t.oneTime?i=document.createTextNode(t.value):t.html?(i=document.createComment("v-html"),n("html")):(i=document.createTextNode(" "),n("text")),i}function ln(t,e){return function(n,i,r,o){for(var s,u,c,l=e.cloneNode(!0),h=v(l.childNodes),f=0,d=t.length;f<d;f++)s=t[f],u=s.value,s.tag&&(c=h[f],s.oneTime?(u=(o||n).$eval(u),s.html?at(c,fe(u,!0)):c.data=a(u)):n._bindDir(s.descriptor,c,r,o));at(i,l)}}function hn(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)r=t[s],n=on(r,e),i=n&&n.terminal||"SCRIPT"===r.tagName||!r.hasChildNodes()?null:hn(r.childNodes,e),o.push(n,i);return o.length?fn(o):null}function fn(t){return function(e,n,i,r,o){for(var s,a,u,c=0,l=0,h=t.length;c<h;l++){s=n[l],a=t[c++],u=t[c++];var f=v(s.childNodes);a&&a(e,s,i,r,o),u&&u(e,f,i,r,o)}}}function dn(t,e){var n=t.tagName.toLowerCase();if(!Zi.test(n)){var i=Pt(e,"elementDirectives",n);return i?gn(t,n,"",e,i):void 0}}function pn(t,e){var n=Et(t,e);if(n){var i=_t(t),r={name:"component",ref:i,expression:n.id,def:as.component,modifiers:{literal:!n.dynamic}},o=function(t,e,n,o,s){i&&Ft((o||t).$refs,i,null),t._bindDir(r,e,n,o,s)};return o.terminal=!0,o}}function mn(t,e,n){if(null!==tt(t,"v-pre"))return vn;if(t.hasAttribute("v-else")){var i=t.previousElementSibling;if(i&&i.hasAttribute("v-if"))return vn}for(var r,o,s,a,u,c,l,h,f,d,p=0,m=e.length;p<m;p++)r=e[p],o=r.name.replace(hs,""),(u=o.match(ls))&&(f=Pt(n,"directives",u[1]),f&&f.terminal&&(!d||(f.priority||ps)>d.priority)&&(d=f,l=r.name,a=_n(r.name),s=r.value,c=u[1],h=u[2]));return d?gn(t,c,s,n,d,l,h,a):void 0}function vn(){}function gn(t,e,n,i,r,o,s,a){var u=q(n),c={name:e,arg:s,expression:u.expression,filters:u.filters,raw:n,attr:o,modifiers:a,def:r};"for"!==e&&"router-view"!==e||(c.ref=_t(t));var l=function(t,e,n,i,r){c.ref&&Ft((i||t).$refs,c.ref,null),t._bindDir(c,e,n,i,r)};return l.terminal=!0,l}function yn(e,n){function i(t,e,n){var i=n&&wn(n),r=!i&&q(s);v.push({name:t,attr:a,raw:u,def:e,arg:l,modifiers:h,expression:r&&r.expression,filters:r&&r.filters,interp:n,hasOneTime:i})}for(var r,o,s,a,u,c,l,h,f,d,p,m=e.length,v=[];m--;)if(r=e[m],o=a=r.name,s=u=r.value,d=H(s),l=null,h=_n(o),o=o.replace(hs,""),d)s=z(d),l=o,i("bind",Vo.bind,d),"production"!==t.env.NODE_ENV&&"class"===o&&Array.prototype.some.call(e,function(t){return":class"===t.name||"v-bind:class"===t.name})&&zi('class="'+u+'": Do not mix mustache interpolation and v-bind for "class" on the same element. Use one or the other.',n);else if(fs.test(o))h.literal=!us.test(o),i("transition",as.transition);else if(cs.test(o))l=o.replace(cs,""),i("on",Vo.on);else if(us.test(o))c=o.replace(us,""),"style"===c||"class"===c?i(c,as[c]):(l=c,i("bind",Vo.bind));else if(p=o.match(ls)){if(c=p[1],l=p[2],"else"===c)continue;f=Pt(n,"directives",c,!0),f&&i(c,f)}if(v.length)return bn(v)}function _n(t){var e=Object.create(null),n=t.match(hs);if(n)for(var i=n.length;i--;)e[n[i].slice(1)]=!0;return e}function bn(t){return function(e,n,i,r,o){for(var s=t.length;s--;)e._bindDir(t[s],n,i,r,o)}}function wn(t){for(var e=t.length;e--;)if(t[e].oneTime)return!0}function xn(t){return"SCRIPT"===t.tagName&&(!t.hasAttribute("type")||"text/javascript"===t.getAttribute("type"))}function kn(t,e){return e&&(e._containerAttrs=Cn(t)),gt(t)&&(t=fe(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=pt(t),t=En(t,e))),xt(t)&&(st(yt("v-start",!0),t),t.appendChild(yt("v-end",!0))),t}function En(e,n){var i=n.template,r=fe(i,!0);if(r){var o=r.firstChild;if(!o)return r;var s=o.tagName&&o.tagName.toLowerCase();return n.replace?(e===document.body&&"production"!==t.env.NODE_ENV&&zi("You are mounting an instance with a template to <body>. This will replace <body> entirely. You should probably use `replace: false` here."),r.childNodes.length>1||1!==o.nodeType||"component"===s||Pt(n,"components",s)||nt(o,"is")||Pt(n,"elementDirectives",s)||o.hasAttribute("v-for")||o.hasAttribute("v-if")?r:(n._replacerAttrs=Cn(o),$n(e,o),o)):(e.appendChild(r),e)}"production"!==t.env.NODE_ENV&&zi("Invalid template option: "+i)}function Cn(t){if(1===t.nodeType&&t.hasAttributes())return v(t.attributes)}function $n(t,e){for(var n,i,r=t.attributes,o=r.length;o--;)n=r[o].name,i=r[o].value,e.hasAttribute(n)||ms.test(n)?"class"===n&&!H(i)&&(i=i.trim())&&i.split(/\s+/).forEach(function(t){ft(e,t)}):e.setAttribute(n,i)}function Sn(e,n){if(n){for(var i,r,o=e._slotContents=Object.create(null),s=0,a=n.children.length;s<a;s++)i=n.children[s],(r=i.getAttribute("slot"))&&(o[r]||(o[r]=[])).push(i),"production"!==t.env.NODE_ENV&&et(i,"slot")&&zi('The "slot" attribute must be static.',e.$parent);for(r in o)o[r]=Tn(o[r],n);if(n.hasChildNodes()){var u=n.childNodes;if(1===u.length&&3===u[0].nodeType&&!u[0].data.trim())return;o["default"]=Tn(n.childNodes,n)}}}function Tn(t,e){var n=document.createDocumentFragment();t=v(t);for(var i=0,r=t.length;i<r;i++){var o=t[i];!gt(o)||o.hasAttribute("v-if")||o.hasAttribute("v-for")||(e.removeChild(o),o=fe(o,!0)),n.appendChild(o)}return n}function Dn(e){function n(){}function i(t,e){var n=new se(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Ot.target&&n.depend(),n.value}}Object.defineProperty(e.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),e.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},e.prototype._initProps=function(){var e=this.$options,n=e.el,i=e.props;i&&!n&&"production"!==t.env.NODE_ENV&&zi("Props will not be compiled if no `el` option is provided at instantiation.",this),n=e.el=Q(n),this._propsUnlinkFn=n&&1===n.nodeType&&i?nn(this,n,i,this._scope):null},e.prototype._initData=function(){var e=this.$options.data,n=this._data=e?e():{};_(n)||(n={},"production"!==t.env.NODE_ENV&&zi("data functions should return an object.",this));var i,o,s=this._props,a=Object.keys(n);for(i=a.length;i--;)o=a[i],s&&r(s,o)?"production"!==t.env.NODE_ENV&&zi('Data field "'+o+'" is already defined as a prop. To provide default value for a prop, use the "default" prop option; if you want to pass prop values to an instantiation call, use the "propsData" option.',this):this._proxy(o);Rt(n,this)},e.prototype._setData=function(t){t=t||{};var e=this._data;this._data=t;var n,i,o;for(n=Object.keys(e),o=n.length;o--;)i=n[o],i in t||this._unproxy(i);for(n=Object.keys(t),o=n.length;o--;)i=n[o],r(this,i)||this._proxy(i);e.__ob__.removeVm(this),Rt(t,this),this._digest()},e.prototype._proxy=function(t){if(!s(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(n){e._data[t]=n}})}},e.prototype._unproxy=function(t){s(t)||delete this[t]},e.prototype._digest=function(){for(var t=0,e=this._watchers.length;t<e;t++)this._watchers[t].update(!0)},e.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var e in t){var r=t[e],o={enumerable:!0,configurable:!0};"function"==typeof r?(o.get=i(r,this),o.set=n):(o.get=r.get?r.cache!==!1?i(r.get,this):m(r.get,this):n,o.set=r.set?m(r.set,this):n),Object.defineProperty(this,e,o)}},e.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=m(t[e],this)},e.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)Ft(this,e,t[e])}}function An(e){function n(t,e){for(var n,i,r,o=e.attributes,s=0,a=o.length;s<a;s++)n=o[s].name,gs.test(n)&&(n=n.replace(gs,""),i=o[s].value,ee(i)&&(i+=".apply(this, $arguments)"),r=(t._scope||t._context).$eval(i,!0),r._fromParent=!0,t.$on(n.replace(gs),r))}function i(t,e,n){if(n){var i,o,s,a;for(o in n)if(i=n[o],Qn(i))for(s=0,a=i.length;s<a;s++)r(t,e,o,i[s]);else r(t,e,o,i)}}function r(e,n,i,o,s){var a=typeof o;if("function"===a)e[n](i,o,s);else if("string"===a){var u=e.$options.methods,c=u&&u[o];c?e[n](i,c,s):"production"!==t.env.NODE_ENV&&zi('Unknown method: "'+o+'" when registering callback for '+n+': "'+i+'".',e)}else o&&"object"===a&&r(e,n,i,o.handler,o)}function o(){this._isAttached||(this._isAttached=!0,this.$children.forEach(s))}function s(t){!t._isAttached&&K(t.$el)&&t._callHook("attached")}function a(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(u))}function u(t){t._isAttached&&!K(t.$el)&&t._callHook("detached")}e.prototype._initEvents=function(){var t=this.$options;t._asComponent&&n(this,t.el),i(this,"$on",t.events),i(this,"$watch",t.watch)},e.prototype._initDOMHooks=function(){this.$on("hook:attached",o),this.$on("hook:detached",a)},e.prototype._callHook=function(t){this.$emit("pre-hook:"+t);var e=this.$options[t];if(e)for(var n=0,i=e.length;n<i;n++)e[n].call(this);this.$emit("hook:"+t)}}function jn(){}function Pn(e,n,i,r,o,s){this.vm=n,this.el=i,this.descriptor=e,this.name=e.name,this.expression=e.expression,this.arg=e.arg,this.modifiers=e.modifiers,this.filters=e.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=r,this._scope=o,this._frag=s,"production"!==t.env.NODE_ENV&&this.el&&(this.el._vue_directives=this.el._vue_directives||[],this.el._vue_directives.push(this))}function On(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var n=(this._scope||this._context).$refs;t?n[e]===this&&(n[e]=null):n[e]=this}},t.prototype._compile=function(t){var e=this.$options,n=t;if(t=kn(t,e),this._initElement(t),1!==t.nodeType||null===tt(t,"v-pre")){var i=this._context&&this._context.$options,r=rn(t,e,i);Sn(this,e._content);var o,s=this.constructor;e._linkerCachable&&(o=s.linker,o||(o=s.linker=Je(t,e)));var a=r(this,t,this._scope),u=o?o(this,t):Je(t,e)(this,t);this._unlinkFn=function(){a(),u(!0)},e.replace&&at(n,t),this._isCompiled=!0,this._callHook("compiled")}},t.prototype._initElement=function(t){xt(t)?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,n,i,r){
this._directives.push(new Pn(t,this,e,n,i,r))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)return void(e||this._cleanup());var n,i,r=this,o=function(){!n||i||e||r._cleanup()};t&&this.$el&&(i=!0,this.$remove(function(){i=!1,o()})),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var s,a=this.$parent;for(a&&!a._isBeingDestroyed&&(a.$children.$remove(this),this._updateRef(!0)),s=this.$children.length;s--;)this.$children[s].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),s=this._watchers.length;s--;)this._watchers[s].teardown();this.$el&&(this.$el.__vue__=null),n=!0,o()},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data&&this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}function Nn(e){e.prototype._applyFilters=function(t,e,n,i){var r,o,s,a,u,c,l,h,f;for(c=0,l=n.length;c<l;c++)if(r=n[i?l-c-1:c],o=Pt(this.$options,"filters",r.name,!0),o&&(o=i?o.write:o.read||o,"function"==typeof o)){if(s=i?[t,e]:[t],u=i?2:1,r.args)for(h=0,f=r.args.length;h<f;h++)a=r.args[h],s[h+u]=a.dynamic?this.$get(a.value):a.value;t=o.apply(this,s)}return t},e.prototype._resolveComponent=function(n,i){var r;if(r="function"==typeof n?n:Pt(this.$options,"components",n,!0))if(r.options)i(r);else if(r.resolved)i(r.resolved);else if(r.requested)r.pendingCallbacks.push(i);else{r.requested=!0;var o=r.pendingCallbacks=[i];r.call(this,function(t){_(t)&&(t=e.extend(t)),r.resolved=t;for(var n=0,i=o.length;n<i;n++)o[n](t)},function(e){"production"!==t.env.NODE_ENV&&zi("Failed to resolve async component"+("string"==typeof n?": "+n:"")+". "+(e?"\nReason: "+e:""))})}}}function Mn(t){function e(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var n=te(t);if(n){if(e){var i=this;return function(){i.$arguments=v(arguments);var t=n.get.call(i,i);return i.$arguments=null,t}}try{return n.get.call(this,this)}catch(r){}}},t.prototype.$set=function(t,e){var n=te(t,!0);n&&n.set&&n.set.call(this,this,e)},t.prototype.$delete=function(t){i(this._data,t)},t.prototype.$watch=function(t,e,n){var i,r=this;"string"==typeof t&&(i=q(t),t=i.expression);var o=new se(r,t,e,{deep:n&&n.deep,sync:n&&n.sync,filters:i&&i.filters,user:!n||n.user!==!1});return n&&n.immediate&&e.call(r,o.value),function(){o.teardown()}},t.prototype.$eval=function(t,e){if(ys.test(t)){var n=q(t),i=this.$get(n.expression,e);return n.filters?this._applyFilters(i,null,n.filters):i}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=H(t),n=this;return e?1===e.length?n.$eval(e[0].value)+"":e.map(function(t){return t.tag?n.$eval(t.value):t.value}).join(""):t},t.prototype.$log=function(t){var n=t?zt(this._data,t):this._data;if(n&&(n=e(n)),!t){var i;for(i in this.$options.computed)n[i]=e(this[i]);if(this._props)for(i in this._props)n[i]=e(this[i])}console.log(n)}}function Ln(t){function e(t,e,i,r,o,s){e=n(e);var a=!K(e),u=r===!1||a?o:s,c=!a&&!t._isAttached&&!K(t.$el);return t._isFragment?(bt(t._fragmentStart,t._fragmentEnd,function(n){u(n,e,t)}),i&&i()):u(t.$el,e,t,i),c&&t._callHook("attached"),t}function n(t){return"string"==typeof t?document.querySelector(t):t}function i(t,e,n,i){e.appendChild(t),i&&i()}function r(t,e,n,i){it(t,e),i&&i()}function o(t,e,n){ot(t),n&&n()}t.prototype.$nextTick=function(t){di(t,this)},t.prototype.$appendTo=function(t,n,r){return e(this,t,n,r,i,G)},t.prototype.$prependTo=function(t,e,i){return t=n(t),t.hasChildNodes()?this.$before(t.firstChild,e,i):this.$appendTo(t,e,i),this},t.prototype.$before=function(t,n,i){return e(this,t,n,i,r,Z)},t.prototype.$after=function(t,e,i){return t=n(t),t.nextSibling?this.$before(t.nextSibling,e,i):this.$appendTo(t.parentNode,e,i),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var n=this._isAttached&&K(this.$el);n||(e=!1);var i=this,r=function(){n&&i._callHook("detached"),t&&t()};if(this._isFragment)wt(this._fragmentStart,this._fragmentEnd,this,this._fragment,r);else{var s=e===!1?o:X;s(this.$el,this,r)}return this}}function In(t){function e(t,e,i){var r=t.$parent;if(r&&i&&!n.test(e))for(;r;)r._eventsCount[e]=(r._eventsCount[e]||0)+i,r=r.$parent}t.prototype.$on=function(t,n){return(this._events[t]||(this._events[t]=[])).push(n),e(this,t,1),this},t.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(this,arguments)}var i=this;return n.fn=e,this.$on(t,n),this},t.prototype.$off=function(t,n){var i;if(!arguments.length){if(this.$parent)for(t in this._events)i=this._events[t],i&&e(this,t,-i.length);return this._events={},this}if(i=this._events[t],!i)return this;if(1===arguments.length)return e(this,t,-i.length),this._events[t]=null,this;for(var r,o=i.length;o--;)if(r=i[o],r===n||r.fn===n){e(this,t,-1),i.splice(o,1);break}return this},t.prototype.$emit=function(t){var e="string"==typeof t;t=e?t:t.name;var n=this._events[t],i=e||!n;if(n){n=n.length>1?v(n):n;var r=e&&n.some(function(t){return t._fromParent});r&&(i=!1);for(var o=v(arguments,1),s=0,a=n.length;s<a;s++){var u=n[s],c=u.apply(this,o);c!==!0||r&&!u._fromParent||(i=!0)}}return i},t.prototype.$broadcast=function(t){var e="string"==typeof t;if(t=e?t:t.name,this._eventsCount[t]){var n=this.$children,i=v(arguments);e&&(i[0]={name:t,source:this});for(var r=0,o=n.length;r<o;r++){var s=n[r],a=s.$emit.apply(s,i);a&&s.$broadcast.apply(s,i)}return this}},t.prototype.$dispatch=function(t){var e=this.$emit.apply(this,arguments);if(e){var n=this.$parent,i=v(arguments);for(i[0]={name:t,source:this};n;)e=n.$emit.apply(n,i),n=e?n.$parent:null;return this}};var n=/^hook:/}function Rn(e){function n(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}e.prototype.$mount=function(e){return this._isCompiled?void("production"!==t.env.NODE_ENV&&zi("$mount() should be called only once.",this)):(e=Q(e),e||(e=document.createElement("div")),this._compile(e),this._initDOMHooks(),K(this.$el)?(this._callHook("attached"),n.call(this)):this.$once("hook:attached",n),this)},e.prototype.$destroy=function(t,e){this._destroy(t,e)},e.prototype.$compile=function(t,e,n,i){return Je(t,this.$options,!0)(this,t,e,n,i)}}function Fn(t){this._init(t)}function Un(t,e,n){return n=n?parseInt(n,10):0,e=u(e),"number"==typeof e?t.slice(n,n+e):t}function qn(t,e,n){if(t=xs(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var i,r,o,s,a="in"===n?3:2,u=Array.prototype.concat.apply([],v(arguments,a)),c=[],l=0,h=t.length;l<h;l++)if(i=t[l],o=i&&i.$value||i,s=u.length){for(;s--;)if(r=u[s],"$key"===r&&Bn(i.$key,e)||Bn(zt(o,r),e)){c.push(i);break}}else Bn(i,e)&&c.push(i);return c}function Vn(t){function e(t,e,n){var r=i[n];return r&&("$key"!==r&&(y(t)&&"$value"in t&&(t=t.$value),y(e)&&"$value"in e&&(e=e.$value)),t=y(t)?zt(t,r):t,e=y(e)?zt(e,r):e),t===e?0:t>e?o:-o}var n=null,i=void 0;t=xs(t);var r=v(arguments,1),o=r[r.length-1];"number"==typeof o?(o=o<0?-1:1,r=r.length>1?r.slice(0,-1):r):o=1;var s=r[0];return s?("function"==typeof s?n=function(t,e){return s(t,e)*o}:(i=Array.prototype.concat.apply([],r),n=function(t,r,o){return o=o||0,o>=i.length-1?e(t,r,o):e(t,r,o)||n(t,r,o+1)}),t.slice().sort(n)):t}function Bn(t,e){var n;if(_(t)){var i=Object.keys(t);for(n=i.length;n--;)if(Bn(t[i[n]],e))return!0}else if(Qn(t)){for(n=t.length;n--;)if(Bn(t[n],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}function Hn(e){function r(t){return new Function("return function "+p(t)+" (options) { this._init(options) }")()}e.options={directives:Vo,elementDirectives:ws,filters:Es,transitions:{},components:{},partials:{},replace:!0},e.util=or,e.config=Hi,e.set=n,e["delete"]=i,e.nextTick=di,e.compiler=vs,e.FragmentFactory=be,e.internalDirectives=as,e.parsers={path:kr,text:qi,template:to,directive:Mi,expression:Ir},e.cid=0;var o=1;e.extend=function(e){e=e||{};var n=this,i=0===n.cid;if(i&&e._Ctor)return e._Ctor;var s=e.name||n.options.name;"production"!==t.env.NODE_ENV&&(/^[a-zA-Z][\w-]*$/.test(s)||(zi('Invalid component name: "'+s+'". Component names can only contain alphanumeric characaters and the hyphen.'),s=null));var a=r(s||"VueComponent");return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=o++,a.options=jt(n.options,e),a["super"]=n,a.extend=n.extend,Hi._assetTypes.forEach(function(t){a[t]=n[t]}),s&&(a.options.components[s]=a),i&&(e._Ctor=a),a},e.use=function(t){if(!t.installed){var e=v(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},e.mixin=function(t){e.options=jt(e.options,t)},Hi._assetTypes.forEach(function(n){e[n]=function(i,r){return r?("production"!==t.env.NODE_ENV&&"component"===n&&(Zi.test(i)||Xi.test(i))&&zi("Do not use built-in or reserved HTML elements as component id: "+i),"component"===n&&_(r)&&(r.name||(r.name=i),r=e.extend(r)),this.options[n+"s"][i]=r,r):this.options[n+"s"][i]}}),g(e.transition,Yi)}var zn=Object.prototype.hasOwnProperty,Wn=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Yn=/-(\w)/g,Gn=/([^-])([A-Z])/g,Zn=/(?:^|[-_\/])(\w)/g,Xn=Object.prototype.toString,Jn="[object Object]",Qn=Array.isArray,Kn="__proto__"in{},ti="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),ei=ti&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ni=ti&&window.navigator.userAgent.toLowerCase(),ii=ni&&ni.indexOf("trident")>0,ri=ni&&ni.indexOf("msie 9.0")>0,oi=ni&&ni.indexOf("android")>0,si=ni&&/iphone|ipad|ipod|ios/.test(ni),ai=void 0,ui=void 0,ci=void 0,li=void 0;if(ti&&!ri){var hi=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,fi=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;ai=hi?"WebkitTransition":"transition",ui=hi?"webkitTransitionEnd":"transitionend",ci=fi?"WebkitAnimation":"animation",li=fi?"webkitAnimationEnd":"animationend"}var di=function(){function t(){n=!1;var t=e.slice(0);e.length=0;for(var i=0;i<t.length;i++)t[i]()}var e=[],n=!1,i=void 0;if("undefined"!=typeof Promise&&C(Promise)){var r=Promise.resolve(),o=function(){};i=function(){r.then(t),si&&setTimeout(o)}}else if("undefined"!=typeof MutationObserver){var s=1,a=new MutationObserver(t),u=document.createTextNode(String(s));a.observe(u,{characterData:!0}),i=function(){s=(s+1)%2,u.data=String(s)}}else i=setTimeout;return function(r,o){var s=o?function(){r.call(o)}:r;e.push(s),n||(n=!0,i(t,0))}}(),pi=void 0;"undefined"!=typeof Set&&C(Set)?pi=Set:(pi=function(){this.set=Object.create(null)},pi.prototype.has=function(t){return void 0!==this.set[t]},pi.prototype.add=function(t){this.set[t]=1},pi.prototype.clear=function(){this.set=Object.create(null)});var mi=$.prototype;mi.put=function(t,e){var n,i=this.get(t,!0);return i||(this.size===this.limit&&(n=this.shift()),i={key:t},this._keymap[t]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size++),i.value=e,n},mi.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0,this.size--),t},mi.get=function(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail?e?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,e?n:n.value)};var vi,gi,yi,_i,bi,wi,xi=new $(1e3),ki=/^in$|^-?\d+/,Ei=0,Ci=1,$i=2,Si=3,Ti=34,Di=39,Ai=124,ji=92,Pi=32,Oi={91:1,123:1,40:1},Ni={91:93,123:125,40:41},Mi=Object.freeze({parseDirective:q}),Li=/[-.*+?^${}()|[\]\/\\]/g,Ii=void 0,Ri=void 0,Fi=void 0,Ui=/[^|]\|[^|]/,qi=Object.freeze({compileRegex:B,parseText:H,tokensToExp:z}),Vi=["{{","}}"],Bi=["{{{","}}}"],Hi=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,devtools:"production"!==t.env.NODE_ENV,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return Vi},set:function(t){Vi=t,B()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return Bi},set:function(t){Bi=t,B()},configurable:!0,enumerable:!0}}),zi=void 0,Wi=void 0;"production"!==t.env.NODE_ENV&&!function(){var t="undefined"!=typeof console;zi=function(e,n){t&&!Hi.silent&&console.error("[Vue warn]: "+e+(n?Wi(n):""))},Wi=function(t){var e=t._isVue?t.$options.name:t.name;return e?" (found in component: <"+d(e)+">)":""}}();var Yi=Object.freeze({appendWithTransition:G,beforeWithTransition:Z,removeWithTransition:X,applyTransition:J}),Gi=/^v-ref:/,Zi=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/i,Xi=/^(slot|partial|component)$/i,Ji=void 0;"production"!==t.env.NODE_ENV&&(Ji=function(t,e){return e.indexOf("-")>-1?t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:/HTMLUnknownElement/.test(t.toString())&&!/^(data|time|rtc|rb|details|dialog|summary)$/.test(e)});var Qi=Hi.optionMergeStrategies=Object.create(null);Qi.data=function(e,n,i){return i?e||n?function(){var t="function"==typeof n?n.call(i):n,r="function"==typeof e?e.call(i):void 0;return t?$t(t,r):r}:void 0:n?"function"!=typeof n?("production"!==t.env.NODE_ENV&&zi('The "data" option should be a function that returns a per-instance value in component definitions.',i),e):e?function(){return $t(n.call(this),e.call(this))}:n:e},Qi.el=function(e,n,i){if(!i&&n&&"function"!=typeof n)return void("production"!==t.env.NODE_ENV&&zi('The "el" option should be a function that returns a per-instance value in component definitions.',i));var r=n||e;return i&&"function"==typeof r?r.call(i):r},Qi.init=Qi.created=Qi.ready=Qi.attached=Qi.detached=Qi.beforeCompile=Qi.compiled=Qi.beforeDestroy=Qi.destroyed=Qi.activate=function(t,e){return e?t?t.concat(e):Qn(e)?e:[e]:t},Hi._assetTypes.forEach(function(t){Qi[t+"s"]=St}),Qi.watch=Qi.events=function(t,e){if(!e)return t;if(!t)return e;var n={};g(n,t);for(var i in e){var r=n[i],o=e[i];r&&!Qn(r)&&(r=[r]),n[i]=r?r.concat(o):[o]}return n},Qi.props=Qi.methods=Qi.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return g(n,t),g(n,e),n};var Ki=function(t,e){return void 0===e?t:e},tr=0;Ot.target=null,Ot.prototype.addSub=function(t){this.subs.push(t)},Ot.prototype.removeSub=function(t){this.subs.$remove(t)},Ot.prototype.depend=function(){Ot.target.addDep(this)},Ot.prototype.notify=function(){for(var t=v(this.subs),e=0,n=t.length;e<n;e++)t[e].update()};var er=Array.prototype,nr=Object.create(er);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=er[t];b(nr,t,function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var r,o=e.apply(this,i),s=this.__ob__;switch(t){case"push":r=i;break;case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o})}),b(er,"$set",function(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]}),b(er,"$remove",function(t){if(this.length){var e=x(this,t);return e>-1?this.splice(e,1):void 0}});var ir=Object.getOwnPropertyNames(nr),rr=!0;Mt.prototype.walk=function(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;n++)this.convert(e[n],t[e[n]])},Mt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Rt(t[e])},Mt.prototype.convert=function(t,e){Ft(this.value,t,e)},Mt.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},Mt.prototype.removeVm=function(t){this.vms.$remove(t)};var or=Object.freeze({defineReactive:Ft,set:n,del:i,hasOwn:r,isLiteral:o,isReserved:s,_toString:a,toNumber:u,toBoolean:c,stripQuotes:l,camelize:h,hyphenate:d,classify:p,bind:m,toArray:v,extend:g,isObject:y,isPlainObject:_,def:b,debounce:w,indexOf:x,cancellable:k,looseEqual:E,isArray:Qn,hasProto:Kn,inBrowser:ti,devtools:ei,isIE:ii,isIE9:ri,isAndroid:oi,isIOS:si,get transitionProp(){return ai},get transitionEndEvent(){return ui},get animationProp(){return ci},get animationEndEvent(){return li},nextTick:di,get _Set(){return pi},query:Q,inDoc:K,getAttr:tt,getBindAttr:et,hasBindAttr:nt,before:it,after:rt,remove:ot,prepend:st,replace:at,on:ut,off:ct,setClass:ht,addClass:ft,removeClass:dt,extractContent:pt,trimNode:mt,isTemplate:gt,createAnchor:yt,findRef:_t,mapNodeRange:bt,removeNodeRange:wt,isFragment:xt,getOuterHTML:kt,mergeOptions:jt,resolveAsset:Pt,checkComponentAttr:Et,commonTagRE:Zi,reservedTagRE:Xi,get warn(){return zi}}),sr=0,ar=new $(1e3),ur=0,cr=1,lr=2,hr=3,fr=0,dr=1,pr=2,mr=3,vr=4,gr=5,yr=6,_r=7,br=8,wr=[];wr[fr]={ws:[fr],ident:[mr,ur],"[":[vr],eof:[_r]},wr[dr]={ws:[dr],".":[pr],"[":[vr],eof:[_r]},wr[pr]={ws:[pr],ident:[mr,ur]},wr[mr]={ident:[mr,ur],0:[mr,ur],number:[mr,ur],ws:[dr,cr],".":[pr,cr],"[":[vr,cr],eof:[_r,cr]},wr[vr]={"'":[gr,ur],'"':[yr,ur],"[":[vr,lr],"]":[dr,hr],eof:br,"else":[vr,ur]},wr[gr]={"'":[vr,ur],eof:br,"else":[gr,ur]},wr[yr]={'"':[vr,ur],eof:br,"else":[yr,ur]};var xr;"production"!==t.env.NODE_ENV&&(xr=function(t,e){zi('You are setting a non-existent path "'+t.raw+'" on a vm instance. Consider pre-initializing the property with the "data" option for more reliable reactivity and better performance.',e)});var kr=Object.freeze({parsePath:Ht,getPath:zt,setPath:Wt}),Er=new $(1e3),Cr="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",$r=new RegExp("^("+Cr.replace(/,/g,"\\b|")+"\\b)"),Sr="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public",Tr=new RegExp("^("+Sr.replace(/,/g,"\\b|")+"\\b)"),Dr=/\s/g,Ar=/\n/g,jr=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\"']|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,Pr=/"(\d+)"/g,Or=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,Nr=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,Mr=/^(?:true|false|null|undefined|Infinity|NaN)$/,Lr=[],Ir=Object.freeze({parseExpression:te,isSimplePath:ee}),Rr=[],Fr=[],Ur={},qr={},Vr=!1,Br=0;se.prototype.get=function(){this.beforeGet();var e,n=this.scope||this.vm;try{e=this.getter.call(n,n)}catch(i){"production"!==t.env.NODE_ENV&&Hi.warnExpressionErrors&&zi('Error when evaluating expression "'+this.expression+'": '+i.toString(),this.vm)}return this.deep&&ae(e),this.preProcess&&(e=this.preProcess(e)),this.filters&&(e=n._applyFilters(e,null,this.filters,!1)),this.postProcess&&(e=this.postProcess(e)),this.afterGet(),e},se.prototype.set=function(e){var n=this.scope||this.vm;this.filters&&(e=n._applyFilters(e,this.value,this.filters,!0));try{this.setter.call(n,n,e)}catch(i){"production"!==t.env.NODE_ENV&&Hi.warnExpressionErrors&&zi('Error when evaluating setter "'+this.expression+'": '+i.toString(),this.vm)}var r=n.$forContext;if(r&&r.alias===this.expression){if(r.filters)return void("production"!==t.env.NODE_ENV&&zi("It seems you are using two-way binding on a v-for alias ("+this.expression+"), and the v-for has filters. This will not work properly. Either remove the filters or use an array of objects and bind to object properties instead.",this.vm));r._withLock(function(){n.$key?r.rawValue[n.$key]=e:r.rawValue.$set(n.$index,e)})}},se.prototype.beforeGet=function(){Ot.target=this},se.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},se.prototype.afterGet=function(){Ot.target=null;for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},se.prototype.update=function(e){this.lazy?this.dirty=!0:this.sync||!Hi.async?this.run():(this.shallow=this.queued?!!e&&this.shallow:!!e,this.queued=!0,"production"!==t.env.NODE_ENV&&Hi.debug&&(this.prevError=new Error("[vue] async stack trace")),oe(this))},se.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||(y(e)||this.deep)&&!this.shallow){var n=this.value;this.value=e;var i=this.prevError;if("production"!==t.env.NODE_ENV&&Hi.debug&&i){this.prevError=null;try{this.cb.call(this.vm,e,n)}catch(r){throw di(function(){throw i},0),r}}else this.cb.call(this.vm,e,n)}this.queued=this.shallow=!1}},se.prototype.evaluate=function(){var t=Ot.target;this.value=this.get(),this.dirty=!1,Ot.target=t},se.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},se.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var Hr=new pi,zr={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=a(t)}},Wr=new $(1e3),Yr=new $(1e3),Gr={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};Gr.td=Gr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Gr.option=Gr.optgroup=[1,'<select multiple="multiple">',"</select>"],Gr.thead=Gr.tbody=Gr.colgroup=Gr.caption=Gr.tfoot=[1,"<table>","</table>"],Gr.g=Gr.defs=Gr.symbol=Gr.use=Gr.image=Gr.text=Gr.circle=Gr.ellipse=Gr.line=Gr.path=Gr.polygon=Gr.polyline=Gr.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var Zr=/<([\w:-]+)/,Xr=/&#?\w+?;/,Jr=/<!--/,Qr=function(){if(ti){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),Kr=function(){if(ti){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),to=Object.freeze({cloneNode:he,parseTemplate:fe}),eo={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=yt("v-html"),at(this.el,this.anchor))},update:function(t){t=a(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)ot(this.nodes[e]);var n=fe(t,!0,!0);this.nodes=v(n.childNodes),it(n,this.anchor)}};de.prototype.callHook=function(t){var e,n;for(e=0,n=this.childFrags.length;e<n;e++)this.childFrags[e].callHook(t);for(e=0,n=this.children.length;e<n;e++)t(this.children[e])},de.prototype.beforeRemove=function(){var t,e;for(t=0,e=this.childFrags.length;t<e;t++)this.childFrags[t].beforeRemove(!1);for(t=0,e=this.children.length;t<e;t++)this.children[t].$destroy(!1,!0);var n=this.unlink.dirs;for(t=0,e=n.length;t<e;t++)n[t]._watcher&&n[t]._watcher.teardown()},de.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var no=new $(5e3);be.prototype.create=function(t,e,n){var i=he(this.template);return new de(this.linker,this.vm,i,t,e,n)};var io=700,ro=800,oo=850,so=1100,ao=1500,uo=1500,co=1750,lo=2100,ho=2200,fo=2300,po=0,mo={priority:ho,terminal:!0,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){"production"!==t.env.NODE_ENV&&this.el.hasAttribute("v-if")&&zi("<"+this.el.tagName.toLowerCase()+' v-for="'+this.expression+'" v-if="'+this.el.getAttribute("v-if")+'">: Using v-if and v-for on the same element is not recommended - consider filtering the source Array instead.',this.vm);var e=this.expression.match(/(.*) (?:in|of) (.*)/);if(e){var n=e[1].match(/\((.*),(.*)\)/);n?(this.iterator=n[1].trim(),this.alias=n[2].trim()):this.alias=e[1].trim(),this.expression=e[2]}if(!this.alias)return void("production"!==t.env.NODE_ENV&&zi('Invalid v-for expression "'+this.descriptor.raw+'": alias is required.',this.vm));this.id="__v-for__"+ ++po;var i=this.el.tagName;this.isOption=("OPTION"===i||"OPTGROUP"===i)&&"SELECT"===this.el.parentNode.tagName,this.start=yt("v-for-start"),this.end=yt("v-for-end"),at(this.el,this.end),it(this.start,this.end),this.cache=Object.create(null),this.factory=new be(this.vm,this.el)},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,n,i,o,s,a,u=t[0],c=this.fromObject=y(u)&&r(u,"$key")&&r(u,"$value"),l=this.params.trackBy,h=this.frags,f=this.frags=new Array(t.length),d=this.alias,p=this.iterator,m=this.start,v=this.end,g=K(m),_=!h;for(e=0,n=t.length;e<n;e++)u=t[e],o=c?u.$key:null,s=c?u.$value:u,a=!y(s),i=!_&&this.getCachedFrag(s,e,o),i?(i.reused=!0,i.scope.$index=e,o&&(i.scope.$key=o),p&&(i.scope[p]=null!==o?o:e),(l||c||a)&&Nt(function(){i.scope[d]=s})):(i=this.create(s,d,e,o),i.fresh=!_),f[e]=i,_&&i.before(v);if(!_){var b=0,w=h.length-f.length;for(this.vm._vForRemoving=!0,e=0,n=h.length;e<n;e++)i=h[e],i.reused||(this.deleteCachedFrag(i),this.remove(i,b++,w,g));this.vm._vForRemoving=!1,b&&(this.vm._watchers=this.vm._watchers.filter(function(t){return t.active}));var x,k,E,C=0;for(e=0,n=f.length;e<n;e++)i=f[e],x=f[e-1],k=x?x.staggerCb?x.staggerAnchor:x.end||x.node:m,i.reused&&!i.staggerCb?(E=we(i,m,this.id),E===x||E&&we(E,m,this.id)===x||this.move(i,k)):this.insert(i,C++,k,g),i.reused=i.fresh=!1}},create:function(t,e,n,i){var r=this._host,o=this._scope||this.vm,s=Object.create(o);s.$refs=Object.create(o.$refs),s.$els=Object.create(o.$els),s.$parent=o,s.$forContext=this,Nt(function(){Ft(s,e,t)}),Ft(s,"$index",n),i?Ft(s,"$key",i):s.$key&&b(s,"$key",null),this.iterator&&Ft(s,this.iterator,null!==i?i:n);var a=this.factory.create(r,s,this._frag);return a.forId=this.id,this.cacheFrag(t,a,n,i),a},updateRef:function(){var t=this.descriptor.ref;if(t){var e,n=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach(function(t){e[t.scope.$key]=Ee(t)})):e=this.frags.map(Ee),n[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,n,i){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var r=this.getStagger(t,e,null,"enter");if(i&&r){var o=t.staggerAnchor;o||(o=t.staggerAnchor=yt("stagger-anchor"),o.__v_frag=t),rt(o,n);var s=t.staggerCb=k(function(){t.staggerCb=null,t.before(o),ot(o)});setTimeout(s,r)}else{var a=n.nextSibling;a||(rt(this.end,n),a=this.end),t.before(a)}},remove:function(t,e,n,i){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var r=this.getStagger(t,e,n,"leave");if(i&&r){var o=t.staggerCb=k(function(){t.staggerCb=null,t.remove()});setTimeout(o,r)}else t.remove()},move:function(t,e){e.nextSibling||this.end.parentNode.appendChild(this.end),t.before(e.nextSibling,!1)},cacheFrag:function(e,n,i,o){var s,a=this.params.trackBy,u=this.cache,c=!y(e);o||a||c?(s=ke(i,o,e,a),u[s]?"$index"!==a&&"production"!==t.env.NODE_ENV&&this.warnDuplicate(e):u[s]=n):(s=this.id,r(e,s)?null===e[s]?e[s]=n:"production"!==t.env.NODE_ENV&&this.warnDuplicate(e):Object.isExtensible(e)?b(e,s,n):"production"!==t.env.NODE_ENV&&zi("Frozen v-for objects cannot be automatically tracked, make sure to provide a track-by key.")),n.raw=e},getCachedFrag:function(e,n,i){var r,o=this.params.trackBy,s=!y(e);if(i||o||s){var a=ke(n,i,e,o);r=this.cache[a]}else r=e[this.id];return r&&(r.reused||r.fresh)&&"production"!==t.env.NODE_ENV&&this.warnDuplicate(e),r},deleteCachedFrag:function(t){var e=t.raw,n=this.params.trackBy,i=t.scope,o=i.$index,s=r(i,"$key")&&i.$key,a=!y(e);if(n||s||a){var u=ke(o,s,e,n);this.cache[u]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,n,i){i+="Stagger";var r=t.node.__v_trans,o=r&&r.hooks,s=o&&(o[i]||o.stagger);return s?s.call(t,e,n):e*parseInt(this.params[i]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(Qn(t))return t;if(_(t)){for(var e,n=Object.keys(t),i=n.length,r=new Array(i);i--;)e=n[i],r[i]={$key:e,$value:t[e]};return r}return"number"!=typeof t||isNaN(t)||(t=xe(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}};"production"!==t.env.NODE_ENV&&(mo.warnDuplicate=function(t){zi('Duplicate value found in v-for="'+this.descriptor.raw+'": '+JSON.stringify(t)+'. Use track-by="$index" if you are expecting duplicate values.',this.vm)});var vo={priority:lo,terminal:!0,bind:function(){var e=this.el;if(e.__vue__)"production"!==t.env.NODE_ENV&&zi('v-if="'+this.expression+'" cannot be used on an instance root element.',this.vm),this.invalid=!0;else{var n=e.nextElementSibling;n&&null!==tt(n,"v-else")&&(ot(n),this.elseEl=n),this.anchor=yt("v-if"),at(e,this.anchor)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.factory||(this.factory=new be(this.vm,this.el)),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseEl&&!this.elseFrag&&(this.elseFactory||(this.elseFactory=new be(this.elseEl._context||this.vm,this.elseEl)),this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},go={bind:function(){var t=this.el.nextElementSibling;t&&null!==tt(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){function n(){t.style.display=e?"":"none"}K(t)?J(t,e?1:-1,n,this.vm):n()}},yo={bind:function(){var t=this,e=this.el,n="range"===e.type,i=this.params.lazy,r=this.params.number,o=this.params.debounce,s=!1;if(oi||n||(this.on("compositionstart",function(){s=!0}),this.on("compositionend",function(){s=!1,i||t.listener()})),this.focused=!1,n||i||(this.on("focus",function(){t.focused=!0}),this.on("blur",function(){t.focused=!1,t._frag&&!t._frag.inserted||t.rawListener()})),this.listener=this.rawListener=function(){if(!s&&t._bound){var i=r||n?u(e.value):e.value;t.set(i),di(function(){t._bound&&!t.focused&&t.update(t._watcher.value)})}},o&&(this.listener=w(this.listener,o)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var a=jQuery.fn.on?"on":"bind";jQuery(e)[a]("change",this.rawListener),i||jQuery(e)[a]("input",this.listener)}else this.on("change",this.rawListener),i||this.on("input",this.listener);!i&&ri&&(this.on("cut",function(){di(t.listener)}),this.on("keyup",function(e){46!==e.keyCode&&8!==e.keyCode||t.listener()})),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){t=a(t),t!==this.el.value&&(this.el.value=t)},unbind:function(){var t=this.el;if(this.hasjQuery){var e=jQuery.fn.off?"off":"unbind";jQuery(t)[e]("change",this.listener),jQuery(t)[e]("input",this.listener)}}},_o={bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var n=e.value;return t.params.number&&(n=u(n)),n},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){this.el.checked=E(t,this.getValue())}},bo={bind:function(){var t=this,e=this,n=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var i=this.multiple=n.hasAttribute("multiple");this.listener=function(){var t=Ce(n,i);t=e.params.number?Qn(t)?t.map(u):u(t):t,e.set(t)},this.on("change",this.listener);var r=Ce(n,i,!0);(i&&r.length||!i&&null!==r)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",function(){di(t.forceUpdate)}),K(n)||di(this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var n,i,r=this.multiple&&Qn(t),o=e.options,s=o.length;s--;)n=o[s],
i=n.hasOwnProperty("_value")?n._value:n.value,n.selected=r?$e(t,i)>-1:E(t,i)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},wo={bind:function(){function t(){var t=n.checked;return t&&n.hasOwnProperty("_trueValue")?n._trueValue:!t&&n.hasOwnProperty("_falseValue")?n._falseValue:t}var e=this,n=this.el;this.getValue=function(){return n.hasOwnProperty("_value")?n._value:e.params.number?u(n.value):n.value},this.listener=function(){var i=e._watcher.get();if(Qn(i)){var r=e.getValue(),o=x(i,r);n.checked?o<0&&e.set(i.concat(r)):o>-1&&e.set(i.slice(0,o).concat(i.slice(o+1)))}else e.set(t())},this.on("change",this.listener),n.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){var e=this.el;Qn(t)?e.checked=x(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=E(t,e._trueValue):e.checked=!!t}},xo={text:yo,radio:_o,select:bo,checkbox:wo},ko={priority:ro,twoWay:!0,handlers:xo,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite&&"production"!==t.env.NODE_ENV&&zi('It seems you are using a read-only filter with v-model="'+this.descriptor.raw+'". You might want to use a two-way filter to ensure correct behavior.',this.vm);var e,n=this.el,i=n.tagName;if("INPUT"===i)e=xo[n.type]||xo.text;else if("SELECT"===i)e=xo.select;else{if("TEXTAREA"!==i)return void("production"!==t.env.NODE_ENV&&zi("v-model does not support element type: "+i,this.vm));e=xo.text}n.__v_model=this,e.bind.call(this),this.update=e.update,this._unbind=e.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var n=Pt(this.vm.$options,"filters",t[e].name);("function"==typeof n||n.read)&&(this.hasRead=!0),n.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},Eo={esc:27,tab:9,enter:13,space:32,"delete":[8,46],up:38,left:37,right:39,down:40},Co={priority:io,acceptStatement:!0,keyCodes:Eo,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){ut(t.el.contentWindow,t.arg,t.handler,t.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(e){if(this.descriptor.raw||(e=function(){}),"function"!=typeof e)return void("production"!==t.env.NODE_ENV&&zi("v-on:"+this.arg+'="'+this.expression+'" expects a function value, got '+e,this.vm));this.modifiers.stop&&(e=Te(e)),this.modifiers.prevent&&(e=De(e)),this.modifiers.self&&(e=Ae(e));var n=Object.keys(this.modifiers).filter(function(t){return"stop"!==t&&"prevent"!==t&&"self"!==t&&"capture"!==t});n.length&&(e=Se(e,n)),this.reset(),this.handler=e,this.iframeBind?this.iframeBind():ut(this.el,this.arg,this.handler,this.modifiers.capture)},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&ct(t,this.arg,this.handler)},unbind:function(){this.reset()}},$o=["-webkit-","-moz-","-ms-"],So=["Webkit","Moz","ms"],To=/!important;?$/,Do=Object.create(null),Ao=null,jo={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:Qn(t)?this.handleObject(t.reduce(g,{})):this.handleObject(t||{})},handleObject:function(t){var e,n,i=this.cache||(this.cache={});for(e in i)e in t||(this.handleSingle(e,null),delete i[e]);for(e in t)n=t[e],n!==i[e]&&(i[e]=n,this.handleSingle(e,n))},handleSingle:function(e,n){if(e=je(e))if(null!=n&&(n+=""),n){var i=To.test(n)?"important":"";i?("production"!==t.env.NODE_ENV&&zi("It's probably a bad idea to use !important with inline rules. This feature will be deprecated in a future version of Vue."),n=n.replace(To,"").trim(),this.el.style.setProperty(e.kebab,n,i)):this.el.style[e.camel]=n}else this.el.style[e.camel]=""}},Po="http://www.w3.org/1999/xlink",Oo=/^xlink:/,No=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,Mo=/^(?:value|checked|selected|muted)$/,Lo=/^(?:draggable|contenteditable|spellcheck)$/,Io={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},Ro={priority:oo,bind:function(){var e=this.arg,n=this.el.tagName;e||(this.deep=!0);var i=this.descriptor,r=i.interp;if(r&&(i.hasOneTime&&(this.expression=z(r,this._scope||this.vm)),(No.test(e)||"name"===e&&("PARTIAL"===n||"SLOT"===n))&&("production"!==t.env.NODE_ENV&&zi(e+'="'+i.raw+'": attribute interpolation is not allowed in Vue.js directives and special attributes.',this.vm),this.el.removeAttribute(e),this.invalid=!0),"production"!==t.env.NODE_ENV)){var o=e+'="'+i.raw+'": ';"src"===e&&zi(o+'interpolation in "src" attribute will cause a 404 request. Use v-bind:src instead.',this.vm),"style"===e&&zi(o+'interpolation in "style" attribute will cause the attribute to be discarded in Internet Explorer. Use v-bind:style instead.',this.vm)}},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{})}},handleObject:jo.handleObject,handleSingle:function(t,e){var n=this.el,i=this.descriptor.interp;if(this.modifiers.camel&&(t=h(t)),!i&&Mo.test(t)&&t in n){var r="value"===t&&null==e?"":e;n[t]!==r&&(n[t]=r)}var o=Io[t];if(!i&&o){n[o]=e;var s=n.__v_model;s&&s.listener()}return"value"===t&&"TEXTAREA"===n.tagName?void n.removeAttribute(t):void(Lo.test(t)?n.setAttribute(t,e?"true":"false"):null!=e&&e!==!1?"class"===t?(n.__v_trans&&(e+=" "+n.__v_trans.id+"-transition"),ht(n,e)):Oo.test(t)?n.setAttributeNS(Po,t,e===!0?"":e):n.setAttribute(t,e===!0?"":e):n.removeAttribute(t))}},Fo={priority:ao,bind:function(){if(this.arg){var t=this.id=h(this.arg),e=(this._scope||this.vm).$els;r(e,t)?e[t]=this.el:Ft(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},Uo={bind:function(){"production"!==t.env.NODE_ENV&&zi("v-ref:"+this.arg+" must be used on a child component. Found on <"+this.el.tagName.toLowerCase()+">.",this.vm)}},qo={bind:function(){var t=this.el;this.vm.$once("pre-hook:compiled",function(){t.removeAttribute("v-cloak")})}},Vo={text:zr,html:eo,"for":mo,"if":vo,show:go,model:ko,on:Co,bind:Ro,el:Fo,ref:Uo,cloak:qo},Bo={deep:!0,update:function(t){t?"string"==typeof t?this.setClass(t.trim().split(/\s+/)):this.setClass(Oe(t)):this.cleanup()},setClass:function(t){this.cleanup(t);for(var e=0,n=t.length;e<n;e++){var i=t[e];i&&Ne(this.el,i,ft)}this.prevKeys=t},cleanup:function(t){var e=this.prevKeys;if(e)for(var n=e.length;n--;){var i=e[n];(!t||t.indexOf(i)<0)&&Ne(this.el,i,dt)}}},Ho={priority:uo,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__?"production"!==t.env.NODE_ENV&&zi('cannot mount component "'+this.expression+'" on already mounted element: '+this.el):(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=pt(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=yt("v-component"),at(this.el,this.anchor),this.el.removeAttribute("is"),this.el.removeAttribute(":is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+d(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var n=this;this.resolveComponent(t,function(){n.mountComponent(e)})}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var n=this;this.pendingComponentCb=k(function(i){n.ComponentName=i.options.name||("string"==typeof t?t:null),n.Component=i,e()}),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,n=this.Component.options.activate,i=this.getCached(),r=this.build();n&&!i?(this.waitingFor=r,Me(n,r,function(){e.waitingFor===r&&(e.waitingFor=null,e.transition(r,t))})):(i&&r._updateRef(),this.transition(r,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(e){var n=this.getCached();if(n)return n;if(this.Component){var i={name:this.ComponentName,el:he(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};e&&g(i,e);var r=new this.Component(i);return this.keepAlive&&(this.cache[this.Component.cid]=r),"production"!==t.env.NODE_ENV&&this.el.hasAttribute("transition")&&r._isFragment&&zi("Transitions will not work on a fragment instance. Template: "+r.$options.template,r),r}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.keepAlive||this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&(e._inactive=!0,e._updateRef(!0))):void e.$destroy(!1,t)},remove:function(t,e){var n=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var i=this;t.$remove(function(){i.pendingRemovals--,n||t._cleanup(),!i.pendingRemovals&&i.pendingRemovalCb&&(i.pendingRemovalCb(),i.pendingRemovalCb=null)})}else e&&e()},transition:function(t,e){var n=this,i=this.childVM;switch(i&&(i._inactive=!0),t._inactive=!1,this.childVM=t,n.params.transitionMode){case"in-out":t.$before(n.anchor,function(){n.remove(i,e)});break;case"out-in":n.remove(i,function(){t.$before(n.anchor,e)});break;default:n.remove(i),t.$before(n.anchor,e)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},zo=Hi._propBindingModes,Wo={},Yo=/^[$_a-zA-Z]+[\w$]*$/,Go=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\[[^\[\]]+\])*$/,Zo=Hi._propBindingModes,Xo={bind:function(){var t=this.vm,e=t._context,n=this.descriptor.prop,i=n.path,r=n.parentPath,o=n.mode===Zo.TWO_WAY,s=this.parentWatcher=new se(e,r,function(e){Ue(t,n,e)},{twoWay:o,filters:n.filters,scope:this._scope});if(Fe(t,n,s.value),o){var a=this;t.$once("pre-hook:created",function(){a.childWatcher=new se(t,i,function(t){s.set(t)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},Jo=[],Qo=!1,Ko="transition",ts="animation",es=ai+"Duration",ns=ci+"Duration",is=ti&&window.requestAnimationFrame,rs=is?function(t){is(function(){is(t)})}:function(t){setTimeout(t,50)},os=Ze.prototype;os.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,ft(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,Ye(this.enterNextTick))},os.enterNextTick=function(){var t=this;this.justEntered=!0,rs(function(){t.justEntered=!1});var e=this.enterDone,n=this.getCssTransitionType(this.enterClass);this.pendingJsCb?n===Ko&&dt(this.el,this.enterClass):n===Ko?(dt(this.el,this.enterClass),this.setupCssCb(ui,e)):n===ts?this.setupCssCb(li,e):e()},os.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,dt(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},os.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,ft(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():Ye(this.leaveNextTick)))},os.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===Ko?ui:li;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},os.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),dt(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},os.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,ct(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(dt(this.el,this.enterClass),dt(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},os.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},os.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=k(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},os.getCssTransitionType=function(t){if(!(!ui||document.hidden||this.hooks&&this.hooks.css===!1||Xe(this.el))){var e=this.type||this.typeCache[t];if(e)return e;var n=this.el.style,i=window.getComputedStyle(this.el),r=n[es]||i[es];if(r&&"0s"!==r)e=Ko;else{var o=n[ns]||i[ns];o&&"0s"!==o&&(e=ts)}return e&&(this.typeCache[t]=e),e}},os.setupCssCb=function(t,e){this.pendingCssEvent=t;var n=this,i=this.el,r=this.pendingCssCb=function(o){o.target===i&&(ct(i,t,r),n.pendingCssEvent=n.pendingCssCb=null,!n.pendingJsCb&&e&&e())};ut(i,t,r)};var ss={priority:so,update:function(t,e){var n=this.el,i=Pt(this.vm.$options,"transitions",t);t=t||"v",e=e||"v",n.__v_trans=new Ze(n,t,i,this.vm),dt(n,e+"-transition"),ft(n,t+"-transition")}},as={style:jo,"class":Bo,component:Ho,prop:Xo,transition:ss},us=/^v-bind:|^:/,cs=/^v-on:|^@/,ls=/^v-([^:]+)(?:$|:(.*)$)/,hs=/\.[^\.]+/g,fs=/^(v-bind:|:)?transition$/,ds=1e3,ps=2e3;vn.terminal=!0;var ms=/[^\w\-:\.]/,vs=Object.freeze({compile:Je,compileAndLinkProps:nn,compileRoot:rn,transclude:kn,resolveSlots:Sn}),gs=/^v-on:|^@/;Pn.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var n=e.attr||"v-"+t;this.el.removeAttribute(n)}var i=e.def;if("function"==typeof i?this.update=i:g(this,i),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var r=this;this.update?this._update=function(t,e){r._locked||r.update(t,e)}:this._update=jn;var o=this._preProcess?m(this._preProcess,this):null,s=this._postProcess?m(this._postProcess,this):null,a=this._watcher=new se(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:o,postProcess:s,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(a.value)}},Pn.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,n,i,r=t.length;r--;)e=d(t[r]),i=h(e),n=et(this.el,e),null!=n?this._setupParamWatcher(i,n):(n=tt(this.el,e),null!=n&&(this.params[i]=""===n||n))}},Pn.prototype._setupParamWatcher=function(t,e){var n=this,i=!1,r=(this._scope||this.vm).$watch(e,function(e,r){if(n.params[t]=e,i){var o=n.paramWatchers&&n.paramWatchers[t];o&&o.call(n,e,r)}else i=!0},{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(r)},Pn.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!ee(t)){var e=te(t).get,n=this._scope||this.vm,i=function(t){n.$event=t,e.call(n,n),n.$event=null};return this.filters&&(i=n._applyFilters(i,null,this.filters)),this.update(i),!0}},Pn.prototype.set=function(e){this.twoWay?this._withLock(function(){this._watcher.set(e)}):"production"!==t.env.NODE_ENV&&zi("Directive.set() can only be used inside twoWaydirectives.")},Pn.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),di(function(){e._locked=!1})},Pn.prototype.on=function(t,e,n){ut(this.el,t,e,n),(this._listeners||(this._listeners=[])).push([t,e])},Pn.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var e,n=this._listeners;if(n)for(e=n.length;e--;)ct(this.el,n[e][0],n[e][1]);var i=this._paramUnwatchFns;if(i)for(e=i.length;e--;)i[e]();"production"!==t.env.NODE_ENV&&this.el&&this.el._vue_directives.$remove(this),this.vm=this.el=this._watcher=this._listeners=null}};var ys=/[^|]\|[^|]/;Ut(Fn),Dn(Fn),An(Fn),On(Fn),Nn(Fn),Mn(Fn),Ln(Fn),In(Fn),Rn(Fn);var _s={priority:fo,params:["name"],bind:function(){var t=this.params.name||"default",e=this.vm._slotContents&&this.vm._slotContents[t];e&&e.hasChildNodes()?this.compile(e.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(t,e,n){if(t&&e){if(this.el.hasChildNodes()&&1===t.childNodes.length&&1===t.childNodes[0].nodeType&&t.childNodes[0].hasAttribute("v-if")){var i=document.createElement("template");i.setAttribute("v-else",""),i.innerHTML=this.el.innerHTML,i._context=this.vm,t.appendChild(i)}var r=n?n._scope:this._scope;this.unlink=e.$compile(t,n,r,this._frag)}t?at(this.el,t):ot(this.el)},fallback:function(){this.compile(pt(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},bs={priority:co,params:["name"],paramWatchers:{name:function(t){vo.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=yt("v-partial"),at(this.el,this.anchor),this.insert(this.params.name)},insert:function(t){var e=Pt(this.vm.$options,"partials",t,!0);e&&(this.factory=new be(this.vm,e),vo.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},ws={slot:_s,partial:bs},xs=mo._postProcess,ks=/(\d{3})(?=\d)/g,Es={orderBy:Vn,filterBy:qn,limitBy:Un,json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,arguments.length>1?e:2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var i=Math.abs(t).toFixed(n),r=n?i.slice(0,-1-n):i,o=r.length%3,s=o>0?r.slice(0,o)+(r.length>3?",":""):"",a=n?i.slice(-1-n):"",u=t<0?"-":"";return u+e+s+r.slice(o).replace(ks,"$1,")+a},pluralize:function(t){var e=v(arguments,1),n=e.length;if(n>1){var i=t%10-1;return i in e?e[i]:e[n-1]}return e[0]+(1===t?"":"s")},debounce:function(t,e){if(t)return e||(e=300),w(t,e)}};Hn(Fn),Fn.version="1.0.28",setTimeout(function(){Hi.devtools&&(ei?ei.emit("init",Fn):"production"!==t.env.NODE_ENV&&ti&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console.log("Download the Vue Devtools for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0),e.exports=Fn}).call(this,t("_process"))},{_process:82}],95:[function(t,e,n){"use strict";function i(t,e,n){var i=n[n.length-1];t===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(t);else if(o===e.length-2){var s=e.pop();r[s]=t}else e.push(t)}n.stringify=function(t){var e=[];e.push({obj:t});for(var n,i,r,o,s,a,u,c,l,h,f,d="";n=e.pop();)if(i=n.obj,r=n.prefix||"",o=n.val||"",d+=r,o)d+=o;else if("object"!=typeof i)d+="undefined"==typeof i?null:JSON.stringify(i);else if(null===i)d+="null";else if(Array.isArray(i)){for(e.push({val:"]"}),s=i.length-1;s>=0;s--)a=0===s?"":",",e.push({obj:i[s],prefix:a});e.push({val:"["})}else{u=[];for(c in i)i.hasOwnProperty(c)&&u.push(c);for(e.push({val:"}"}),s=u.length-1;s>=0;s--)l=u[s],h=i[l],f=s>0?",":"",f+=JSON.stringify(l)+":",e.push({obj:h,prefix:f});e.push({val:"{"})}return d},n.parse=function(t){for(var e,n,r,o,s,a,u,c,l,h=[],f=[],d=0;;)if(e=t[d++],"}"!==e&&"]"!==e&&"undefined"!=typeof e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,i(null,h,f);break;case"t":d+=3,i(!0,h,f);break;case"f":d+=4,i(!1,h,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(r=t[d++],!/[\d\.\-e\+]/.test(r)){d--;break}n+=r}i(parseFloat(n),h,f);break;case'"':for(o="",s=void 0,a=0;;){if(u=t[d++],'"'===u&&("\\"!==s||a%2!==1))break;o+=u,s=u,"\\"===s?a++:a=0}i(JSON.parse('"'+o+'"'),h,f);break;case"[":c={element:[],index:h.length},h.push(c.element),f.push(c);break;case"{":l={element:{},index:h.length},h.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===h.length)return h.pop();i(h.pop(),h,f)}}},{}],96:[function(t,e,n){var i=t("vue"),r=window.jQuery=window.$=t("jquery");t("./modules/utils/overlay");var o=t("toastr"),s=(t("./modules/app-vue"),t("./modules/support"));window.Vue=i,s.touch=!0,o.options={positionClass:"toast-top-left"};var a=t("./modules/survey");r(document).ready(function(){r("html").addClass("touch"),a.initializeSurvey(),r(".save-progress").click(function(){a.saveSession(!0)}),r("#close-button").click(function(){a.saveAndExit()}),r(".validate-form").on("click",function(){a.validate().then(function(){o.success("The data looks valid!"),r(".last-page").click()})["catch"](function(t){o.error(t.message?t.message:"An unknown error occured")})}),r(".first-page-alias").click(function(){r(".first-page").click()}),r(".last-page-alias").click(function(){r(".last-page").click()}),r(".submit-form").on("click",function(){return a.submit().then(function(){o.success("Your submission has been successfully saved on the device"),r(".submit-form").remove(),window.location="index.html"})["catch"](function(t){"redirected!"!=t.message&&o.error(t.message?t.message:"An unknown error occured")}),!1})})},{"./modules/app-vue":97,"./modules/support":108,"./modules/survey":109,"./modules/utils/overlay":110,jquery:72,toastr:85,vue:94}],97:[function(t,e,n){var i=t("vue"),r=(t("./session-modal"),new i({el:"#app",data:{showModal:!1,sessions:[]}}));e.exports=r},{"./session-modal":105,vue:94}],98:[function(t,e,n){var i=t("jquery"),r=t("bluebird"),o=t("./utils/query-params");e.exports=function(){var t={xml:null,draft:!1,submitted:!1,browser_mode:!0,instance_id:null,deprecated_id:null};return new r(function(e){return o.has("edit")?void i.getJSON(o.getPath("edit")).done(function(n){t.submitted=!0,t.xml=n.instance,t.instance_id=n.instance_id,t.deprecated_id=n.deprecated_id,e(t)}).fail(function(){throw new Error("Could not load the document")}):void e(t)})}},{"./utils/query-params":111,bluebird:6,jquery:72}],99:[function(t,e,n){var i=t("jquery"),r=t("angular"),o=(t("v-accordion"),r.module("app",["vAccordion"])),s=t("lodash");e.exports=function(t){o.controller("jumpCtrl",function(e){var n=[];e.pages={},e.search={label:""},i('[role="page"]').each(function(){var t=i(this),e=i(".question-label.active",t);e.each(function(){var e=i(this).text();if(!(e.length<2||"."!=e[1])){var r=e.indexOf(" "),o=s.filter(e.substr(0,r).split("."),function(t){return""!=t});n.push({el:t.children().first(),notations:o,label:e})}})}),s.each(n,function(t){if(s.set(e.pages,t.notations.join(".items."),t),t.notations.length>1){t.notations.pop();var n=t.notations.join(".items.");null==s.get(e.pages,n+".label",null)&&(s.set(e.pages,n+".label",t.label),s.set(e.pages,n+".el",t.el))}}),e.jump=function(n){e.accordion.collapseAll(),t.pages.flipToPageContaining(n.el),setTimeout(function(){i("#jump-to-block").overlay("hide")})},i("#jump-to-close").click(function(){e.accordion.collapseAll(),i("#jump-to-block").overlay("hide")})}),i("#jump-to-block").attr("ng-app","app").attr("ng-controller","jumpCtrl"),i("#jump-to").click(function(){i("#jump-to-block").overlay("show")}),i("#jump-to-block").hide(),r.bootstrap(document,["app"])}},{angular:2,jquery:72,lodash:75,"v-accordion":93}],100:[function(t,e,n){function i(t,e){function n(t){return t.content_type.indexOf("image/")!==-1&&!(t.length<a)}function i(e,n){return t.hasOwnProperty("browser_mode")?r.resolve(n):s.getAttachment(c,e)}function u(n,r){return i(n,r).then(function(t){return o.compress(t,{maxWidth:600,quality:.6,convertSize:999999999})}).then(function(i){t._attachments[n]={content_type:r.content_type,data:i},e&&(h.done=h.done+1,e(h))})}var c=t._id,l=t._attachments,h={total:0,done:0};this.process=function(){var e=[];for(var i in l)n(l[i])&&e.push({name:i,attachment:l[i]});return e.length?(h.total=e.length,r.reduce(e,function(t,e){return u(e.name,e.attachment)},null).then(function(){return t.hasOwnProperty("browser_mode")?t:s.update(t)})):r.resolve(t)}}var r=t("bluebird"),o=t("image-compressor.js"),s=t("./repositories/sessions-repository");o=new o;var a=3e5;e.exports=function(t,e){var n=new i(t,e);return n.process()}},{"./repositories/sessions-repository":103,bluebird:6,"image-compressor.js":68}],101:[function(t,e,n){var i=t("enketo-core/src/js/file-manager");e.exports=function(t){var e=i.getCurrentFiles();return $('form.or input[type="file"][data-loaded-file-name]').each(function(){e.push($(this).data("loaded-file-name"))}),t.files=e,Promise.resolve(t)}},{"enketo-core/src/js/file-manager":21}],102:[function(t,e,n){function i(t){var e=new o(t,{adapter:"idb",revs_limit:1,auto_compaction:!0});return e}function r(t){var e=i(t);this.all=function(){return e.allDocs({include_docs:!0}).then(function(t){return s.map(t.rows,function(t){return t.doc})})},this.create=function(t){return e.post(t).then(function(t){return e.get(t.id)})},this.update=function(t){return e.put(t).then(function(t){return e.get(t.id)})},this.get=function(t){return e.get(t)},this.remove=function(t){return e.remove(t)},this.attach=function(t,n,i){return e.putAttachment(t,n,i)},this.getAttachment=function(t,n){return e.getAttachment(t,n)}}var o=t("pouchdb"),s=t("lodash");window.PouchDB=o;var a={};e.exports={instance:function(t){return a.hasOwnProperty(t)||(a[t]=new r(t)),a[t]}}},{lodash:75,pouchdb:79}],103:[function(t,e,n){var i=t("./repository"),r=t("../utils/query-params"),o="sessions";r.has("db")&&(o=r.get("db")),e.exports=i.instance(o)},{"../utils/query-params":111,"./repository":102}],104:[function(t,e,n){var i=t("jquery"),r=t("lodash"),o=t("./submit"),s=t("./app-vue"),a=t("bluebird"),u=t("./optimizer"),c=t("./browser-session"),l=t("./utils/query-params"),h=t("./repositories/sessions-repository"),f={session:null,returnUrl:null,browserMode:!1,activeSessionIndex:null,activateBrowserMode:function(){var t=this;return this.browserMode=!0,this.returnUrl=l.getPath("return"),i(".save-progress").remove(),c().then(function(e){return t.session=e,e})},start:function(){var t=this;return l.has("online")?this.activateBrowserMode():this.loadSessions().then(function(){return new a(function(e){t.selectSession().then(function(n){t.session=n,s.$set("showModal",!1),setTimeout(function(){e(n)},50)})})})},selectSession:function(){var t=this;return s.$set("showModal",!0),new a(function(e){t.listenSessionEvents(e)})},listenSessionEvents:function(t){var e=this,n=document.getElementById("app");n.addEventListener("session:destroy",function(t){h.remove(t.detail.session).then(function(){return e.loadSessions()})}),n.addEventListener("session:load",function(e){t(e.detail.session)}),n.addEventListener("session:create",function(e){return h.create({name:e.detail.name,xml:"",submitted:!1,draft:!0,last_update:Date.now()}).then(function(e){t(e)})})},loadSessions:function(){return h.all().then(function(t){return t=r.filter(t,function(t){return t.draft}),s.$set("sessions",t),t})},getAttachments:function(t){var e=this,n={};return r.each(t,function(t){return"string"==typeof t?void(e.session.hasOwnProperty("_attachments")&&e.session._attachments.hasOwnProperty(t)&&(n[t]=e.session._attachments[t],n[t].stub=!0)):void(n[t.name]={content_type:t.type,data:t})}),n},save:function(t){var e=this;return this.session.xml=t.xml,this.session._attachments=this.getAttachments(t.files),this.session.instance_id=t.instance_id,this.session.deprecated_id=t.deprecated_id,this.browserMode?a.resolve(this.session):h.update(this.session).then(function(t){e.session=t})},optimize:function(t){var e=this;return u(this.session,t).then(function(t){e.session=t})},end:function(){return this.session.draft=!1,this.session.last_update=Date.now(),this.browserMode?o(l.getPath("online"),this.session).then(function(){throw window.location=this.returnUrl,new Error("redirected!")}.bind(this)):h.update(this.session)}};e.exports=f},{"./app-vue":97,"./browser-session":98,"./optimizer":100,"./repositories/sessions-repository":103,"./submit":107,"./utils/query-params":111,bluebird:6,jquery:72,lodash:75}],105:[function(t,e,n){function i(t,e){var n=new CustomEvent(t,{detail:e}),i=document.getElementById("app");i.dispatchEvent(n)}var r=t("vue"),o=t("moment");r.filter("timeAgo",function(t){return o(t).fromNow()}),e.exports=r.component("modal",{template:"#modal-template",data:function(){return{name:"",error:"",disabled:!1}},props:{show:{type:Boolean,required:!0,twoWay:!0},sessions:{type:Array,required:!0,twoWay:!1,"default":function(){return[]}}},methods:{destroy:function(t){confirm("Do you really want to delete this session")===!0&&i("session:destroy",{session:t})},load:function(t){i("session:load",{session:t})},create:function(){var t=this.name?this.name.trim():"";return""==t?void(this.error="Please name this session"):(this.disabled=!0,void i("session:create",{name:this.name}))}}})},{moment:77,vue:94}],106:[function(t,e,n){e.exports={show:function(t){$("#submit-progress-text").text(t),$("#submit-progress").overlay("show")},hide:function(){$("#submit-progress").overlay("hide")}}},{}],107:[function(t,e,n){var i=t("jquery"),r=t("lodash"),o=t("bluebird"),s=t("bluebird-queue"),a=(t("enketo-core/src/js/file-manager"),t("./repositories/sessions-repository")),u={form:function(t){var e=new FormData;return e.append("Date",(new Date).toUTCString()),e.append("xml_submission_file",new Blob([t.xml])),e},headers:function(t){return{"X-OpenRosa-Version":"1.0","X-OpenRosa-Deprecated-Id":t.deprecated_id,"X-OpenRosa-Instance-Id":t.instance_id}},chunks:function(t){var e=[[]],n=0,i=0,o=52428800;return r.each(t,function(t,r){i>=o&&(i=0,n++,e[n]=[]),e[n].push(r),i+=t.length}),e},loadChunk:function(t,e,n){return t.hasOwnProperty("browser_mode")?(r.each(e,function(e){n.append(e,t._attachments[e].data,e)}),o.resolve(!0)):o.all(r.map(e,function(e){return a.getAttachment(t._id,e).then(function(t){n.append(e,t,e)})}))},upload:function(t,e){var n=this,i=this.chunks(t._attachments),o=n.headers(t),a=new s({concurrency:1}),u=r.map(i,function(i){return function(){var r=n.form(t);return n.loadChunk(t,i,r).then(function(){return n.request(r,o,e)})}});return r.each(u,function(t){a.add(t)}),a.start()},request:function(t,e,n){var r=this;return new o(function(o,s){i.ajax(r.openrosaUrl,{type:"POST",data:t,cache:!1,contentType:!1,processData:!1,headers:e,xhr:function(){var t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;n&&n(e)}},!1),t}}).done(function(t,e,n){return 201==n.status||202==n.status?void o(t):void s("Submission was not successful!")}).fail(function(t,e,n){s(n)})})},setOpenrosaServer:function(t){this.openrosaUrl=t}};e.exports=function(t,e,n){return u.setOpenrosaServer(t),u.upload(e,n)}},{"./repositories/sessions-repository":103,bluebird:6,"bluebird-queue":4,"enketo-core/src/js/file-manager":21,jquery:72,lodash:75}],108:[function(t,e,n){if("object"==typeof n&&"string"!=typeof n.nodeName&&"function"!=typeof i)var i=function(i){i(t,n,e)};i(function(t,e,n){"use strict";var i={inputtypes:{}},r=["date","datetime","time"];r.forEach(function(t){var e=document.createElement("input");e.setAttribute("type",t),i.inputtypes[t]="text"!==e.type}),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?(i.touch=!0,document.documentElement.classList.add("touch")):i.touch=!1,n.exports=i})},{}],109:[function(t,e,n){var i=t("toastr"),r=t("bluebird"),o=t("enketo-core/src/js/Form"),s=t("./utils/query-params"),a=t("./record-files"),u=t("./submit-progress"),c=t("./jump-to"),l=t("./session-manager"),h=$(".form-header"),f={form:null,formId:null,autoSave:null,saving:null,validating:null,initializeSurvey:function(){var t=this;return new r(function(e,n){t.loadSurvey().then(function(n){var i=t.modifySurvey(n.form),r=n.model;h.after(i),l.start().then(function(n){t.initializeForm(r,n.xml,n.submitted),t.formId=$("form").attr("id"),c(t.form),t.modifyUI(),t.subscribeProgress(),t.preventAccidentalLeave(),t.toggleAutosave(!0),h.show(),setTimeout(function(){$("#loading-block").remove(),$(window).scrollTop(0),e()})})})})},toggleAutosave:function(t){if(this.autoSave&&clearInterval(this.autoSave),
t){var e=this;this.autoSave=setInterval(function(){e.saveSession()},6e4)}},loadSurvey:function(){return new r(function(t,e){$.getJSON(s.getPath("json"),function(e){e.form=e.form.replace(/jr:\/\/images\/https:\/\/www.dropbox.com\/s\/.*?\//g,"assets/"),t(e)})})},localizeForm:function(){s.has("lang")&&i18n.set(s.get("lang"));var t=i18n.get();this.form.langs.setAll(t)},initializeForm:function(t,e,n){this.form=new o("form.or:eq(0)",{modelStr:t,instanceStr:e,submitted:void 0!=n&&n});var i=this.form.init();if(i.length)throw console.log(i),new Error("The form could not be initialized");this.localizeForm()},modifySurvey:function(t){return t},customNextPage:function(){var t,e,n,i=this.form.pages;i.updateAllActive(),t=i.getCurrentIndex(),e=i.getNext(t),n=t+1,i.flipTo(e,n)},modifyUI:function(){$("#submit-progress").hide(),$("<br />").insertAfter("#form-title"),$("#form-title").detach().insertAfter(".form-header .pull-right"),$('input[type="file"]').attr("capture","camera"),$('select[multiple=multiple] option[value=""]').remove(),$(".next-page").off("click").click(function(t){this.customNextPage()}.bind(this))},subscribeProgress:function(){var t=$(".form-progress");$(document).on("progressupdate.enketo","form.or",function(e,n){t.length>0&&t.css("width",n+"%")})},preventAccidentalLeave:function(){window.onbeforeunload=function(t){return i18n._("survey.leave")}},stopLeaveCheck:function(){window.onbeforeunload=null},validate:function(){function t(){return $(".submit-form").attr("disabled","disabled").html("Validating..."),new r(function(t){setTimeout(t)})}if(this.validating)return this.validating;if(s.has("novalidate"))return r.resolve(!0);var e=$(".submit-form").html(),n=this;return this.validating=t().then(function(){return n.form.validate()}).then(function(t){return n.validating=null,$(".submit-form").html(e).removeAttr("disabled"),t}).then(function(t){if(!t)throw new Error("Validation failed")}),this.validating},submit:function(){var t=this;return this.validate().then(function(){return t.toggleAutosave(!1),u.show("Saving your session..."),t.saveSession()}).then(function(){return u.show("Optimizing attachments..."),l.optimize(function(t){u.show("Optimizing attachments "+t.done+"/"+t.total)})}).then(function(){return u.show("Finalizing your submission..."),t.stopLeaveCheck(),l.end()})["catch"](function(e){if("redirected!"==e.message)throw e;throw console.error(e),setTimeout(function(){u.hide(),t.toggleAutosave(!0)},250),new Error(i18n._("survey.errors"))})},getRecord:function(){return r.resolve({instance_id:this.form.instanceID,deprecated_id:this.form.deprecatedID,xml:this.form.getDataStr()})},finishSaving:function(t,e){this.saving=null;var n=$(".save-progress");n.html('<i class="fa fa-save"></i>'),n.removeAttr("disabled","disabled"),e&&i[t](e)},saveSession:function(t){if(null!==this.saving)return this.saving;var e=this,n=$(".save-progress");return n.html('<i class="fa fa-spinner fa-spin"></i>'),n.attr("disabled","disabled"),this.getRecord().then(a).then(function(t){return l.save(t)}).then(function(){e.finishSaving("success",t?i18n._("survey.saved"):null)})["catch"](function(t){throw e.finishSaving("error","An error occured while saving this sesssion..."),t})},saveAndExit:function(){this.saveSession(!1).then(function(){var t=l.browserMode?l.returnUrl:"index.html";window.location=t})}};e.exports=f},{"./jump-to":99,"./record-files":101,"./session-manager":104,"./submit-progress":106,"./utils/query-params":111,bluebird:6,"enketo-core/src/js/Form":13,toastr:85}],110:[function(t,e,n){e.exports=function(){function t(t){$(window).scrollTop(0),setTimeout(function(){n.addClass("noScroll"),t.show()})}function e(t){n.removeClass("noScroll"),t.hide()}var n=$("body");$.fn.overlay=$.fn.overlay=function(n){switch(n){case"show":t(this);break;case"hide":e(this);break;default:throw new Exception("Unknown action. Either use show or hide.")}return this}}()},{}],111:[function(t,e,n){var i=t("url-search-params"),r=new i(window.location.search);r.getPath=function(t){var e="";return r.has("base")&&(e=r.get("base")+"/"),e+r.get(t)},e.exports=r},{"url-search-params":86}]},{},[96]);